var AJ=Object.defineProperty;var G$=r=>{throw TypeError(r)};var EJ=(r,e,t)=>e in r?AJ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var he=(r,e,t)=>EJ(r,typeof e!="symbol"?e+"":e,t),eC=(r,e,t)=>e.has(r)||G$("Cannot "+t);var p=(r,e,t)=>(eC(r,e,"read from private field"),t?t.call(r):e.get(r)),I=(r,e,t)=>e.has(r)?G$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),O=(r,e,t,n)=>(eC(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),D=(r,e,t)=>(eC(r,e,"access private method"),t);var Hr=(r,e,t,n)=>({set _(i){O(r,e,i,t)},get _(){return p(r,e,n)}});function kJ(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const CJ="modulepreload",TJ=function(r){return"/MY-APP/"+r},K$={},M_=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let a=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(t.map(c=>{if(c=TJ(c),c in K$)return;K$[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":CJ,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((g,x)=>{m.addEventListener("load",g),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};var Jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $t(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var tC={exports:{}},Nv={},rC={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y$;function PJ(){if(Y$)return nt;Y$=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function m(q){return q===null||typeof q!="object"?null:(q=f&&q[f]||q["@@iterator"],typeof q=="function"?q:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function b(q,Y,re){this.props=q,this.context=Y,this.refs=y,this.updater=re||g}b.prototype.isReactComponent={},b.prototype.setState=function(q,Y){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Y,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function _(){}_.prototype=b.prototype;function E(q,Y,re){this.props=q,this.context=Y,this.refs=y,this.updater=re||g}var A=E.prototype=new _;A.constructor=E,x(A,b.prototype),A.isPureReactComponent=!0;var C=Array.isArray,k=Object.prototype.hasOwnProperty,P={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function M(q,Y,re){var ue,me={},ge=null,oe=null;if(Y!=null)for(ue in Y.ref!==void 0&&(oe=Y.ref),Y.key!==void 0&&(ge=""+Y.key),Y)k.call(Y,ue)&&!j.hasOwnProperty(ue)&&(me[ue]=Y[ue]);var we=arguments.length-2;if(we===1)me.children=re;else if(1<we){for(var le=Array(we),pe=0;pe<we;pe++)le[pe]=arguments[pe+2];me.children=le}if(q&&q.defaultProps)for(ue in we=q.defaultProps,we)me[ue]===void 0&&(me[ue]=we[ue]);return{$$typeof:r,type:q,key:ge,ref:oe,props:me,_owner:P.current}}function $(q,Y){return{$$typeof:r,type:q.type,key:Y,ref:q.ref,props:q.props,_owner:q._owner}}function U(q){return typeof q=="object"&&q!==null&&q.$$typeof===r}function F(q){var Y={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(re){return Y[re]})}var z=/\/+/g;function V(q,Y){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):Y.toString(36)}function X(q,Y,re,ue,me){var ge=typeof q;(ge==="undefined"||ge==="boolean")&&(q=null);var oe=!1;if(q===null)oe=!0;else switch(ge){case"string":case"number":oe=!0;break;case"object":switch(q.$$typeof){case r:case e:oe=!0}}if(oe)return oe=q,me=me(oe),q=ue===""?"."+V(oe,0):ue,C(me)?(re="",q!=null&&(re=q.replace(z,"$&/")+"/"),X(me,Y,re,"",function(pe){return pe})):me!=null&&(U(me)&&(me=$(me,re+(!me.key||oe&&oe.key===me.key?"":(""+me.key).replace(z,"$&/")+"/")+q)),Y.push(me)),1;if(oe=0,ue=ue===""?".":ue+":",C(q))for(var we=0;we<q.length;we++){ge=q[we];var le=ue+V(ge,we);oe+=X(ge,Y,re,le,me)}else if(le=m(q),typeof le=="function")for(q=le.call(q),we=0;!(ge=q.next()).done;)ge=ge.value,le=ue+V(ge,we++),oe+=X(ge,Y,re,le,me);else if(ge==="object")throw Y=String(q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return oe}function J(q,Y,re){if(q==null)return q;var ue=[],me=0;return X(q,ue,"","",function(ge){return Y.call(re,ge,me++)}),ue}function H(q){if(q._status===-1){var Y=q._result;Y=Y(),Y.then(function(re){(q._status===0||q._status===-1)&&(q._status=1,q._result=re)},function(re){(q._status===0||q._status===-1)&&(q._status=2,q._result=re)}),q._status===-1&&(q._status=0,q._result=Y)}if(q._status===1)return q._result.default;throw q._result}var G={current:null},B={transition:null},ee={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:B,ReactCurrentOwner:P};function ne(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:J,forEach:function(q,Y,re){J(q,function(){Y.apply(this,arguments)},re)},count:function(q){var Y=0;return J(q,function(){Y++}),Y},toArray:function(q){return J(q,function(Y){return Y})||[]},only:function(q){if(!U(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},nt.Component=b,nt.Fragment=t,nt.Profiler=i,nt.PureComponent=E,nt.StrictMode=n,nt.Suspense=l,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,nt.act=ne,nt.cloneElement=function(q,Y,re){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ue=x({},q.props),me=q.key,ge=q.ref,oe=q._owner;if(Y!=null){if(Y.ref!==void 0&&(ge=Y.ref,oe=P.current),Y.key!==void 0&&(me=""+Y.key),q.type&&q.type.defaultProps)var we=q.type.defaultProps;for(le in Y)k.call(Y,le)&&!j.hasOwnProperty(le)&&(ue[le]=Y[le]===void 0&&we!==void 0?we[le]:Y[le])}var le=arguments.length-2;if(le===1)ue.children=re;else if(1<le){we=Array(le);for(var pe=0;pe<le;pe++)we[pe]=arguments[pe+2];ue.children=we}return{$$typeof:r,type:q.type,key:me,ref:ge,props:ue,_owner:oe}},nt.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},nt.createElement=M,nt.createFactory=function(q){var Y=M.bind(null,q);return Y.type=q,Y},nt.createRef=function(){return{current:null}},nt.forwardRef=function(q){return{$$typeof:o,render:q}},nt.isValidElement=U,nt.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:H}},nt.memo=function(q,Y){return{$$typeof:c,type:q,compare:Y===void 0?null:Y}},nt.startTransition=function(q){var Y=B.transition;B.transition={};try{q()}finally{B.transition=Y}},nt.unstable_act=ne,nt.useCallback=function(q,Y){return G.current.useCallback(q,Y)},nt.useContext=function(q){return G.current.useContext(q)},nt.useDebugValue=function(){},nt.useDeferredValue=function(q){return G.current.useDeferredValue(q)},nt.useEffect=function(q,Y){return G.current.useEffect(q,Y)},nt.useId=function(){return G.current.useId()},nt.useImperativeHandle=function(q,Y,re){return G.current.useImperativeHandle(q,Y,re)},nt.useInsertionEffect=function(q,Y){return G.current.useInsertionEffect(q,Y)},nt.useLayoutEffect=function(q,Y){return G.current.useLayoutEffect(q,Y)},nt.useMemo=function(q,Y){return G.current.useMemo(q,Y)},nt.useReducer=function(q,Y,re){return G.current.useReducer(q,Y,re)},nt.useRef=function(q){return G.current.useRef(q)},nt.useState=function(q){return G.current.useState(q)},nt.useSyncExternalStore=function(q,Y,re){return G.current.useSyncExternalStore(q,Y,re)},nt.useTransition=function(){return G.current.useTransition()},nt.version="18.3.1",nt}var X$;function fI(){return X$||(X$=1,rC.exports=PJ()),rC.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J$;function OJ(){if(J$)return Nv;J$=1;var r=fI(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var d,f={},m=null,g=null;c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(g=l.ref);for(d in l)n.call(l,d)&&!s.hasOwnProperty(d)&&(f[d]=l[d]);if(o&&o.defaultProps)for(d in l=o.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:e,type:o,key:m,ref:g,props:f,_owner:i.current}}return Nv.Fragment=t,Nv.jsx=a,Nv.jsxs=a,Nv}var Q$;function NJ(){return Q$||(Q$=1,tC.exports=OJ()),tC.exports}var w=NJ(),Qx={},nC={exports:{}},yi={},iC={exports:{}},sC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z$;function RJ(){return Z$||(Z$=1,(function(r){function e(B,ee){var ne=B.length;B.push(ee);e:for(;0<ne;){var q=ne-1>>>1,Y=B[q];if(0<i(Y,ee))B[q]=ee,B[ne]=Y,ne=q;else break e}}function t(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var ee=B[0],ne=B.pop();if(ne!==ee){B[0]=ne;e:for(var q=0,Y=B.length,re=Y>>>1;q<re;){var ue=2*(q+1)-1,me=B[ue],ge=ue+1,oe=B[ge];if(0>i(me,ne))ge<Y&&0>i(oe,me)?(B[q]=oe,B[ge]=ne,q=ge):(B[q]=me,B[ue]=ne,q=ue);else if(ge<Y&&0>i(oe,ne))B[q]=oe,B[ge]=ne,q=ge;else break e}}return ee}function i(B,ee){var ne=B.sortIndex-ee.sortIndex;return ne!==0?ne:B.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,m=3,g=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(B){for(var ee=t(c);ee!==null;){if(ee.callback===null)n(c);else if(ee.startTime<=B)n(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=t(c)}}function C(B){if(y=!1,A(B),!x)if(t(l)!==null)x=!0,H(k);else{var ee=t(c);ee!==null&&G(C,ee.startTime-B)}}function k(B,ee){x=!1,y&&(y=!1,_(M),M=-1),g=!0;var ne=m;try{for(A(ee),f=t(l);f!==null&&(!(f.expirationTime>ee)||B&&!F());){var q=f.callback;if(typeof q=="function"){f.callback=null,m=f.priorityLevel;var Y=q(f.expirationTime<=ee);ee=r.unstable_now(),typeof Y=="function"?f.callback=Y:f===t(l)&&n(l),A(ee)}else n(l);f=t(l)}if(f!==null)var re=!0;else{var ue=t(c);ue!==null&&G(C,ue.startTime-ee),re=!1}return re}finally{f=null,m=ne,g=!1}}var P=!1,j=null,M=-1,$=5,U=-1;function F(){return!(r.unstable_now()-U<$)}function z(){if(j!==null){var B=r.unstable_now();U=B;var ee=!0;try{ee=j(!0,B)}finally{ee?V():(P=!1,j=null)}}else P=!1}var V;if(typeof E=="function")V=function(){E(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=z,V=function(){J.postMessage(null)}}else V=function(){b(z,0)};function H(B){j=B,P||(P=!0,V())}function G(B,ee){M=b(function(){B(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_continueExecution=function(){x||g||(x=!0,H(k))},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return m},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(B){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var ne=m;m=ee;try{return B()}finally{m=ne}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(B,ee){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ne=m;m=B;try{return ee()}finally{m=ne}},r.unstable_scheduleCallback=function(B,ee,ne){var q=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?q+ne:q):ne=q,B){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ne+Y,B={id:d++,callback:ee,priorityLevel:B,startTime:ne,expirationTime:Y,sortIndex:-1},ne>q?(B.sortIndex=ne,e(c,B),t(l)===null&&B===t(c)&&(y?(_(M),M=-1):y=!0,G(C,ne-q))):(B.sortIndex=Y,e(l,B),x||g||(x=!0,H(k))),B},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(B){var ee=m;return function(){var ne=m;m=ee;try{return B.apply(this,arguments)}finally{m=ne}}}})(sC)),sC}var eF;function jJ(){return eF||(eF=1,iC.exports=RJ()),iC.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tF;function IJ(){if(tF)return yi;tF=1;var r=fI(),e=jJ();function t(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(u,h){a(u,h),a(u+"Capture",h)}function a(u,h){for(i[u]=h,u=0;u<h.length;u++)n.add(h[u])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(u){return l.call(f,u)?!0:l.call(d,u)?!1:c.test(u)?f[u]=!0:(d[u]=!0,!1)}function g(u,h,v,S){if(v!==null&&v.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return S?!1:v!==null?!v.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function x(u,h,v,S){if(h===null||typeof h>"u"||g(u,h,v,S))return!0;if(S)return!1;if(v!==null)switch(v.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function y(u,h,v,S,T,N,L){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=S,this.attributeNamespace=T,this.mustUseProperty=v,this.propertyName=u,this.type=h,this.sanitizeURL=N,this.removeEmptyString=L}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){b[u]=new y(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];b[h]=new y(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){b[u]=new y(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){b[u]=new y(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){b[u]=new y(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){b[u]=new y(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){b[u]=new y(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){b[u]=new y(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){b[u]=new y(u,5,!1,u.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(_,E);b[h]=new y(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(_,E);b[h]=new y(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(_,E);b[h]=new y(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){b[u]=new y(u,1,!1,u.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){b[u]=new y(u,1,!1,u.toLowerCase(),null,!0,!0)});function A(u,h,v,S){var T=b.hasOwnProperty(h)?b[h]:null;(T!==null?T.type!==0:S||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(x(h,v,T,S)&&(v=null),S||T===null?m(h)&&(v===null?u.removeAttribute(h):u.setAttribute(h,""+v)):T.mustUseProperty?u[T.propertyName]=v===null?T.type===3?!1:"":v:(h=T.attributeName,S=T.attributeNamespace,v===null?u.removeAttribute(h):(T=T.type,v=T===3||T===4&&v===!0?"":""+v,S?u.setAttributeNS(S,h,v):u.setAttribute(h,v))))}var C=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),P=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),B=Symbol.iterator;function ee(u){return u===null||typeof u!="object"?null:(u=B&&u[B]||u["@@iterator"],typeof u=="function"?u:null)}var ne=Object.assign,q;function Y(u){if(q===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);q=h&&h[1]||""}return`
`+q+u}var re=!1;function ue(u,h){if(!u||re)return"";re=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(se){var S=se}Reflect.construct(u,[],h)}else{try{h.call()}catch(se){S=se}u.call(h.prototype)}else{try{throw Error()}catch(se){S=se}u()}}catch(se){if(se&&S&&typeof se.stack=="string"){for(var T=se.stack.split(`
`),N=S.stack.split(`
`),L=T.length-1,K=N.length-1;1<=L&&0<=K&&T[L]!==N[K];)K--;for(;1<=L&&0<=K;L--,K--)if(T[L]!==N[K]){if(L!==1||K!==1)do if(L--,K--,0>K||T[L]!==N[K]){var Q=`
`+T[L].replace(" at new "," at ");return u.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",u.displayName)),Q}while(1<=L&&0<=K);break}}}finally{re=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?Y(u):""}function me(u){switch(u.tag){case 5:return Y(u.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return u=ue(u.type,!1),u;case 11:return u=ue(u.type.render,!1),u;case 1:return u=ue(u.type,!0),u;default:return""}}function ge(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case j:return"Fragment";case P:return"Portal";case $:return"Profiler";case M:return"StrictMode";case V:return"Suspense";case X:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case F:return(u.displayName||"Context")+".Consumer";case U:return(u._context.displayName||"Context")+".Provider";case z:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case J:return h=u.displayName||null,h!==null?h:ge(u.type)||"Memo";case H:h=u._payload,u=u._init;try{return ge(u(h))}catch{}}return null}function oe(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(h);case 8:return h===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function we(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function le(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function pe(u){var h=le(u)?"checked":"value",v=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),S=""+u[h];if(!u.hasOwnProperty(h)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var T=v.get,N=v.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return T.call(this)},set:function(L){S=""+L,N.call(this,L)}}),Object.defineProperty(u,h,{enumerable:v.enumerable}),{getValue:function(){return S},setValue:function(L){S=""+L},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function be(u){u._valueTracker||(u._valueTracker=pe(u))}function ae(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var v=h.getValue(),S="";return u&&(S=le(u)?u.checked?"true":"false":u.value),u=S,u!==v?(h.setValue(u),!0):!1}function We(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function De(u,h){var v=h.checked;return ne({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??u._wrapperState.initialChecked})}function xt(u,h){var v=h.defaultValue==null?"":h.defaultValue,S=h.checked!=null?h.checked:h.defaultChecked;v=we(h.value!=null?h.value:v),u._wrapperState={initialChecked:S,initialValue:v,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function gt(u,h){h=h.checked,h!=null&&A(u,"checked",h,!1)}function _t(u,h){gt(u,h);var v=we(h.value),S=h.type;if(v!=null)S==="number"?(v===0&&u.value===""||u.value!=v)&&(u.value=""+v):u.value!==""+v&&(u.value=""+v);else if(S==="submit"||S==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?Jt(u,h.type,v):h.hasOwnProperty("defaultValue")&&Jt(u,h.type,we(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function In(u,h,v){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var S=h.type;if(!(S!=="submit"&&S!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,v||h===u.value||(u.value=h),u.defaultValue=h}v=u.name,v!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,v!==""&&(u.name=v)}function Jt(u,h,v){(h!=="number"||We(u.ownerDocument)!==u)&&(v==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+v&&(u.defaultValue=""+v))}var ys=Array.isArray;function Mn(u,h,v,S){if(u=u.options,h){h={};for(var T=0;T<v.length;T++)h["$"+v[T]]=!0;for(v=0;v<u.length;v++)T=h.hasOwnProperty("$"+u[v].value),u[v].selected!==T&&(u[v].selected=T),T&&S&&(u[v].defaultSelected=!0)}else{for(v=""+we(v),h=null,T=0;T<u.length;T++){if(u[T].value===v){u[T].selected=!0,S&&(u[T].defaultSelected=!0);return}h!==null||u[T].disabled||(h=u[T])}h!==null&&(h.selected=!0)}}function Qt(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Ri(u,h){var v=h.value;if(v==null){if(v=h.children,h=h.defaultValue,v!=null){if(h!=null)throw Error(t(92));if(ys(v)){if(1<v.length)throw Error(t(93));v=v[0]}h=v}h==null&&(h=""),v=h}u._wrapperState={initialValue:we(v)}}function Ku(u,h){var v=we(h.value),S=we(h.defaultValue);v!=null&&(v=""+v,v!==u.value&&(u.value=v),h.defaultValue==null&&u.defaultValue!==v&&(u.defaultValue=v)),S!=null&&(u.defaultValue=""+S)}function Yu(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function Xu(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gg(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?Xu(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Ju,yf=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,v,S,T){MSApp.execUnsafeLocalFunction(function(){return u(h,v,S,T)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(Ju=Ju||document.createElement("div"),Ju.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Ju.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function bs(u,h){if(h){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=h;return}}u.textContent=h}var nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ic=["Webkit","ms","Moz","O"];Object.keys(nc).forEach(function(u){ic.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),nc[h]=nc[u]})});function qw(u,h,v){return h==null||typeof h=="boolean"||h===""?"":v||typeof h!="number"||h===0||nc.hasOwnProperty(u)&&nc[u]?(""+h).trim():h+"px"}function Hw(u,h){u=u.style;for(var v in h)if(h.hasOwnProperty(v)){var S=v.indexOf("--")===0,T=qw(v,h[v],S);v==="float"&&(v="cssFloat"),S?u.setProperty(v,T):u[v]=T}}var Ww=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bf(u,h){if(h){if(Ww[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(t(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(t(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(t(61))}if(h.style!=null&&typeof h.style!="object")throw Error(t(62))}}function Kg(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=null;function ws(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Yg=null,sc=null,Mo=null;function Xg(u){if(u=gv(u)){if(typeof Yg!="function")throw Error(t(280));var h=u.stateNode;h&&(h=hx(h),Yg(u.stateNode,u.type,h))}}function Ke(u){sc?Mo?Mo.push(u):Mo=[u]:sc=u}function Cr(){if(sc){var u=sc,h=Mo;if(Mo=sc=null,Xg(u),h)for(u=0;u<h.length;u++)Xg(h[u])}}function Ur(u,h){return u(h)}function Dn(){}var ac=!1;function Rr(u,h,v){if(ac)return u(h,v);ac=!0;try{return Ur(u,h,v)}finally{ac=!1,(sc!==null||Mo!==null)&&(Dn(),Cr())}}function rn(u,h){var v=u.stateNode;if(v===null)return null;var S=hx(v);if(S===null)return null;v=S[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(t(231,h,typeof v));return v}var oc=!1;if(o)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){oc=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{oc=!1}function ji(u,h,v,S,T,N,L,K,Q){var se=Array.prototype.slice.call(arguments,3);try{h.apply(v,se)}catch(fe){this.onError(fe)}}var lc=!1,xs=null,Jg=!1,bE=null,NY={onError:function(u){lc=!0,xs=u}};function RY(u,h,v,S,T,N,L,K,Q){lc=!1,xs=null,ji.apply(NY,arguments)}function jY(u,h,v,S,T,N,L,K,Q){if(RY.apply(this,arguments),lc){if(lc){var se=xs;lc=!1,xs=null}else throw Error(t(198));Jg||(Jg=!0,bE=se)}}function Zu(u){var h=u,v=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(v=h.return),u=h.return;while(u)}return h.tag===3?v:null}function gD(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function vD(u){if(Zu(u)!==u)throw Error(t(188))}function IY(u){var h=u.alternate;if(!h){if(h=Zu(u),h===null)throw Error(t(188));return h!==u?null:u}for(var v=u,S=h;;){var T=v.return;if(T===null)break;var N=T.alternate;if(N===null){if(S=T.return,S!==null){v=S;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===v)return vD(T),u;if(N===S)return vD(T),h;N=N.sibling}throw Error(t(188))}if(v.return!==S.return)v=T,S=N;else{for(var L=!1,K=T.child;K;){if(K===v){L=!0,v=T,S=N;break}if(K===S){L=!0,S=T,v=N;break}K=K.sibling}if(!L){for(K=N.child;K;){if(K===v){L=!0,v=N,S=T;break}if(K===S){L=!0,S=N,v=T;break}K=K.sibling}if(!L)throw Error(t(189))}}if(v.alternate!==S)throw Error(t(190))}if(v.tag!==3)throw Error(t(188));return v.stateNode.current===v?u:h}function yD(u){return u=IY(u),u!==null?bD(u):null}function bD(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=bD(u);if(h!==null)return h;u=u.sibling}return null}var wD=e.unstable_scheduleCallback,xD=e.unstable_cancelCallback,MY=e.unstable_shouldYield,DY=e.unstable_requestPaint,Tr=e.unstable_now,LY=e.unstable_getCurrentPriorityLevel,wE=e.unstable_ImmediatePriority,_D=e.unstable_UserBlockingPriority,Vw=e.unstable_NormalPriority,$Y=e.unstable_LowPriority,SD=e.unstable_IdlePriority,Gw=null,La=null;function FY(u){if(La&&typeof La.onCommitFiberRoot=="function")try{La.onCommitFiberRoot(Gw,u,void 0,(u.current.flags&128)===128)}catch{}}var ea=Math.clz32?Math.clz32:zY,BY=Math.log,UY=Math.LN2;function zY(u){return u>>>=0,u===0?32:31-(BY(u)/UY|0)|0}var Kw=64,Yw=4194304;function Qg(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Xw(u,h){var v=u.pendingLanes;if(v===0)return 0;var S=0,T=u.suspendedLanes,N=u.pingedLanes,L=v&268435455;if(L!==0){var K=L&~T;K!==0?S=Qg(K):(N&=L,N!==0&&(S=Qg(N)))}else L=v&~T,L!==0?S=Qg(L):N!==0&&(S=Qg(N));if(S===0)return 0;if(h!==0&&h!==S&&(h&T)===0&&(T=S&-S,N=h&-h,T>=N||T===16&&(N&4194240)!==0))return h;if((S&4)!==0&&(S|=v&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=S;0<h;)v=31-ea(h),T=1<<v,S|=u[v],h&=~T;return S}function qY(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HY(u,h){for(var v=u.suspendedLanes,S=u.pingedLanes,T=u.expirationTimes,N=u.pendingLanes;0<N;){var L=31-ea(N),K=1<<L,Q=T[L];Q===-1?((K&v)===0||(K&S)!==0)&&(T[L]=qY(K,h)):Q<=h&&(u.expiredLanes|=K),N&=~K}}function xE(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function AD(){var u=Kw;return Kw<<=1,(Kw&4194240)===0&&(Kw=64),u}function _E(u){for(var h=[],v=0;31>v;v++)h.push(u);return h}function Zg(u,h,v){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-ea(h),u[h]=v}function WY(u,h){var v=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<v;){var T=31-ea(v),N=1<<T;h[T]=0,S[T]=-1,u[T]=-1,v&=~N}}function SE(u,h){var v=u.entangledLanes|=h;for(u=u.entanglements;v;){var S=31-ea(v),T=1<<S;T&h|u[S]&h&&(u[S]|=h),v&=~T}}var Ct=0;function ED(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var kD,AE,CD,TD,PD,EE=!1,Jw=[],cc=null,uc=null,dc=null,ev=new Map,tv=new Map,hc=[],VY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OD(u,h){switch(u){case"focusin":case"focusout":cc=null;break;case"dragenter":case"dragleave":uc=null;break;case"mouseover":case"mouseout":dc=null;break;case"pointerover":case"pointerout":ev.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":tv.delete(h.pointerId)}}function rv(u,h,v,S,T,N){return u===null||u.nativeEvent!==N?(u={blockedOn:h,domEventName:v,eventSystemFlags:S,nativeEvent:N,targetContainers:[T]},h!==null&&(h=gv(h),h!==null&&AE(h)),u):(u.eventSystemFlags|=S,h=u.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),u)}function GY(u,h,v,S,T){switch(h){case"focusin":return cc=rv(cc,u,h,v,S,T),!0;case"dragenter":return uc=rv(uc,u,h,v,S,T),!0;case"mouseover":return dc=rv(dc,u,h,v,S,T),!0;case"pointerover":var N=T.pointerId;return ev.set(N,rv(ev.get(N)||null,u,h,v,S,T)),!0;case"gotpointercapture":return N=T.pointerId,tv.set(N,rv(tv.get(N)||null,u,h,v,S,T)),!0}return!1}function ND(u){var h=ed(u.target);if(h!==null){var v=Zu(h);if(v!==null){if(h=v.tag,h===13){if(h=gD(v),h!==null){u.blockedOn=h,PD(u.priority,function(){CD(v)});return}}else if(h===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Qw(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var v=CE(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(v===null){v=u.nativeEvent;var S=new v.constructor(v.type,v);Qu=S,v.target.dispatchEvent(S),Qu=null}else return h=gv(v),h!==null&&AE(h),u.blockedOn=v,!1;h.shift()}return!0}function RD(u,h,v){Qw(u)&&v.delete(h)}function KY(){EE=!1,cc!==null&&Qw(cc)&&(cc=null),uc!==null&&Qw(uc)&&(uc=null),dc!==null&&Qw(dc)&&(dc=null),ev.forEach(RD),tv.forEach(RD)}function nv(u,h){u.blockedOn===h&&(u.blockedOn=null,EE||(EE=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,KY)))}function iv(u){function h(T){return nv(T,u)}if(0<Jw.length){nv(Jw[0],u);for(var v=1;v<Jw.length;v++){var S=Jw[v];S.blockedOn===u&&(S.blockedOn=null)}}for(cc!==null&&nv(cc,u),uc!==null&&nv(uc,u),dc!==null&&nv(dc,u),ev.forEach(h),tv.forEach(h),v=0;v<hc.length;v++)S=hc[v],S.blockedOn===u&&(S.blockedOn=null);for(;0<hc.length&&(v=hc[0],v.blockedOn===null);)ND(v),v.blockedOn===null&&hc.shift()}var wf=C.ReactCurrentBatchConfig,Zw=!0;function YY(u,h,v,S){var T=Ct,N=wf.transition;wf.transition=null;try{Ct=1,kE(u,h,v,S)}finally{Ct=T,wf.transition=N}}function XY(u,h,v,S){var T=Ct,N=wf.transition;wf.transition=null;try{Ct=4,kE(u,h,v,S)}finally{Ct=T,wf.transition=N}}function kE(u,h,v,S){if(Zw){var T=CE(u,h,v,S);if(T===null)HE(u,h,S,ex,v),OD(u,S);else if(GY(T,u,h,v,S))S.stopPropagation();else if(OD(u,S),h&4&&-1<VY.indexOf(u)){for(;T!==null;){var N=gv(T);if(N!==null&&kD(N),N=CE(u,h,v,S),N===null&&HE(u,h,S,ex,v),N===T)break;T=N}T!==null&&S.stopPropagation()}else HE(u,h,S,null,v)}}var ex=null;function CE(u,h,v,S){if(ex=null,u=ws(S),u=ed(u),u!==null)if(h=Zu(u),h===null)u=null;else if(v=h.tag,v===13){if(u=gD(h),u!==null)return u;u=null}else if(v===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return ex=u,null}function jD(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LY()){case wE:return 1;case _D:return 4;case Vw:case $Y:return 16;case SD:return 536870912;default:return 16}default:return 16}}var fc=null,TE=null,tx=null;function ID(){if(tx)return tx;var u,h=TE,v=h.length,S,T="value"in fc?fc.value:fc.textContent,N=T.length;for(u=0;u<v&&h[u]===T[u];u++);var L=v-u;for(S=1;S<=L&&h[v-S]===T[N-S];S++);return tx=T.slice(u,1<S?1-S:void 0)}function rx(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function nx(){return!0}function MD(){return!1}function Ii(u){function h(v,S,T,N,L){this._reactName=v,this._targetInst=T,this.type=S,this.nativeEvent=N,this.target=L,this.currentTarget=null;for(var K in u)u.hasOwnProperty(K)&&(v=u[K],this[K]=v?v(N):N[K]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?nx:MD,this.isPropagationStopped=MD,this}return ne(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=nx)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=nx)},persist:function(){},isPersistent:nx}),h}var xf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PE=Ii(xf),sv=ne({},xf,{view:0,detail:0}),JY=Ii(sv),OE,NE,av,ix=ne({},sv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jE,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==av&&(av&&u.type==="mousemove"?(OE=u.screenX-av.screenX,NE=u.screenY-av.screenY):NE=OE=0,av=u),OE)},movementY:function(u){return"movementY"in u?u.movementY:NE}}),DD=Ii(ix),QY=ne({},ix,{dataTransfer:0}),ZY=Ii(QY),eX=ne({},sv,{relatedTarget:0}),RE=Ii(eX),tX=ne({},xf,{animationName:0,elapsedTime:0,pseudoElement:0}),rX=Ii(tX),nX=ne({},xf,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),iX=Ii(nX),sX=ne({},xf,{data:0}),LD=Ii(sX),aX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cX(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=lX[u])?!!h[u]:!1}function jE(){return cX}var uX=ne({},sv,{key:function(u){if(u.key){var h=aX[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=rx(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?oX[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jE,charCode:function(u){return u.type==="keypress"?rx(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?rx(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),dX=Ii(uX),hX=ne({},ix,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$D=Ii(hX),fX=ne({},sv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jE}),pX=Ii(fX),mX=ne({},xf,{propertyName:0,elapsedTime:0,pseudoElement:0}),gX=Ii(mX),vX=ne({},ix,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),yX=Ii(vX),bX=[9,13,27,32],IE=o&&"CompositionEvent"in window,ov=null;o&&"documentMode"in document&&(ov=document.documentMode);var wX=o&&"TextEvent"in window&&!ov,FD=o&&(!IE||ov&&8<ov&&11>=ov),BD=" ",UD=!1;function zD(u,h){switch(u){case"keyup":return bX.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qD(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var _f=!1;function xX(u,h){switch(u){case"compositionend":return qD(h);case"keypress":return h.which!==32?null:(UD=!0,BD);case"textInput":return u=h.data,u===BD&&UD?null:u;default:return null}}function _X(u,h){if(_f)return u==="compositionend"||!IE&&zD(u,h)?(u=ID(),tx=TE=fc=null,_f=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return FD&&h.locale!=="ko"?null:h.data;default:return null}}var SX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HD(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!SX[u.type]:h==="textarea"}function WD(u,h,v,S){Ke(S),h=cx(h,"onChange"),0<h.length&&(v=new PE("onChange","change",null,v,S),u.push({event:v,listeners:h}))}var lv=null,cv=null;function AX(u){cL(u,0)}function sx(u){var h=Cf(u);if(ae(h))return u}function EX(u,h){if(u==="change")return h}var VD=!1;if(o){var ME;if(o){var DE="oninput"in document;if(!DE){var GD=document.createElement("div");GD.setAttribute("oninput","return;"),DE=typeof GD.oninput=="function"}ME=DE}else ME=!1;VD=ME&&(!document.documentMode||9<document.documentMode)}function KD(){lv&&(lv.detachEvent("onpropertychange",YD),cv=lv=null)}function YD(u){if(u.propertyName==="value"&&sx(cv)){var h=[];WD(h,cv,u,ws(u)),Rr(AX,h)}}function kX(u,h,v){u==="focusin"?(KD(),lv=h,cv=v,lv.attachEvent("onpropertychange",YD)):u==="focusout"&&KD()}function CX(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return sx(cv)}function TX(u,h){if(u==="click")return sx(h)}function PX(u,h){if(u==="input"||u==="change")return sx(h)}function OX(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var ta=typeof Object.is=="function"?Object.is:OX;function uv(u,h){if(ta(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var v=Object.keys(u),S=Object.keys(h);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var T=v[S];if(!l.call(h,T)||!ta(u[T],h[T]))return!1}return!0}function XD(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function JD(u,h){var v=XD(u);u=0;for(var S;v;){if(v.nodeType===3){if(S=u+v.textContent.length,u<=h&&S>=h)return{node:v,offset:h-u};u=S}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=XD(v)}}function QD(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?QD(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function ZD(){for(var u=window,h=We();h instanceof u.HTMLIFrameElement;){try{var v=typeof h.contentWindow.location.href=="string"}catch{v=!1}if(v)u=h.contentWindow;else break;h=We(u.document)}return h}function LE(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function NX(u){var h=ZD(),v=u.focusedElem,S=u.selectionRange;if(h!==v&&v&&v.ownerDocument&&QD(v.ownerDocument.documentElement,v)){if(S!==null&&LE(v)){if(h=S.start,u=S.end,u===void 0&&(u=h),"selectionStart"in v)v.selectionStart=h,v.selectionEnd=Math.min(u,v.value.length);else if(u=(h=v.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var T=v.textContent.length,N=Math.min(S.start,T);S=S.end===void 0?N:Math.min(S.end,T),!u.extend&&N>S&&(T=S,S=N,N=T),T=JD(v,N);var L=JD(v,S);T&&L&&(u.rangeCount!==1||u.anchorNode!==T.node||u.anchorOffset!==T.offset||u.focusNode!==L.node||u.focusOffset!==L.offset)&&(h=h.createRange(),h.setStart(T.node,T.offset),u.removeAllRanges(),N>S?(u.addRange(h),u.extend(L.node,L.offset)):(h.setEnd(L.node,L.offset),u.addRange(h)))}}for(h=[],u=v;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<h.length;v++)u=h[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var RX=o&&"documentMode"in document&&11>=document.documentMode,Sf=null,$E=null,dv=null,FE=!1;function eL(u,h,v){var S=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;FE||Sf==null||Sf!==We(S)||(S=Sf,"selectionStart"in S&&LE(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),dv&&uv(dv,S)||(dv=S,S=cx($E,"onSelect"),0<S.length&&(h=new PE("onSelect","select",null,h,v),u.push({event:h,listeners:S}),h.target=Sf)))}function ax(u,h){var v={};return v[u.toLowerCase()]=h.toLowerCase(),v["Webkit"+u]="webkit"+h,v["Moz"+u]="moz"+h,v}var Af={animationend:ax("Animation","AnimationEnd"),animationiteration:ax("Animation","AnimationIteration"),animationstart:ax("Animation","AnimationStart"),transitionend:ax("Transition","TransitionEnd")},BE={},tL={};o&&(tL=document.createElement("div").style,"AnimationEvent"in window||(delete Af.animationend.animation,delete Af.animationiteration.animation,delete Af.animationstart.animation),"TransitionEvent"in window||delete Af.transitionend.transition);function ox(u){if(BE[u])return BE[u];if(!Af[u])return u;var h=Af[u],v;for(v in h)if(h.hasOwnProperty(v)&&v in tL)return BE[u]=h[v];return u}var rL=ox("animationend"),nL=ox("animationiteration"),iL=ox("animationstart"),sL=ox("transitionend"),aL=new Map,oL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pc(u,h){aL.set(u,h),s(h,[u])}for(var UE=0;UE<oL.length;UE++){var zE=oL[UE],jX=zE.toLowerCase(),IX=zE[0].toUpperCase()+zE.slice(1);pc(jX,"on"+IX)}pc(rL,"onAnimationEnd"),pc(nL,"onAnimationIteration"),pc(iL,"onAnimationStart"),pc("dblclick","onDoubleClick"),pc("focusin","onFocus"),pc("focusout","onBlur"),pc(sL,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MX=new Set("cancel close invalid load scroll toggle".split(" ").concat(hv));function lL(u,h,v){var S=u.type||"unknown-event";u.currentTarget=v,jY(S,h,void 0,u),u.currentTarget=null}function cL(u,h){h=(h&4)!==0;for(var v=0;v<u.length;v++){var S=u[v],T=S.event;S=S.listeners;e:{var N=void 0;if(h)for(var L=S.length-1;0<=L;L--){var K=S[L],Q=K.instance,se=K.currentTarget;if(K=K.listener,Q!==N&&T.isPropagationStopped())break e;lL(T,K,se),N=Q}else for(L=0;L<S.length;L++){if(K=S[L],Q=K.instance,se=K.currentTarget,K=K.listener,Q!==N&&T.isPropagationStopped())break e;lL(T,K,se),N=Q}}}if(Jg)throw u=bE,Jg=!1,bE=null,u}function Zt(u,h){var v=h[XE];v===void 0&&(v=h[XE]=new Set);var S=u+"__bubble";v.has(S)||(uL(h,u,2,!1),v.add(S))}function qE(u,h,v){var S=0;h&&(S|=4),uL(v,u,S,h)}var lx="_reactListening"+Math.random().toString(36).slice(2);function fv(u){if(!u[lx]){u[lx]=!0,n.forEach(function(v){v!=="selectionchange"&&(MX.has(v)||qE(v,!1,u),qE(v,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[lx]||(h[lx]=!0,qE("selectionchange",!1,h))}}function uL(u,h,v,S){switch(jD(h)){case 1:var T=YY;break;case 4:T=XY;break;default:T=kE}v=T.bind(null,h,v,u),T=void 0,!oc||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),S?T!==void 0?u.addEventListener(h,v,{capture:!0,passive:T}):u.addEventListener(h,v,!0):T!==void 0?u.addEventListener(h,v,{passive:T}):u.addEventListener(h,v,!1)}function HE(u,h,v,S,T){var N=S;if((h&1)===0&&(h&2)===0&&S!==null)e:for(;;){if(S===null)return;var L=S.tag;if(L===3||L===4){var K=S.stateNode.containerInfo;if(K===T||K.nodeType===8&&K.parentNode===T)break;if(L===4)for(L=S.return;L!==null;){var Q=L.tag;if((Q===3||Q===4)&&(Q=L.stateNode.containerInfo,Q===T||Q.nodeType===8&&Q.parentNode===T))return;L=L.return}for(;K!==null;){if(L=ed(K),L===null)return;if(Q=L.tag,Q===5||Q===6){S=N=L;continue e}K=K.parentNode}}S=S.return}Rr(function(){var se=N,fe=ws(v),ve=[];e:{var de=aL.get(u);if(de!==void 0){var Ae=PE,Pe=u;switch(u){case"keypress":if(rx(v)===0)break e;case"keydown":case"keyup":Ae=dX;break;case"focusin":Pe="focus",Ae=RE;break;case"focusout":Pe="blur",Ae=RE;break;case"beforeblur":case"afterblur":Ae=RE;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=DD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=ZY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=pX;break;case rL:case nL:case iL:Ae=rX;break;case sL:Ae=gX;break;case"scroll":Ae=JY;break;case"wheel":Ae=yX;break;case"copy":case"cut":case"paste":Ae=iX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=$D}var Re=(h&4)!==0,Pr=!Re&&u==="scroll",te=Re?de!==null?de+"Capture":null:de;Re=[];for(var Z=se,ie;Z!==null;){ie=Z;var ye=ie.stateNode;if(ie.tag===5&&ye!==null&&(ie=ye,te!==null&&(ye=rn(Z,te),ye!=null&&Re.push(pv(Z,ye,ie)))),Pr)break;Z=Z.return}0<Re.length&&(de=new Ae(de,Pe,null,v,fe),ve.push({event:de,listeners:Re}))}}if((h&7)===0){e:{if(de=u==="mouseover"||u==="pointerover",Ae=u==="mouseout"||u==="pointerout",de&&v!==Qu&&(Pe=v.relatedTarget||v.fromElement)&&(ed(Pe)||Pe[Do]))break e;if((Ae||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,Ae?(Pe=v.relatedTarget||v.toElement,Ae=se,Pe=Pe?ed(Pe):null,Pe!==null&&(Pr=Zu(Pe),Pe!==Pr||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Ae=null,Pe=se),Ae!==Pe)){if(Re=DD,ye="onMouseLeave",te="onMouseEnter",Z="mouse",(u==="pointerout"||u==="pointerover")&&(Re=$D,ye="onPointerLeave",te="onPointerEnter",Z="pointer"),Pr=Ae==null?de:Cf(Ae),ie=Pe==null?de:Cf(Pe),de=new Re(ye,Z+"leave",Ae,v,fe),de.target=Pr,de.relatedTarget=ie,ye=null,ed(fe)===se&&(Re=new Re(te,Z+"enter",Pe,v,fe),Re.target=ie,Re.relatedTarget=Pr,ye=Re),Pr=ye,Ae&&Pe)t:{for(Re=Ae,te=Pe,Z=0,ie=Re;ie;ie=Ef(ie))Z++;for(ie=0,ye=te;ye;ye=Ef(ye))ie++;for(;0<Z-ie;)Re=Ef(Re),Z--;for(;0<ie-Z;)te=Ef(te),ie--;for(;Z--;){if(Re===te||te!==null&&Re===te.alternate)break t;Re=Ef(Re),te=Ef(te)}Re=null}else Re=null;Ae!==null&&dL(ve,de,Ae,Re,!1),Pe!==null&&Pr!==null&&dL(ve,Pr,Pe,Re,!0)}}e:{if(de=se?Cf(se):window,Ae=de.nodeName&&de.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&de.type==="file")var Ie=EX;else if(HD(de))if(VD)Ie=PX;else{Ie=CX;var Le=kX}else(Ae=de.nodeName)&&Ae.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ie=TX);if(Ie&&(Ie=Ie(u,se))){WD(ve,Ie,v,fe);break e}Le&&Le(u,de,se),u==="focusout"&&(Le=de._wrapperState)&&Le.controlled&&de.type==="number"&&Jt(de,"number",de.value)}switch(Le=se?Cf(se):window,u){case"focusin":(HD(Le)||Le.contentEditable==="true")&&(Sf=Le,$E=se,dv=null);break;case"focusout":dv=$E=Sf=null;break;case"mousedown":FE=!0;break;case"contextmenu":case"mouseup":case"dragend":FE=!1,eL(ve,v,fe);break;case"selectionchange":if(RX)break;case"keydown":case"keyup":eL(ve,v,fe)}var $e;if(IE)e:{switch(u){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else _f?zD(u,v)&&(He="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(He="onCompositionStart");He&&(FD&&v.locale!=="ko"&&(_f||He!=="onCompositionStart"?He==="onCompositionEnd"&&_f&&($e=ID()):(fc=fe,TE="value"in fc?fc.value:fc.textContent,_f=!0)),Le=cx(se,He),0<Le.length&&(He=new LD(He,u,null,v,fe),ve.push({event:He,listeners:Le}),$e?He.data=$e:($e=qD(v),$e!==null&&(He.data=$e)))),($e=wX?xX(u,v):_X(u,v))&&(se=cx(se,"onBeforeInput"),0<se.length&&(fe=new LD("onBeforeInput","beforeinput",null,v,fe),ve.push({event:fe,listeners:se}),fe.data=$e))}cL(ve,h)})}function pv(u,h,v){return{instance:u,listener:h,currentTarget:v}}function cx(u,h){for(var v=h+"Capture",S=[];u!==null;){var T=u,N=T.stateNode;T.tag===5&&N!==null&&(T=N,N=rn(u,v),N!=null&&S.unshift(pv(u,N,T)),N=rn(u,h),N!=null&&S.push(pv(u,N,T))),u=u.return}return S}function Ef(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function dL(u,h,v,S,T){for(var N=h._reactName,L=[];v!==null&&v!==S;){var K=v,Q=K.alternate,se=K.stateNode;if(Q!==null&&Q===S)break;K.tag===5&&se!==null&&(K=se,T?(Q=rn(v,N),Q!=null&&L.unshift(pv(v,Q,K))):T||(Q=rn(v,N),Q!=null&&L.push(pv(v,Q,K)))),v=v.return}L.length!==0&&u.push({event:h,listeners:L})}var DX=/\r\n?/g,LX=/\u0000|\uFFFD/g;function hL(u){return(typeof u=="string"?u:""+u).replace(DX,`
`).replace(LX,"")}function ux(u,h,v){if(h=hL(h),hL(u)!==h&&v)throw Error(t(425))}function dx(){}var WE=null,VE=null;function GE(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var KE=typeof setTimeout=="function"?setTimeout:void 0,$X=typeof clearTimeout=="function"?clearTimeout:void 0,fL=typeof Promise=="function"?Promise:void 0,FX=typeof queueMicrotask=="function"?queueMicrotask:typeof fL<"u"?function(u){return fL.resolve(null).then(u).catch(BX)}:KE;function BX(u){setTimeout(function(){throw u})}function YE(u,h){var v=h,S=0;do{var T=v.nextSibling;if(u.removeChild(v),T&&T.nodeType===8)if(v=T.data,v==="/$"){if(S===0){u.removeChild(T),iv(h);return}S--}else v!=="$"&&v!=="$?"&&v!=="$!"||S++;v=T}while(v);iv(h)}function mc(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function pL(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"){if(h===0)return u;h--}else v==="/$"&&h++}u=u.previousSibling}return null}var kf=Math.random().toString(36).slice(2),$a="__reactFiber$"+kf,mv="__reactProps$"+kf,Do="__reactContainer$"+kf,XE="__reactEvents$"+kf,UX="__reactListeners$"+kf,zX="__reactHandles$"+kf;function ed(u){var h=u[$a];if(h)return h;for(var v=u.parentNode;v;){if(h=v[Do]||v[$a]){if(v=h.alternate,h.child!==null||v!==null&&v.child!==null)for(u=pL(u);u!==null;){if(v=u[$a])return v;u=pL(u)}return h}u=v,v=u.parentNode}return null}function gv(u){return u=u[$a]||u[Do],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Cf(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(t(33))}function hx(u){return u[mv]||null}var JE=[],Tf=-1;function gc(u){return{current:u}}function er(u){0>Tf||(u.current=JE[Tf],JE[Tf]=null,Tf--)}function Ht(u,h){Tf++,JE[Tf]=u.current,u.current=h}var vc={},Ln=gc(vc),fi=gc(!1),td=vc;function Pf(u,h){var v=u.type.contextTypes;if(!v)return vc;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===h)return S.__reactInternalMemoizedMaskedChildContext;var T={},N;for(N in v)T[N]=h[N];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=T),T}function pi(u){return u=u.childContextTypes,u!=null}function fx(){er(fi),er(Ln)}function mL(u,h,v){if(Ln.current!==vc)throw Error(t(168));Ht(Ln,h),Ht(fi,v)}function gL(u,h,v){var S=u.stateNode;if(h=h.childContextTypes,typeof S.getChildContext!="function")return v;S=S.getChildContext();for(var T in S)if(!(T in h))throw Error(t(108,oe(u)||"Unknown",T));return ne({},v,S)}function px(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||vc,td=Ln.current,Ht(Ln,u),Ht(fi,fi.current),!0}function vL(u,h,v){var S=u.stateNode;if(!S)throw Error(t(169));v?(u=gL(u,h,td),S.__reactInternalMemoizedMergedChildContext=u,er(fi),er(Ln),Ht(Ln,u)):er(fi),Ht(fi,v)}var Lo=null,mx=!1,QE=!1;function yL(u){Lo===null?Lo=[u]:Lo.push(u)}function qX(u){mx=!0,yL(u)}function yc(){if(!QE&&Lo!==null){QE=!0;var u=0,h=Ct;try{var v=Lo;for(Ct=1;u<v.length;u++){var S=v[u];do S=S(!0);while(S!==null)}Lo=null,mx=!1}catch(T){throw Lo!==null&&(Lo=Lo.slice(u+1)),wD(wE,yc),T}finally{Ct=h,QE=!1}}return null}var Of=[],Nf=0,gx=null,vx=0,_s=[],Ss=0,rd=null,$o=1,Fo="";function nd(u,h){Of[Nf++]=vx,Of[Nf++]=gx,gx=u,vx=h}function bL(u,h,v){_s[Ss++]=$o,_s[Ss++]=Fo,_s[Ss++]=rd,rd=u;var S=$o;u=Fo;var T=32-ea(S)-1;S&=~(1<<T),v+=1;var N=32-ea(h)+T;if(30<N){var L=T-T%5;N=(S&(1<<L)-1).toString(32),S>>=L,T-=L,$o=1<<32-ea(h)+T|v<<T|S,Fo=N+u}else $o=1<<N|v<<T|S,Fo=u}function ZE(u){u.return!==null&&(nd(u,1),bL(u,1,0))}function ek(u){for(;u===gx;)gx=Of[--Nf],Of[Nf]=null,vx=Of[--Nf],Of[Nf]=null;for(;u===rd;)rd=_s[--Ss],_s[Ss]=null,Fo=_s[--Ss],_s[Ss]=null,$o=_s[--Ss],_s[Ss]=null}var Mi=null,Di=null,ir=!1,ra=null;function wL(u,h){var v=Cs(5,null,null,0);v.elementType="DELETED",v.stateNode=h,v.return=u,h=u.deletions,h===null?(u.deletions=[v],u.flags|=16):h.push(v)}function xL(u,h){switch(u.tag){case 5:var v=u.type;return h=h.nodeType!==1||v.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,Mi=u,Di=mc(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,Mi=u,Di=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(v=rd!==null?{id:$o,overflow:Fo}:null,u.memoizedState={dehydrated:h,treeContext:v,retryLane:1073741824},v=Cs(18,null,null,0),v.stateNode=h,v.return=u,u.child=v,Mi=u,Di=null,!0):!1;default:return!1}}function tk(u){return(u.mode&1)!==0&&(u.flags&128)===0}function rk(u){if(ir){var h=Di;if(h){var v=h;if(!xL(u,h)){if(tk(u))throw Error(t(418));h=mc(v.nextSibling);var S=Mi;h&&xL(u,h)?wL(S,v):(u.flags=u.flags&-4097|2,ir=!1,Mi=u)}}else{if(tk(u))throw Error(t(418));u.flags=u.flags&-4097|2,ir=!1,Mi=u}}}function _L(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Mi=u}function yx(u){if(u!==Mi)return!1;if(!ir)return _L(u),ir=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!GE(u.type,u.memoizedProps)),h&&(h=Di)){if(tk(u))throw SL(),Error(t(418));for(;h;)wL(u,h),h=mc(h.nextSibling)}if(_L(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(t(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"){if(h===0){Di=mc(u.nextSibling);break e}h--}else v!=="$"&&v!=="$!"&&v!=="$?"||h++}u=u.nextSibling}Di=null}}else Di=Mi?mc(u.stateNode.nextSibling):null;return!0}function SL(){for(var u=Di;u;)u=mc(u.nextSibling)}function Rf(){Di=Mi=null,ir=!1}function nk(u){ra===null?ra=[u]:ra.push(u)}var HX=C.ReactCurrentBatchConfig;function vv(u,h,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(t(309));var S=v.stateNode}if(!S)throw Error(t(147,u));var T=S,N=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===N?h.ref:(h=function(L){var K=T.refs;L===null?delete K[N]:K[N]=L},h._stringRef=N,h)}if(typeof u!="string")throw Error(t(284));if(!v._owner)throw Error(t(290,u))}return u}function bx(u,h){throw u=Object.prototype.toString.call(h),Error(t(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function AL(u){var h=u._init;return h(u._payload)}function EL(u){function h(te,Z){if(u){var ie=te.deletions;ie===null?(te.deletions=[Z],te.flags|=16):ie.push(Z)}}function v(te,Z){if(!u)return null;for(;Z!==null;)h(te,Z),Z=Z.sibling;return null}function S(te,Z){for(te=new Map;Z!==null;)Z.key!==null?te.set(Z.key,Z):te.set(Z.index,Z),Z=Z.sibling;return te}function T(te,Z){return te=kc(te,Z),te.index=0,te.sibling=null,te}function N(te,Z,ie){return te.index=ie,u?(ie=te.alternate,ie!==null?(ie=ie.index,ie<Z?(te.flags|=2,Z):ie):(te.flags|=2,Z)):(te.flags|=1048576,Z)}function L(te){return u&&te.alternate===null&&(te.flags|=2),te}function K(te,Z,ie,ye){return Z===null||Z.tag!==6?(Z=Kk(ie,te.mode,ye),Z.return=te,Z):(Z=T(Z,ie),Z.return=te,Z)}function Q(te,Z,ie,ye){var Ie=ie.type;return Ie===j?fe(te,Z,ie.props.children,ye,ie.key):Z!==null&&(Z.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===H&&AL(Ie)===Z.type)?(ye=T(Z,ie.props),ye.ref=vv(te,Z,ie),ye.return=te,ye):(ye=qx(ie.type,ie.key,ie.props,null,te.mode,ye),ye.ref=vv(te,Z,ie),ye.return=te,ye)}function se(te,Z,ie,ye){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ie.containerInfo||Z.stateNode.implementation!==ie.implementation?(Z=Yk(ie,te.mode,ye),Z.return=te,Z):(Z=T(Z,ie.children||[]),Z.return=te,Z)}function fe(te,Z,ie,ye,Ie){return Z===null||Z.tag!==7?(Z=dd(ie,te.mode,ye,Ie),Z.return=te,Z):(Z=T(Z,ie),Z.return=te,Z)}function ve(te,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Kk(""+Z,te.mode,ie),Z.return=te,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return ie=qx(Z.type,Z.key,Z.props,null,te.mode,ie),ie.ref=vv(te,null,Z),ie.return=te,ie;case P:return Z=Yk(Z,te.mode,ie),Z.return=te,Z;case H:var ye=Z._init;return ve(te,ye(Z._payload),ie)}if(ys(Z)||ee(Z))return Z=dd(Z,te.mode,ie,null),Z.return=te,Z;bx(te,Z)}return null}function de(te,Z,ie,ye){var Ie=Z!==null?Z.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ie!==null?null:K(te,Z,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case k:return ie.key===Ie?Q(te,Z,ie,ye):null;case P:return ie.key===Ie?se(te,Z,ie,ye):null;case H:return Ie=ie._init,de(te,Z,Ie(ie._payload),ye)}if(ys(ie)||ee(ie))return Ie!==null?null:fe(te,Z,ie,ye,null);bx(te,ie)}return null}function Ae(te,Z,ie,ye,Ie){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return te=te.get(ie)||null,K(Z,te,""+ye,Ie);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case k:return te=te.get(ye.key===null?ie:ye.key)||null,Q(Z,te,ye,Ie);case P:return te=te.get(ye.key===null?ie:ye.key)||null,se(Z,te,ye,Ie);case H:var Le=ye._init;return Ae(te,Z,ie,Le(ye._payload),Ie)}if(ys(ye)||ee(ye))return te=te.get(ie)||null,fe(Z,te,ye,Ie,null);bx(Z,ye)}return null}function Pe(te,Z,ie,ye){for(var Ie=null,Le=null,$e=Z,He=Z=0,an=null;$e!==null&&He<ie.length;He++){$e.index>He?(an=$e,$e=null):an=$e.sibling;var ft=de(te,$e,ie[He],ye);if(ft===null){$e===null&&($e=an);break}u&&$e&&ft.alternate===null&&h(te,$e),Z=N(ft,Z,He),Le===null?Ie=ft:Le.sibling=ft,Le=ft,$e=an}if(He===ie.length)return v(te,$e),ir&&nd(te,He),Ie;if($e===null){for(;He<ie.length;He++)$e=ve(te,ie[He],ye),$e!==null&&(Z=N($e,Z,He),Le===null?Ie=$e:Le.sibling=$e,Le=$e);return ir&&nd(te,He),Ie}for($e=S(te,$e);He<ie.length;He++)an=Ae($e,te,He,ie[He],ye),an!==null&&(u&&an.alternate!==null&&$e.delete(an.key===null?He:an.key),Z=N(an,Z,He),Le===null?Ie=an:Le.sibling=an,Le=an);return u&&$e.forEach(function(Cc){return h(te,Cc)}),ir&&nd(te,He),Ie}function Re(te,Z,ie,ye){var Ie=ee(ie);if(typeof Ie!="function")throw Error(t(150));if(ie=Ie.call(ie),ie==null)throw Error(t(151));for(var Le=Ie=null,$e=Z,He=Z=0,an=null,ft=ie.next();$e!==null&&!ft.done;He++,ft=ie.next()){$e.index>He?(an=$e,$e=null):an=$e.sibling;var Cc=de(te,$e,ft.value,ye);if(Cc===null){$e===null&&($e=an);break}u&&$e&&Cc.alternate===null&&h(te,$e),Z=N(Cc,Z,He),Le===null?Ie=Cc:Le.sibling=Cc,Le=Cc,$e=an}if(ft.done)return v(te,$e),ir&&nd(te,He),Ie;if($e===null){for(;!ft.done;He++,ft=ie.next())ft=ve(te,ft.value,ye),ft!==null&&(Z=N(ft,Z,He),Le===null?Ie=ft:Le.sibling=ft,Le=ft);return ir&&nd(te,He),Ie}for($e=S(te,$e);!ft.done;He++,ft=ie.next())ft=Ae($e,te,He,ft.value,ye),ft!==null&&(u&&ft.alternate!==null&&$e.delete(ft.key===null?He:ft.key),Z=N(ft,Z,He),Le===null?Ie=ft:Le.sibling=ft,Le=ft);return u&&$e.forEach(function(SJ){return h(te,SJ)}),ir&&nd(te,He),Ie}function Pr(te,Z,ie,ye){if(typeof ie=="object"&&ie!==null&&ie.type===j&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case k:e:{for(var Ie=ie.key,Le=Z;Le!==null;){if(Le.key===Ie){if(Ie=ie.type,Ie===j){if(Le.tag===7){v(te,Le.sibling),Z=T(Le,ie.props.children),Z.return=te,te=Z;break e}}else if(Le.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===H&&AL(Ie)===Le.type){v(te,Le.sibling),Z=T(Le,ie.props),Z.ref=vv(te,Le,ie),Z.return=te,te=Z;break e}v(te,Le);break}else h(te,Le);Le=Le.sibling}ie.type===j?(Z=dd(ie.props.children,te.mode,ye,ie.key),Z.return=te,te=Z):(ye=qx(ie.type,ie.key,ie.props,null,te.mode,ye),ye.ref=vv(te,Z,ie),ye.return=te,te=ye)}return L(te);case P:e:{for(Le=ie.key;Z!==null;){if(Z.key===Le)if(Z.tag===4&&Z.stateNode.containerInfo===ie.containerInfo&&Z.stateNode.implementation===ie.implementation){v(te,Z.sibling),Z=T(Z,ie.children||[]),Z.return=te,te=Z;break e}else{v(te,Z);break}else h(te,Z);Z=Z.sibling}Z=Yk(ie,te.mode,ye),Z.return=te,te=Z}return L(te);case H:return Le=ie._init,Pr(te,Z,Le(ie._payload),ye)}if(ys(ie))return Pe(te,Z,ie,ye);if(ee(ie))return Re(te,Z,ie,ye);bx(te,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,Z!==null&&Z.tag===6?(v(te,Z.sibling),Z=T(Z,ie),Z.return=te,te=Z):(v(te,Z),Z=Kk(ie,te.mode,ye),Z.return=te,te=Z),L(te)):v(te,Z)}return Pr}var jf=EL(!0),kL=EL(!1),wx=gc(null),xx=null,If=null,ik=null;function sk(){ik=If=xx=null}function ak(u){var h=wx.current;er(wx),u._currentValue=h}function ok(u,h,v){for(;u!==null;){var S=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,S!==null&&(S.childLanes|=h)):S!==null&&(S.childLanes&h)!==h&&(S.childLanes|=h),u===v)break;u=u.return}}function Mf(u,h){xx=u,ik=If=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(mi=!0),u.firstContext=null)}function As(u){var h=u._currentValue;if(ik!==u)if(u={context:u,memoizedValue:h,next:null},If===null){if(xx===null)throw Error(t(308));If=u,xx.dependencies={lanes:0,firstContext:u}}else If=If.next=u;return h}var id=null;function lk(u){id===null?id=[u]:id.push(u)}function CL(u,h,v,S){var T=h.interleaved;return T===null?(v.next=v,lk(h)):(v.next=T.next,T.next=v),h.interleaved=v,Bo(u,S)}function Bo(u,h){u.lanes|=h;var v=u.alternate;for(v!==null&&(v.lanes|=h),v=u,u=u.return;u!==null;)u.childLanes|=h,v=u.alternate,v!==null&&(v.childLanes|=h),v=u,u=u.return;return v.tag===3?v.stateNode:null}var bc=!1;function ck(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TL(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Uo(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function wc(u,h,v){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,(ut&2)!==0){var T=S.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),S.pending=h,Bo(u,v)}return T=S.interleaved,T===null?(h.next=h,lk(S)):(h.next=T.next,T.next=h),S.interleaved=h,Bo(u,v)}function _x(u,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194240)!==0)){var S=h.lanes;S&=u.pendingLanes,v|=S,h.lanes=v,SE(u,v)}}function PL(u,h){var v=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var T=null,N=null;if(v=v.firstBaseUpdate,v!==null){do{var L={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};N===null?T=N=L:N=N.next=L,v=v.next}while(v!==null);N===null?T=N=h:N=N.next=h}else T=N=h;v={baseState:S.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:S.shared,effects:S.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=h:u.next=h,v.lastBaseUpdate=h}function Sx(u,h,v,S){var T=u.updateQueue;bc=!1;var N=T.firstBaseUpdate,L=T.lastBaseUpdate,K=T.shared.pending;if(K!==null){T.shared.pending=null;var Q=K,se=Q.next;Q.next=null,L===null?N=se:L.next=se,L=Q;var fe=u.alternate;fe!==null&&(fe=fe.updateQueue,K=fe.lastBaseUpdate,K!==L&&(K===null?fe.firstBaseUpdate=se:K.next=se,fe.lastBaseUpdate=Q))}if(N!==null){var ve=T.baseState;L=0,fe=se=Q=null,K=N;do{var de=K.lane,Ae=K.eventTime;if((S&de)===de){fe!==null&&(fe=fe.next={eventTime:Ae,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Pe=u,Re=K;switch(de=h,Ae=v,Re.tag){case 1:if(Pe=Re.payload,typeof Pe=="function"){ve=Pe.call(Ae,ve,de);break e}ve=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Re.payload,de=typeof Pe=="function"?Pe.call(Ae,ve,de):Pe,de==null)break e;ve=ne({},ve,de);break e;case 2:bc=!0}}K.callback!==null&&K.lane!==0&&(u.flags|=64,de=T.effects,de===null?T.effects=[K]:de.push(K))}else Ae={eventTime:Ae,lane:de,tag:K.tag,payload:K.payload,callback:K.callback,next:null},fe===null?(se=fe=Ae,Q=ve):fe=fe.next=Ae,L|=de;if(K=K.next,K===null){if(K=T.shared.pending,K===null)break;de=K,K=de.next,de.next=null,T.lastBaseUpdate=de,T.shared.pending=null}}while(!0);if(fe===null&&(Q=ve),T.baseState=Q,T.firstBaseUpdate=se,T.lastBaseUpdate=fe,h=T.shared.interleaved,h!==null){T=h;do L|=T.lane,T=T.next;while(T!==h)}else N===null&&(T.shared.lanes=0);od|=L,u.lanes=L,u.memoizedState=ve}}function OL(u,h,v){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var S=u[h],T=S.callback;if(T!==null){if(S.callback=null,S=v,typeof T!="function")throw Error(t(191,T));T.call(S)}}}var yv={},Fa=gc(yv),bv=gc(yv),wv=gc(yv);function sd(u){if(u===yv)throw Error(t(174));return u}function uk(u,h){switch(Ht(wv,h),Ht(bv,u),Ht(Fa,yv),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Gg(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=Gg(h,u)}er(Fa),Ht(Fa,h)}function Df(){er(Fa),er(bv),er(wv)}function NL(u){sd(wv.current);var h=sd(Fa.current),v=Gg(h,u.type);h!==v&&(Ht(bv,u),Ht(Fa,v))}function dk(u){bv.current===u&&(er(Fa),er(bv))}var ur=gc(0);function Ax(u){for(var h=u;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var hk=[];function fk(){for(var u=0;u<hk.length;u++)hk[u]._workInProgressVersionPrimary=null;hk.length=0}var Ex=C.ReactCurrentDispatcher,pk=C.ReactCurrentBatchConfig,ad=0,dr=null,zr=null,nn=null,kx=!1,xv=!1,_v=0,WX=0;function $n(){throw Error(t(321))}function mk(u,h){if(h===null)return!1;for(var v=0;v<h.length&&v<u.length;v++)if(!ta(u[v],h[v]))return!1;return!0}function gk(u,h,v,S,T,N){if(ad=N,dr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Ex.current=u===null||u.memoizedState===null?YX:XX,u=v(S,T),xv){N=0;do{if(xv=!1,_v=0,25<=N)throw Error(t(301));N+=1,nn=zr=null,h.updateQueue=null,Ex.current=JX,u=v(S,T)}while(xv)}if(Ex.current=Px,h=zr!==null&&zr.next!==null,ad=0,nn=zr=dr=null,kx=!1,h)throw Error(t(300));return u}function vk(){var u=_v!==0;return _v=0,u}function Ba(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?dr.memoizedState=nn=u:nn=nn.next=u,nn}function Es(){if(zr===null){var u=dr.alternate;u=u!==null?u.memoizedState:null}else u=zr.next;var h=nn===null?dr.memoizedState:nn.next;if(h!==null)nn=h,zr=u;else{if(u===null)throw Error(t(310));zr=u,u={memoizedState:zr.memoizedState,baseState:zr.baseState,baseQueue:zr.baseQueue,queue:zr.queue,next:null},nn===null?dr.memoizedState=nn=u:nn=nn.next=u}return nn}function Sv(u,h){return typeof h=="function"?h(u):h}function yk(u){var h=Es(),v=h.queue;if(v===null)throw Error(t(311));v.lastRenderedReducer=u;var S=zr,T=S.baseQueue,N=v.pending;if(N!==null){if(T!==null){var L=T.next;T.next=N.next,N.next=L}S.baseQueue=T=N,v.pending=null}if(T!==null){N=T.next,S=S.baseState;var K=L=null,Q=null,se=N;do{var fe=se.lane;if((ad&fe)===fe)Q!==null&&(Q=Q.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),S=se.hasEagerState?se.eagerState:u(S,se.action);else{var ve={lane:fe,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};Q===null?(K=Q=ve,L=S):Q=Q.next=ve,dr.lanes|=fe,od|=fe}se=se.next}while(se!==null&&se!==N);Q===null?L=S:Q.next=K,ta(S,h.memoizedState)||(mi=!0),h.memoizedState=S,h.baseState=L,h.baseQueue=Q,v.lastRenderedState=S}if(u=v.interleaved,u!==null){T=u;do N=T.lane,dr.lanes|=N,od|=N,T=T.next;while(T!==u)}else T===null&&(v.lanes=0);return[h.memoizedState,v.dispatch]}function bk(u){var h=Es(),v=h.queue;if(v===null)throw Error(t(311));v.lastRenderedReducer=u;var S=v.dispatch,T=v.pending,N=h.memoizedState;if(T!==null){v.pending=null;var L=T=T.next;do N=u(N,L.action),L=L.next;while(L!==T);ta(N,h.memoizedState)||(mi=!0),h.memoizedState=N,h.baseQueue===null&&(h.baseState=N),v.lastRenderedState=N}return[N,S]}function RL(){}function jL(u,h){var v=dr,S=Es(),T=h(),N=!ta(S.memoizedState,T);if(N&&(S.memoizedState=T,mi=!0),S=S.queue,wk(DL.bind(null,v,S,u),[u]),S.getSnapshot!==h||N||nn!==null&&nn.memoizedState.tag&1){if(v.flags|=2048,Av(9,ML.bind(null,v,S,T,h),void 0,null),sn===null)throw Error(t(349));(ad&30)!==0||IL(v,h,T)}return T}function IL(u,h,v){u.flags|=16384,u={getSnapshot:h,value:v},h=dr.updateQueue,h===null?(h={lastEffect:null,stores:null},dr.updateQueue=h,h.stores=[u]):(v=h.stores,v===null?h.stores=[u]:v.push(u))}function ML(u,h,v,S){h.value=v,h.getSnapshot=S,LL(h)&&$L(u)}function DL(u,h,v){return v(function(){LL(h)&&$L(u)})}function LL(u){var h=u.getSnapshot;u=u.value;try{var v=h();return!ta(u,v)}catch{return!0}}function $L(u){var h=Bo(u,1);h!==null&&aa(h,u,1,-1)}function FL(u){var h=Ba();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sv,lastRenderedState:u},h.queue=u,u=u.dispatch=KX.bind(null,dr,u),[h.memoizedState,u]}function Av(u,h,v,S){return u={tag:u,create:h,destroy:v,deps:S,next:null},h=dr.updateQueue,h===null?(h={lastEffect:null,stores:null},dr.updateQueue=h,h.lastEffect=u.next=u):(v=h.lastEffect,v===null?h.lastEffect=u.next=u:(S=v.next,v.next=u,u.next=S,h.lastEffect=u)),u}function BL(){return Es().memoizedState}function Cx(u,h,v,S){var T=Ba();dr.flags|=u,T.memoizedState=Av(1|h,v,void 0,S===void 0?null:S)}function Tx(u,h,v,S){var T=Es();S=S===void 0?null:S;var N=void 0;if(zr!==null){var L=zr.memoizedState;if(N=L.destroy,S!==null&&mk(S,L.deps)){T.memoizedState=Av(h,v,N,S);return}}dr.flags|=u,T.memoizedState=Av(1|h,v,N,S)}function UL(u,h){return Cx(8390656,8,u,h)}function wk(u,h){return Tx(2048,8,u,h)}function zL(u,h){return Tx(4,2,u,h)}function qL(u,h){return Tx(4,4,u,h)}function HL(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function WL(u,h,v){return v=v!=null?v.concat([u]):null,Tx(4,4,HL.bind(null,h,u),v)}function xk(){}function VL(u,h){var v=Es();h=h===void 0?null:h;var S=v.memoizedState;return S!==null&&h!==null&&mk(h,S[1])?S[0]:(v.memoizedState=[u,h],u)}function GL(u,h){var v=Es();h=h===void 0?null:h;var S=v.memoizedState;return S!==null&&h!==null&&mk(h,S[1])?S[0]:(u=u(),v.memoizedState=[u,h],u)}function KL(u,h,v){return(ad&21)===0?(u.baseState&&(u.baseState=!1,mi=!0),u.memoizedState=v):(ta(v,h)||(v=AD(),dr.lanes|=v,od|=v,u.baseState=!0),h)}function VX(u,h){var v=Ct;Ct=v!==0&&4>v?v:4,u(!0);var S=pk.transition;pk.transition={};try{u(!1),h()}finally{Ct=v,pk.transition=S}}function YL(){return Es().memoizedState}function GX(u,h,v){var S=Ac(u);if(v={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null},XL(u))JL(h,v);else if(v=CL(u,h,v,S),v!==null){var T=ti();aa(v,u,S,T),QL(v,h,S)}}function KX(u,h,v){var S=Ac(u),T={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null};if(XL(u))JL(h,T);else{var N=u.alternate;if(u.lanes===0&&(N===null||N.lanes===0)&&(N=h.lastRenderedReducer,N!==null))try{var L=h.lastRenderedState,K=N(L,v);if(T.hasEagerState=!0,T.eagerState=K,ta(K,L)){var Q=h.interleaved;Q===null?(T.next=T,lk(h)):(T.next=Q.next,Q.next=T),h.interleaved=T;return}}catch{}finally{}v=CL(u,h,T,S),v!==null&&(T=ti(),aa(v,u,S,T),QL(v,h,S))}}function XL(u){var h=u.alternate;return u===dr||h!==null&&h===dr}function JL(u,h){xv=kx=!0;var v=u.pending;v===null?h.next=h:(h.next=v.next,v.next=h),u.pending=h}function QL(u,h,v){if((v&4194240)!==0){var S=h.lanes;S&=u.pendingLanes,v|=S,h.lanes=v,SE(u,v)}}var Px={readContext:As,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},YX={readContext:As,useCallback:function(u,h){return Ba().memoizedState=[u,h===void 0?null:h],u},useContext:As,useEffect:UL,useImperativeHandle:function(u,h,v){return v=v!=null?v.concat([u]):null,Cx(4194308,4,HL.bind(null,h,u),v)},useLayoutEffect:function(u,h){return Cx(4194308,4,u,h)},useInsertionEffect:function(u,h){return Cx(4,2,u,h)},useMemo:function(u,h){var v=Ba();return h=h===void 0?null:h,u=u(),v.memoizedState=[u,h],u},useReducer:function(u,h,v){var S=Ba();return h=v!==void 0?v(h):h,S.memoizedState=S.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},S.queue=u,u=u.dispatch=GX.bind(null,dr,u),[S.memoizedState,u]},useRef:function(u){var h=Ba();return u={current:u},h.memoizedState=u},useState:FL,useDebugValue:xk,useDeferredValue:function(u){return Ba().memoizedState=u},useTransition:function(){var u=FL(!1),h=u[0];return u=VX.bind(null,u[1]),Ba().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,v){var S=dr,T=Ba();if(ir){if(v===void 0)throw Error(t(407));v=v()}else{if(v=h(),sn===null)throw Error(t(349));(ad&30)!==0||IL(S,h,v)}T.memoizedState=v;var N={value:v,getSnapshot:h};return T.queue=N,UL(DL.bind(null,S,N,u),[u]),S.flags|=2048,Av(9,ML.bind(null,S,N,v,h),void 0,null),v},useId:function(){var u=Ba(),h=sn.identifierPrefix;if(ir){var v=Fo,S=$o;v=(S&~(1<<32-ea(S)-1)).toString(32)+v,h=":"+h+"R"+v,v=_v++,0<v&&(h+="H"+v.toString(32)),h+=":"}else v=WX++,h=":"+h+"r"+v.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},XX={readContext:As,useCallback:VL,useContext:As,useEffect:wk,useImperativeHandle:WL,useInsertionEffect:zL,useLayoutEffect:qL,useMemo:GL,useReducer:yk,useRef:BL,useState:function(){return yk(Sv)},useDebugValue:xk,useDeferredValue:function(u){var h=Es();return KL(h,zr.memoizedState,u)},useTransition:function(){var u=yk(Sv)[0],h=Es().memoizedState;return[u,h]},useMutableSource:RL,useSyncExternalStore:jL,useId:YL,unstable_isNewReconciler:!1},JX={readContext:As,useCallback:VL,useContext:As,useEffect:wk,useImperativeHandle:WL,useInsertionEffect:zL,useLayoutEffect:qL,useMemo:GL,useReducer:bk,useRef:BL,useState:function(){return bk(Sv)},useDebugValue:xk,useDeferredValue:function(u){var h=Es();return zr===null?h.memoizedState=u:KL(h,zr.memoizedState,u)},useTransition:function(){var u=bk(Sv)[0],h=Es().memoizedState;return[u,h]},useMutableSource:RL,useSyncExternalStore:jL,useId:YL,unstable_isNewReconciler:!1};function na(u,h){if(u&&u.defaultProps){h=ne({},h),u=u.defaultProps;for(var v in u)h[v]===void 0&&(h[v]=u[v]);return h}return h}function _k(u,h,v,S){h=u.memoizedState,v=v(S,h),v=v==null?h:ne({},h,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var Ox={isMounted:function(u){return(u=u._reactInternals)?Zu(u)===u:!1},enqueueSetState:function(u,h,v){u=u._reactInternals;var S=ti(),T=Ac(u),N=Uo(S,T);N.payload=h,v!=null&&(N.callback=v),h=wc(u,N,T),h!==null&&(aa(h,u,T,S),_x(h,u,T))},enqueueReplaceState:function(u,h,v){u=u._reactInternals;var S=ti(),T=Ac(u),N=Uo(S,T);N.tag=1,N.payload=h,v!=null&&(N.callback=v),h=wc(u,N,T),h!==null&&(aa(h,u,T,S),_x(h,u,T))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var v=ti(),S=Ac(u),T=Uo(v,S);T.tag=2,h!=null&&(T.callback=h),h=wc(u,T,S),h!==null&&(aa(h,u,S,v),_x(h,u,S))}};function ZL(u,h,v,S,T,N,L){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,N,L):h.prototype&&h.prototype.isPureReactComponent?!uv(v,S)||!uv(T,N):!0}function e$(u,h,v){var S=!1,T=vc,N=h.contextType;return typeof N=="object"&&N!==null?N=As(N):(T=pi(h)?td:Ln.current,S=h.contextTypes,N=(S=S!=null)?Pf(u,T):vc),h=new h(v,N),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ox,u.stateNode=h,h._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=T,u.__reactInternalMemoizedMaskedChildContext=N),h}function t$(u,h,v,S){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,S),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,S),h.state!==u&&Ox.enqueueReplaceState(h,h.state,null)}function Sk(u,h,v,S){var T=u.stateNode;T.props=v,T.state=u.memoizedState,T.refs={},ck(u);var N=h.contextType;typeof N=="object"&&N!==null?T.context=As(N):(N=pi(h)?td:Ln.current,T.context=Pf(u,N)),T.state=u.memoizedState,N=h.getDerivedStateFromProps,typeof N=="function"&&(_k(u,h,N,v),T.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(h=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),h!==T.state&&Ox.enqueueReplaceState(T,T.state,null),Sx(u,v,T,S),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308)}function Lf(u,h){try{var v="",S=h;do v+=me(S),S=S.return;while(S);var T=v}catch(N){T=`
Error generating stack: `+N.message+`
`+N.stack}return{value:u,source:h,stack:T,digest:null}}function Ak(u,h,v){return{value:u,source:null,stack:v??null,digest:h??null}}function Ek(u,h){try{console.error(h.value)}catch(v){setTimeout(function(){throw v})}}var QX=typeof WeakMap=="function"?WeakMap:Map;function r$(u,h,v){v=Uo(-1,v),v.tag=3,v.payload={element:null};var S=h.value;return v.callback=function(){Lx||(Lx=!0,Bk=S),Ek(u,h)},v}function n$(u,h,v){v=Uo(-1,v),v.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var T=h.value;v.payload=function(){return S(T)},v.callback=function(){Ek(u,h)}}var N=u.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(v.callback=function(){Ek(u,h),typeof S!="function"&&(_c===null?_c=new Set([this]):_c.add(this));var L=h.stack;this.componentDidCatch(h.value,{componentStack:L!==null?L:""})}),v}function i$(u,h,v){var S=u.pingCache;if(S===null){S=u.pingCache=new QX;var T=new Set;S.set(h,T)}else T=S.get(h),T===void 0&&(T=new Set,S.set(h,T));T.has(v)||(T.add(v),u=hJ.bind(null,u,h,v),h.then(u,u))}function s$(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function a$(u,h,v,S,T){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(h=Uo(-1,1),h.tag=2,wc(v,h,1))),v.lanes|=1),u):(u.flags|=65536,u.lanes=T,u)}var ZX=C.ReactCurrentOwner,mi=!1;function ei(u,h,v,S){h.child=u===null?kL(h,null,v,S):jf(h,u.child,v,S)}function o$(u,h,v,S,T){v=v.render;var N=h.ref;return Mf(h,T),S=gk(u,h,v,S,N,T),v=vk(),u!==null&&!mi?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~T,zo(u,h,T)):(ir&&v&&ZE(h),h.flags|=1,ei(u,h,S,T),h.child)}function l$(u,h,v,S,T){if(u===null){var N=v.type;return typeof N=="function"&&!Gk(N)&&N.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(h.tag=15,h.type=N,c$(u,h,N,S,T)):(u=qx(v.type,null,S,h,h.mode,T),u.ref=h.ref,u.return=h,h.child=u)}if(N=u.child,(u.lanes&T)===0){var L=N.memoizedProps;if(v=v.compare,v=v!==null?v:uv,v(L,S)&&u.ref===h.ref)return zo(u,h,T)}return h.flags|=1,u=kc(N,S),u.ref=h.ref,u.return=h,h.child=u}function c$(u,h,v,S,T){if(u!==null){var N=u.memoizedProps;if(uv(N,S)&&u.ref===h.ref)if(mi=!1,h.pendingProps=S=N,(u.lanes&T)!==0)(u.flags&131072)!==0&&(mi=!0);else return h.lanes=u.lanes,zo(u,h,T)}return kk(u,h,v,S,T)}function u$(u,h,v){var S=h.pendingProps,T=S.children,N=u!==null?u.memoizedState:null;if(S.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(Ff,Li),Li|=v;else{if((v&1073741824)===0)return u=N!==null?N.baseLanes|v:v,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,Ht(Ff,Li),Li|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=N!==null?N.baseLanes:v,Ht(Ff,Li),Li|=S}else N!==null?(S=N.baseLanes|v,h.memoizedState=null):S=v,Ht(Ff,Li),Li|=S;return ei(u,h,T,v),h.child}function d$(u,h){var v=h.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(h.flags|=512,h.flags|=2097152)}function kk(u,h,v,S,T){var N=pi(v)?td:Ln.current;return N=Pf(h,N),Mf(h,T),v=gk(u,h,v,S,N,T),S=vk(),u!==null&&!mi?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~T,zo(u,h,T)):(ir&&S&&ZE(h),h.flags|=1,ei(u,h,v,T),h.child)}function h$(u,h,v,S,T){if(pi(v)){var N=!0;px(h)}else N=!1;if(Mf(h,T),h.stateNode===null)Rx(u,h),e$(h,v,S),Sk(h,v,S,T),S=!0;else if(u===null){var L=h.stateNode,K=h.memoizedProps;L.props=K;var Q=L.context,se=v.contextType;typeof se=="object"&&se!==null?se=As(se):(se=pi(v)?td:Ln.current,se=Pf(h,se));var fe=v.getDerivedStateFromProps,ve=typeof fe=="function"||typeof L.getSnapshotBeforeUpdate=="function";ve||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(K!==S||Q!==se)&&t$(h,L,S,se),bc=!1;var de=h.memoizedState;L.state=de,Sx(h,S,L,T),Q=h.memoizedState,K!==S||de!==Q||fi.current||bc?(typeof fe=="function"&&(_k(h,v,fe,S),Q=h.memoizedState),(K=bc||ZL(h,v,K,S,de,Q,se))?(ve||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(h.flags|=4194308)):(typeof L.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=S,h.memoizedState=Q),L.props=S,L.state=Q,L.context=se,S=K):(typeof L.componentDidMount=="function"&&(h.flags|=4194308),S=!1)}else{L=h.stateNode,TL(u,h),K=h.memoizedProps,se=h.type===h.elementType?K:na(h.type,K),L.props=se,ve=h.pendingProps,de=L.context,Q=v.contextType,typeof Q=="object"&&Q!==null?Q=As(Q):(Q=pi(v)?td:Ln.current,Q=Pf(h,Q));var Ae=v.getDerivedStateFromProps;(fe=typeof Ae=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(K!==ve||de!==Q)&&t$(h,L,S,Q),bc=!1,de=h.memoizedState,L.state=de,Sx(h,S,L,T);var Pe=h.memoizedState;K!==ve||de!==Pe||fi.current||bc?(typeof Ae=="function"&&(_k(h,v,Ae,S),Pe=h.memoizedState),(se=bc||ZL(h,v,se,S,de,Pe,Q)||!1)?(fe||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(S,Pe,Q),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(S,Pe,Q)),typeof L.componentDidUpdate=="function"&&(h.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof L.componentDidUpdate!="function"||K===u.memoizedProps&&de===u.memoizedState||(h.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||K===u.memoizedProps&&de===u.memoizedState||(h.flags|=1024),h.memoizedProps=S,h.memoizedState=Pe),L.props=S,L.state=Pe,L.context=Q,S=se):(typeof L.componentDidUpdate!="function"||K===u.memoizedProps&&de===u.memoizedState||(h.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||K===u.memoizedProps&&de===u.memoizedState||(h.flags|=1024),S=!1)}return Ck(u,h,v,S,N,T)}function Ck(u,h,v,S,T,N){d$(u,h);var L=(h.flags&128)!==0;if(!S&&!L)return T&&vL(h,v,!1),zo(u,h,N);S=h.stateNode,ZX.current=h;var K=L&&typeof v.getDerivedStateFromError!="function"?null:S.render();return h.flags|=1,u!==null&&L?(h.child=jf(h,u.child,null,N),h.child=jf(h,null,K,N)):ei(u,h,K,N),h.memoizedState=S.state,T&&vL(h,v,!0),h.child}function f$(u){var h=u.stateNode;h.pendingContext?mL(u,h.pendingContext,h.pendingContext!==h.context):h.context&&mL(u,h.context,!1),uk(u,h.containerInfo)}function p$(u,h,v,S,T){return Rf(),nk(T),h.flags|=256,ei(u,h,v,S),h.child}var Tk={dehydrated:null,treeContext:null,retryLane:0};function Pk(u){return{baseLanes:u,cachePool:null,transitions:null}}function m$(u,h,v){var S=h.pendingProps,T=ur.current,N=!1,L=(h.flags&128)!==0,K;if((K=L)||(K=u!==null&&u.memoizedState===null?!1:(T&2)!==0),K?(N=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(T|=1),Ht(ur,T&1),u===null)return rk(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(L=S.children,u=S.fallback,N?(S=h.mode,N=h.child,L={mode:"hidden",children:L},(S&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=L):N=Hx(L,S,0,null),u=dd(u,S,v,null),N.return=h,u.return=h,N.sibling=u,h.child=N,h.child.memoizedState=Pk(v),h.memoizedState=Tk,u):Ok(h,L));if(T=u.memoizedState,T!==null&&(K=T.dehydrated,K!==null))return eJ(u,h,L,S,K,T,v);if(N){N=S.fallback,L=h.mode,T=u.child,K=T.sibling;var Q={mode:"hidden",children:S.children};return(L&1)===0&&h.child!==T?(S=h.child,S.childLanes=0,S.pendingProps=Q,h.deletions=null):(S=kc(T,Q),S.subtreeFlags=T.subtreeFlags&14680064),K!==null?N=kc(K,N):(N=dd(N,L,v,null),N.flags|=2),N.return=h,S.return=h,S.sibling=N,h.child=S,S=N,N=h.child,L=u.child.memoizedState,L=L===null?Pk(v):{baseLanes:L.baseLanes|v,cachePool:null,transitions:L.transitions},N.memoizedState=L,N.childLanes=u.childLanes&~v,h.memoizedState=Tk,S}return N=u.child,u=N.sibling,S=kc(N,{mode:"visible",children:S.children}),(h.mode&1)===0&&(S.lanes=v),S.return=h,S.sibling=null,u!==null&&(v=h.deletions,v===null?(h.deletions=[u],h.flags|=16):v.push(u)),h.child=S,h.memoizedState=null,S}function Ok(u,h){return h=Hx({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function Nx(u,h,v,S){return S!==null&&nk(S),jf(h,u.child,null,v),u=Ok(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function eJ(u,h,v,S,T,N,L){if(v)return h.flags&256?(h.flags&=-257,S=Ak(Error(t(422))),Nx(u,h,L,S)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(N=S.fallback,T=h.mode,S=Hx({mode:"visible",children:S.children},T,0,null),N=dd(N,T,L,null),N.flags|=2,S.return=h,N.return=h,S.sibling=N,h.child=S,(h.mode&1)!==0&&jf(h,u.child,null,L),h.child.memoizedState=Pk(L),h.memoizedState=Tk,N);if((h.mode&1)===0)return Nx(u,h,L,null);if(T.data==="$!"){if(S=T.nextSibling&&T.nextSibling.dataset,S)var K=S.dgst;return S=K,N=Error(t(419)),S=Ak(N,S,void 0),Nx(u,h,L,S)}if(K=(L&u.childLanes)!==0,mi||K){if(S=sn,S!==null){switch(L&-L){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(S.suspendedLanes|L))!==0?0:T,T!==0&&T!==N.retryLane&&(N.retryLane=T,Bo(u,T),aa(S,u,T,-1))}return Vk(),S=Ak(Error(t(421))),Nx(u,h,L,S)}return T.data==="$?"?(h.flags|=128,h.child=u.child,h=fJ.bind(null,u),T._reactRetry=h,null):(u=N.treeContext,Di=mc(T.nextSibling),Mi=h,ir=!0,ra=null,u!==null&&(_s[Ss++]=$o,_s[Ss++]=Fo,_s[Ss++]=rd,$o=u.id,Fo=u.overflow,rd=h),h=Ok(h,S.children),h.flags|=4096,h)}function g$(u,h,v){u.lanes|=h;var S=u.alternate;S!==null&&(S.lanes|=h),ok(u.return,h,v)}function Nk(u,h,v,S,T){var N=u.memoizedState;N===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:T}:(N.isBackwards=h,N.rendering=null,N.renderingStartTime=0,N.last=S,N.tail=v,N.tailMode=T)}function v$(u,h,v){var S=h.pendingProps,T=S.revealOrder,N=S.tail;if(ei(u,h,S.children,v),S=ur.current,(S&2)!==0)S=S&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&g$(u,v,h);else if(u.tag===19)g$(u,v,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(Ht(ur,S),(h.mode&1)===0)h.memoizedState=null;else switch(T){case"forwards":for(v=h.child,T=null;v!==null;)u=v.alternate,u!==null&&Ax(u)===null&&(T=v),v=v.sibling;v=T,v===null?(T=h.child,h.child=null):(T=v.sibling,v.sibling=null),Nk(h,!1,T,v,N);break;case"backwards":for(v=null,T=h.child,h.child=null;T!==null;){if(u=T.alternate,u!==null&&Ax(u)===null){h.child=T;break}u=T.sibling,T.sibling=v,v=T,T=u}Nk(h,!0,v,null,N);break;case"together":Nk(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Rx(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function zo(u,h,v){if(u!==null&&(h.dependencies=u.dependencies),od|=h.lanes,(v&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(t(153));if(h.child!==null){for(u=h.child,v=kc(u,u.pendingProps),h.child=v,v.return=h;u.sibling!==null;)u=u.sibling,v=v.sibling=kc(u,u.pendingProps),v.return=h;v.sibling=null}return h.child}function tJ(u,h,v){switch(h.tag){case 3:f$(h),Rf();break;case 5:NL(h);break;case 1:pi(h.type)&&px(h);break;case 4:uk(h,h.stateNode.containerInfo);break;case 10:var S=h.type._context,T=h.memoizedProps.value;Ht(wx,S._currentValue),S._currentValue=T;break;case 13:if(S=h.memoizedState,S!==null)return S.dehydrated!==null?(Ht(ur,ur.current&1),h.flags|=128,null):(v&h.child.childLanes)!==0?m$(u,h,v):(Ht(ur,ur.current&1),u=zo(u,h,v),u!==null?u.sibling:null);Ht(ur,ur.current&1);break;case 19:if(S=(v&h.childLanes)!==0,(u.flags&128)!==0){if(S)return v$(u,h,v);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Ht(ur,ur.current),S)break;return null;case 22:case 23:return h.lanes=0,u$(u,h,v)}return zo(u,h,v)}var y$,Rk,b$,w$;y$=function(u,h){for(var v=h.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Rk=function(){},b$=function(u,h,v,S){var T=u.memoizedProps;if(T!==S){u=h.stateNode,sd(Fa.current);var N=null;switch(v){case"input":T=De(u,T),S=De(u,S),N=[];break;case"select":T=ne({},T,{value:void 0}),S=ne({},S,{value:void 0}),N=[];break;case"textarea":T=Qt(u,T),S=Qt(u,S),N=[];break;default:typeof T.onClick!="function"&&typeof S.onClick=="function"&&(u.onclick=dx)}bf(v,S);var L;v=null;for(se in T)if(!S.hasOwnProperty(se)&&T.hasOwnProperty(se)&&T[se]!=null)if(se==="style"){var K=T[se];for(L in K)K.hasOwnProperty(L)&&(v||(v={}),v[L]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?N||(N=[]):(N=N||[]).push(se,null));for(se in S){var Q=S[se];if(K=T!=null?T[se]:void 0,S.hasOwnProperty(se)&&Q!==K&&(Q!=null||K!=null))if(se==="style")if(K){for(L in K)!K.hasOwnProperty(L)||Q&&Q.hasOwnProperty(L)||(v||(v={}),v[L]="");for(L in Q)Q.hasOwnProperty(L)&&K[L]!==Q[L]&&(v||(v={}),v[L]=Q[L])}else v||(N||(N=[]),N.push(se,v)),v=Q;else se==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,K=K?K.__html:void 0,Q!=null&&K!==Q&&(N=N||[]).push(se,Q)):se==="children"?typeof Q!="string"&&typeof Q!="number"||(N=N||[]).push(se,""+Q):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(Q!=null&&se==="onScroll"&&Zt("scroll",u),N||K===Q||(N=[])):(N=N||[]).push(se,Q))}v&&(N=N||[]).push("style",v);var se=N;(h.updateQueue=se)&&(h.flags|=4)}},w$=function(u,h,v,S){v!==S&&(h.flags|=4)};function Ev(u,h){if(!ir)switch(u.tailMode){case"hidden":h=u.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function Fn(u){var h=u.alternate!==null&&u.alternate.child===u.child,v=0,S=0;if(h)for(var T=u.child;T!==null;)v|=T.lanes|T.childLanes,S|=T.subtreeFlags&14680064,S|=T.flags&14680064,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)v|=T.lanes|T.childLanes,S|=T.subtreeFlags,S|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=S,u.childLanes=v,h}function rJ(u,h,v){var S=h.pendingProps;switch(ek(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(h),null;case 1:return pi(h.type)&&fx(),Fn(h),null;case 3:return S=h.stateNode,Df(),er(fi),er(Ln),fk(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(yx(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,ra!==null&&(qk(ra),ra=null))),Rk(u,h),Fn(h),null;case 5:dk(h);var T=sd(wv.current);if(v=h.type,u!==null&&h.stateNode!=null)b$(u,h,v,S,T),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!S){if(h.stateNode===null)throw Error(t(166));return Fn(h),null}if(u=sd(Fa.current),yx(h)){S=h.stateNode,v=h.type;var N=h.memoizedProps;switch(S[$a]=h,S[mv]=N,u=(h.mode&1)!==0,v){case"dialog":Zt("cancel",S),Zt("close",S);break;case"iframe":case"object":case"embed":Zt("load",S);break;case"video":case"audio":for(T=0;T<hv.length;T++)Zt(hv[T],S);break;case"source":Zt("error",S);break;case"img":case"image":case"link":Zt("error",S),Zt("load",S);break;case"details":Zt("toggle",S);break;case"input":xt(S,N),Zt("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!N.multiple},Zt("invalid",S);break;case"textarea":Ri(S,N),Zt("invalid",S)}bf(v,N),T=null;for(var L in N)if(N.hasOwnProperty(L)){var K=N[L];L==="children"?typeof K=="string"?S.textContent!==K&&(N.suppressHydrationWarning!==!0&&ux(S.textContent,K,u),T=["children",K]):typeof K=="number"&&S.textContent!==""+K&&(N.suppressHydrationWarning!==!0&&ux(S.textContent,K,u),T=["children",""+K]):i.hasOwnProperty(L)&&K!=null&&L==="onScroll"&&Zt("scroll",S)}switch(v){case"input":be(S),In(S,N,!0);break;case"textarea":be(S),Yu(S);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(S.onclick=dx)}S=T,h.updateQueue=S,S!==null&&(h.flags|=4)}else{L=T.nodeType===9?T:T.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Xu(v)),u==="http://www.w3.org/1999/xhtml"?v==="script"?(u=L.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof S.is=="string"?u=L.createElement(v,{is:S.is}):(u=L.createElement(v),v==="select"&&(L=u,S.multiple?L.multiple=!0:S.size&&(L.size=S.size))):u=L.createElementNS(u,v),u[$a]=h,u[mv]=S,y$(u,h,!1,!1),h.stateNode=u;e:{switch(L=Kg(v,S),v){case"dialog":Zt("cancel",u),Zt("close",u),T=S;break;case"iframe":case"object":case"embed":Zt("load",u),T=S;break;case"video":case"audio":for(T=0;T<hv.length;T++)Zt(hv[T],u);T=S;break;case"source":Zt("error",u),T=S;break;case"img":case"image":case"link":Zt("error",u),Zt("load",u),T=S;break;case"details":Zt("toggle",u),T=S;break;case"input":xt(u,S),T=De(u,S),Zt("invalid",u);break;case"option":T=S;break;case"select":u._wrapperState={wasMultiple:!!S.multiple},T=ne({},S,{value:void 0}),Zt("invalid",u);break;case"textarea":Ri(u,S),T=Qt(u,S),Zt("invalid",u);break;default:T=S}bf(v,T),K=T;for(N in K)if(K.hasOwnProperty(N)){var Q=K[N];N==="style"?Hw(u,Q):N==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&yf(u,Q)):N==="children"?typeof Q=="string"?(v!=="textarea"||Q!=="")&&bs(u,Q):typeof Q=="number"&&bs(u,""+Q):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(i.hasOwnProperty(N)?Q!=null&&N==="onScroll"&&Zt("scroll",u):Q!=null&&A(u,N,Q,L))}switch(v){case"input":be(u),In(u,S,!1);break;case"textarea":be(u),Yu(u);break;case"option":S.value!=null&&u.setAttribute("value",""+we(S.value));break;case"select":u.multiple=!!S.multiple,N=S.value,N!=null?Mn(u,!!S.multiple,N,!1):S.defaultValue!=null&&Mn(u,!!S.multiple,S.defaultValue,!0);break;default:typeof T.onClick=="function"&&(u.onclick=dx)}switch(v){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Fn(h),null;case 6:if(u&&h.stateNode!=null)w$(u,h,u.memoizedProps,S);else{if(typeof S!="string"&&h.stateNode===null)throw Error(t(166));if(v=sd(wv.current),sd(Fa.current),yx(h)){if(S=h.stateNode,v=h.memoizedProps,S[$a]=h,(N=S.nodeValue!==v)&&(u=Mi,u!==null))switch(u.tag){case 3:ux(S.nodeValue,v,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&ux(S.nodeValue,v,(u.mode&1)!==0)}N&&(h.flags|=4)}else S=(v.nodeType===9?v:v.ownerDocument).createTextNode(S),S[$a]=h,h.stateNode=S}return Fn(h),null;case 13:if(er(ur),S=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(ir&&Di!==null&&(h.mode&1)!==0&&(h.flags&128)===0)SL(),Rf(),h.flags|=98560,N=!1;else if(N=yx(h),S!==null&&S.dehydrated!==null){if(u===null){if(!N)throw Error(t(318));if(N=h.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(t(317));N[$a]=h}else Rf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Fn(h),N=!1}else ra!==null&&(qk(ra),ra=null),N=!0;if(!N)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=v,h):(S=S!==null,S!==(u!==null&&u.memoizedState!==null)&&S&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(ur.current&1)!==0?qr===0&&(qr=3):Vk())),h.updateQueue!==null&&(h.flags|=4),Fn(h),null);case 4:return Df(),Rk(u,h),u===null&&fv(h.stateNode.containerInfo),Fn(h),null;case 10:return ak(h.type._context),Fn(h),null;case 17:return pi(h.type)&&fx(),Fn(h),null;case 19:if(er(ur),N=h.memoizedState,N===null)return Fn(h),null;if(S=(h.flags&128)!==0,L=N.rendering,L===null)if(S)Ev(N,!1);else{if(qr!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(L=Ax(u),L!==null){for(h.flags|=128,Ev(N,!1),S=L.updateQueue,S!==null&&(h.updateQueue=S,h.flags|=4),h.subtreeFlags=0,S=v,v=h.child;v!==null;)N=v,u=S,N.flags&=14680066,L=N.alternate,L===null?(N.childLanes=0,N.lanes=u,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=L.childLanes,N.lanes=L.lanes,N.child=L.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=L.memoizedProps,N.memoizedState=L.memoizedState,N.updateQueue=L.updateQueue,N.type=L.type,u=L.dependencies,N.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),v=v.sibling;return Ht(ur,ur.current&1|2),h.child}u=u.sibling}N.tail!==null&&Tr()>Bf&&(h.flags|=128,S=!0,Ev(N,!1),h.lanes=4194304)}else{if(!S)if(u=Ax(L),u!==null){if(h.flags|=128,S=!0,v=u.updateQueue,v!==null&&(h.updateQueue=v,h.flags|=4),Ev(N,!0),N.tail===null&&N.tailMode==="hidden"&&!L.alternate&&!ir)return Fn(h),null}else 2*Tr()-N.renderingStartTime>Bf&&v!==1073741824&&(h.flags|=128,S=!0,Ev(N,!1),h.lanes=4194304);N.isBackwards?(L.sibling=h.child,h.child=L):(v=N.last,v!==null?v.sibling=L:h.child=L,N.last=L)}return N.tail!==null?(h=N.tail,N.rendering=h,N.tail=h.sibling,N.renderingStartTime=Tr(),h.sibling=null,v=ur.current,Ht(ur,S?v&1|2:v&1),h):(Fn(h),null);case 22:case 23:return Wk(),S=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(h.flags|=8192),S&&(h.mode&1)!==0?(Li&1073741824)!==0&&(Fn(h),h.subtreeFlags&6&&(h.flags|=8192)):Fn(h),null;case 24:return null;case 25:return null}throw Error(t(156,h.tag))}function nJ(u,h){switch(ek(h),h.tag){case 1:return pi(h.type)&&fx(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Df(),er(fi),er(Ln),fk(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return dk(h),null;case 13:if(er(ur),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(t(340));Rf()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return er(ur),null;case 4:return Df(),null;case 10:return ak(h.type._context),null;case 22:case 23:return Wk(),null;case 24:return null;default:return null}}var jx=!1,Bn=!1,iJ=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function $f(u,h){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(S){yr(u,h,S)}else v.current=null}function jk(u,h,v){try{v()}catch(S){yr(u,h,S)}}var x$=!1;function sJ(u,h){if(WE=Zw,u=ZD(),LE(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var S=v.getSelection&&v.getSelection();if(S&&S.rangeCount!==0){v=S.anchorNode;var T=S.anchorOffset,N=S.focusNode;S=S.focusOffset;try{v.nodeType,N.nodeType}catch{v=null;break e}var L=0,K=-1,Q=-1,se=0,fe=0,ve=u,de=null;t:for(;;){for(var Ae;ve!==v||T!==0&&ve.nodeType!==3||(K=L+T),ve!==N||S!==0&&ve.nodeType!==3||(Q=L+S),ve.nodeType===3&&(L+=ve.nodeValue.length),(Ae=ve.firstChild)!==null;)de=ve,ve=Ae;for(;;){if(ve===u)break t;if(de===v&&++se===T&&(K=L),de===N&&++fe===S&&(Q=L),(Ae=ve.nextSibling)!==null)break;ve=de,de=ve.parentNode}ve=Ae}v=K===-1||Q===-1?null:{start:K,end:Q}}else v=null}v=v||{start:0,end:0}}else v=null;for(VE={focusedElem:u,selectionRange:v},Zw=!1,Ce=h;Ce!==null;)if(h=Ce,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Ce=u;else for(;Ce!==null;){h=Ce;try{var Pe=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Re=Pe.memoizedProps,Pr=Pe.memoizedState,te=h.stateNode,Z=te.getSnapshotBeforeUpdate(h.elementType===h.type?Re:na(h.type,Re),Pr);te.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var ie=h.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ye){yr(h,h.return,ye)}if(u=h.sibling,u!==null){u.return=h.return,Ce=u;break}Ce=h.return}return Pe=x$,x$=!1,Pe}function kv(u,h,v){var S=h.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var T=S=S.next;do{if((T.tag&u)===u){var N=T.destroy;T.destroy=void 0,N!==void 0&&jk(h,v,N)}T=T.next}while(T!==S)}}function Ix(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&u)===u){var S=v.create;v.destroy=S()}v=v.next}while(v!==h)}}function Ik(u){var h=u.ref;if(h!==null){var v=u.stateNode;switch(u.tag){case 5:u=v;break;default:u=v}typeof h=="function"?h(u):h.current=u}}function _$(u){var h=u.alternate;h!==null&&(u.alternate=null,_$(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[$a],delete h[mv],delete h[XE],delete h[UX],delete h[zX])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function S$(u){return u.tag===5||u.tag===3||u.tag===4}function A$(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||S$(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Mk(u,h,v){var S=u.tag;if(S===5||S===6)u=u.stateNode,h?v.nodeType===8?v.parentNode.insertBefore(u,h):v.insertBefore(u,h):(v.nodeType===8?(h=v.parentNode,h.insertBefore(u,v)):(h=v,h.appendChild(u)),v=v._reactRootContainer,v!=null||h.onclick!==null||(h.onclick=dx));else if(S!==4&&(u=u.child,u!==null))for(Mk(u,h,v),u=u.sibling;u!==null;)Mk(u,h,v),u=u.sibling}function Dk(u,h,v){var S=u.tag;if(S===5||S===6)u=u.stateNode,h?v.insertBefore(u,h):v.appendChild(u);else if(S!==4&&(u=u.child,u!==null))for(Dk(u,h,v),u=u.sibling;u!==null;)Dk(u,h,v),u=u.sibling}var yn=null,ia=!1;function xc(u,h,v){for(v=v.child;v!==null;)E$(u,h,v),v=v.sibling}function E$(u,h,v){if(La&&typeof La.onCommitFiberUnmount=="function")try{La.onCommitFiberUnmount(Gw,v)}catch{}switch(v.tag){case 5:Bn||$f(v,h);case 6:var S=yn,T=ia;yn=null,xc(u,h,v),yn=S,ia=T,yn!==null&&(ia?(u=yn,v=v.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)):yn.removeChild(v.stateNode));break;case 18:yn!==null&&(ia?(u=yn,v=v.stateNode,u.nodeType===8?YE(u.parentNode,v):u.nodeType===1&&YE(u,v),iv(u)):YE(yn,v.stateNode));break;case 4:S=yn,T=ia,yn=v.stateNode.containerInfo,ia=!0,xc(u,h,v),yn=S,ia=T;break;case 0:case 11:case 14:case 15:if(!Bn&&(S=v.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){T=S=S.next;do{var N=T,L=N.destroy;N=N.tag,L!==void 0&&((N&2)!==0||(N&4)!==0)&&jk(v,h,L),T=T.next}while(T!==S)}xc(u,h,v);break;case 1:if(!Bn&&($f(v,h),S=v.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=v.memoizedProps,S.state=v.memoizedState,S.componentWillUnmount()}catch(K){yr(v,h,K)}xc(u,h,v);break;case 21:xc(u,h,v);break;case 22:v.mode&1?(Bn=(S=Bn)||v.memoizedState!==null,xc(u,h,v),Bn=S):xc(u,h,v);break;default:xc(u,h,v)}}function k$(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new iJ),h.forEach(function(S){var T=pJ.bind(null,u,S);v.has(S)||(v.add(S),S.then(T,T))})}}function sa(u,h){var v=h.deletions;if(v!==null)for(var S=0;S<v.length;S++){var T=v[S];try{var N=u,L=h,K=L;e:for(;K!==null;){switch(K.tag){case 5:yn=K.stateNode,ia=!1;break e;case 3:yn=K.stateNode.containerInfo,ia=!0;break e;case 4:yn=K.stateNode.containerInfo,ia=!0;break e}K=K.return}if(yn===null)throw Error(t(160));E$(N,L,T),yn=null,ia=!1;var Q=T.alternate;Q!==null&&(Q.return=null),T.return=null}catch(se){yr(T,h,se)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)C$(h,u),h=h.sibling}function C$(u,h){var v=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(sa(h,u),Ua(u),S&4){try{kv(3,u,u.return),Ix(3,u)}catch(Re){yr(u,u.return,Re)}try{kv(5,u,u.return)}catch(Re){yr(u,u.return,Re)}}break;case 1:sa(h,u),Ua(u),S&512&&v!==null&&$f(v,v.return);break;case 5:if(sa(h,u),Ua(u),S&512&&v!==null&&$f(v,v.return),u.flags&32){var T=u.stateNode;try{bs(T,"")}catch(Re){yr(u,u.return,Re)}}if(S&4&&(T=u.stateNode,T!=null)){var N=u.memoizedProps,L=v!==null?v.memoizedProps:N,K=u.type,Q=u.updateQueue;if(u.updateQueue=null,Q!==null)try{K==="input"&&N.type==="radio"&&N.name!=null&&gt(T,N),Kg(K,L);var se=Kg(K,N);for(L=0;L<Q.length;L+=2){var fe=Q[L],ve=Q[L+1];fe==="style"?Hw(T,ve):fe==="dangerouslySetInnerHTML"?yf(T,ve):fe==="children"?bs(T,ve):A(T,fe,ve,se)}switch(K){case"input":_t(T,N);break;case"textarea":Ku(T,N);break;case"select":var de=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!N.multiple;var Ae=N.value;Ae!=null?Mn(T,!!N.multiple,Ae,!1):de!==!!N.multiple&&(N.defaultValue!=null?Mn(T,!!N.multiple,N.defaultValue,!0):Mn(T,!!N.multiple,N.multiple?[]:"",!1))}T[mv]=N}catch(Re){yr(u,u.return,Re)}}break;case 6:if(sa(h,u),Ua(u),S&4){if(u.stateNode===null)throw Error(t(162));T=u.stateNode,N=u.memoizedProps;try{T.nodeValue=N}catch(Re){yr(u,u.return,Re)}}break;case 3:if(sa(h,u),Ua(u),S&4&&v!==null&&v.memoizedState.isDehydrated)try{iv(h.containerInfo)}catch(Re){yr(u,u.return,Re)}break;case 4:sa(h,u),Ua(u);break;case 13:sa(h,u),Ua(u),T=u.child,T.flags&8192&&(N=T.memoizedState!==null,T.stateNode.isHidden=N,!N||T.alternate!==null&&T.alternate.memoizedState!==null||(Fk=Tr())),S&4&&k$(u);break;case 22:if(fe=v!==null&&v.memoizedState!==null,u.mode&1?(Bn=(se=Bn)||fe,sa(h,u),Bn=se):sa(h,u),Ua(u),S&8192){if(se=u.memoizedState!==null,(u.stateNode.isHidden=se)&&!fe&&(u.mode&1)!==0)for(Ce=u,fe=u.child;fe!==null;){for(ve=Ce=fe;Ce!==null;){switch(de=Ce,Ae=de.child,de.tag){case 0:case 11:case 14:case 15:kv(4,de,de.return);break;case 1:$f(de,de.return);var Pe=de.stateNode;if(typeof Pe.componentWillUnmount=="function"){S=de,v=de.return;try{h=S,Pe.props=h.memoizedProps,Pe.state=h.memoizedState,Pe.componentWillUnmount()}catch(Re){yr(S,v,Re)}}break;case 5:$f(de,de.return);break;case 22:if(de.memoizedState!==null){O$(ve);continue}}Ae!==null?(Ae.return=de,Ce=Ae):O$(ve)}fe=fe.sibling}e:for(fe=null,ve=u;;){if(ve.tag===5){if(fe===null){fe=ve;try{T=ve.stateNode,se?(N=T.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(K=ve.stateNode,Q=ve.memoizedProps.style,L=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,K.style.display=qw("display",L))}catch(Re){yr(u,u.return,Re)}}}else if(ve.tag===6){if(fe===null)try{ve.stateNode.nodeValue=se?"":ve.memoizedProps}catch(Re){yr(u,u.return,Re)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===u)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===u)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===u)break e;fe===ve&&(fe=null),ve=ve.return}fe===ve&&(fe=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:sa(h,u),Ua(u),S&4&&k$(u);break;case 21:break;default:sa(h,u),Ua(u)}}function Ua(u){var h=u.flags;if(h&2){try{e:{for(var v=u.return;v!==null;){if(S$(v)){var S=v;break e}v=v.return}throw Error(t(160))}switch(S.tag){case 5:var T=S.stateNode;S.flags&32&&(bs(T,""),S.flags&=-33);var N=A$(u);Dk(u,N,T);break;case 3:case 4:var L=S.stateNode.containerInfo,K=A$(u);Mk(u,K,L);break;default:throw Error(t(161))}}catch(Q){yr(u,u.return,Q)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function aJ(u,h,v){Ce=u,T$(u)}function T$(u,h,v){for(var S=(u.mode&1)!==0;Ce!==null;){var T=Ce,N=T.child;if(T.tag===22&&S){var L=T.memoizedState!==null||jx;if(!L){var K=T.alternate,Q=K!==null&&K.memoizedState!==null||Bn;K=jx;var se=Bn;if(jx=L,(Bn=Q)&&!se)for(Ce=T;Ce!==null;)L=Ce,Q=L.child,L.tag===22&&L.memoizedState!==null?N$(T):Q!==null?(Q.return=L,Ce=Q):N$(T);for(;N!==null;)Ce=N,T$(N),N=N.sibling;Ce=T,jx=K,Bn=se}P$(u)}else(T.subtreeFlags&8772)!==0&&N!==null?(N.return=T,Ce=N):P$(u)}}function P$(u){for(;Ce!==null;){var h=Ce;if((h.flags&8772)!==0){var v=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Bn||Ix(5,h);break;case 1:var S=h.stateNode;if(h.flags&4&&!Bn)if(v===null)S.componentDidMount();else{var T=h.elementType===h.type?v.memoizedProps:na(h.type,v.memoizedProps);S.componentDidUpdate(T,v.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var N=h.updateQueue;N!==null&&OL(h,N,S);break;case 3:var L=h.updateQueue;if(L!==null){if(v=null,h.child!==null)switch(h.child.tag){case 5:v=h.child.stateNode;break;case 1:v=h.child.stateNode}OL(h,L,v)}break;case 5:var K=h.stateNode;if(v===null&&h.flags&4){v=K;var Q=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&v.focus();break;case"img":Q.src&&(v.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var se=h.alternate;if(se!==null){var fe=se.memoizedState;if(fe!==null){var ve=fe.dehydrated;ve!==null&&iv(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bn||h.flags&512&&Ik(h)}catch(de){yr(h,h.return,de)}}if(h===u){Ce=null;break}if(v=h.sibling,v!==null){v.return=h.return,Ce=v;break}Ce=h.return}}function O$(u){for(;Ce!==null;){var h=Ce;if(h===u){Ce=null;break}var v=h.sibling;if(v!==null){v.return=h.return,Ce=v;break}Ce=h.return}}function N$(u){for(;Ce!==null;){var h=Ce;try{switch(h.tag){case 0:case 11:case 15:var v=h.return;try{Ix(4,h)}catch(Q){yr(h,v,Q)}break;case 1:var S=h.stateNode;if(typeof S.componentDidMount=="function"){var T=h.return;try{S.componentDidMount()}catch(Q){yr(h,T,Q)}}var N=h.return;try{Ik(h)}catch(Q){yr(h,N,Q)}break;case 5:var L=h.return;try{Ik(h)}catch(Q){yr(h,L,Q)}}}catch(Q){yr(h,h.return,Q)}if(h===u){Ce=null;break}var K=h.sibling;if(K!==null){K.return=h.return,Ce=K;break}Ce=h.return}}var oJ=Math.ceil,Mx=C.ReactCurrentDispatcher,Lk=C.ReactCurrentOwner,ks=C.ReactCurrentBatchConfig,ut=0,sn=null,jr=null,bn=0,Li=0,Ff=gc(0),qr=0,Cv=null,od=0,Dx=0,$k=0,Tv=null,gi=null,Fk=0,Bf=1/0,qo=null,Lx=!1,Bk=null,_c=null,$x=!1,Sc=null,Fx=0,Pv=0,Uk=null,Bx=-1,Ux=0;function ti(){return(ut&6)!==0?Tr():Bx!==-1?Bx:Bx=Tr()}function Ac(u){return(u.mode&1)===0?1:(ut&2)!==0&&bn!==0?bn&-bn:HX.transition!==null?(Ux===0&&(Ux=AD()),Ux):(u=Ct,u!==0||(u=window.event,u=u===void 0?16:jD(u.type)),u)}function aa(u,h,v,S){if(50<Pv)throw Pv=0,Uk=null,Error(t(185));Zg(u,v,S),((ut&2)===0||u!==sn)&&(u===sn&&((ut&2)===0&&(Dx|=v),qr===4&&Ec(u,bn)),vi(u,S),v===1&&ut===0&&(h.mode&1)===0&&(Bf=Tr()+500,mx&&yc()))}function vi(u,h){var v=u.callbackNode;HY(u,h);var S=Xw(u,u===sn?bn:0);if(S===0)v!==null&&xD(v),u.callbackNode=null,u.callbackPriority=0;else if(h=S&-S,u.callbackPriority!==h){if(v!=null&&xD(v),h===1)u.tag===0?qX(j$.bind(null,u)):yL(j$.bind(null,u)),FX(function(){(ut&6)===0&&yc()}),v=null;else{switch(ED(S)){case 1:v=wE;break;case 4:v=_D;break;case 16:v=Vw;break;case 536870912:v=SD;break;default:v=Vw}v=U$(v,R$.bind(null,u))}u.callbackPriority=h,u.callbackNode=v}}function R$(u,h){if(Bx=-1,Ux=0,(ut&6)!==0)throw Error(t(327));var v=u.callbackNode;if(Uf()&&u.callbackNode!==v)return null;var S=Xw(u,u===sn?bn:0);if(S===0)return null;if((S&30)!==0||(S&u.expiredLanes)!==0||h)h=zx(u,S);else{h=S;var T=ut;ut|=2;var N=M$();(sn!==u||bn!==h)&&(qo=null,Bf=Tr()+500,cd(u,h));do try{uJ();break}catch(K){I$(u,K)}while(!0);sk(),Mx.current=N,ut=T,jr!==null?h=0:(sn=null,bn=0,h=qr)}if(h!==0){if(h===2&&(T=xE(u),T!==0&&(S=T,h=zk(u,T))),h===1)throw v=Cv,cd(u,0),Ec(u,S),vi(u,Tr()),v;if(h===6)Ec(u,S);else{if(T=u.current.alternate,(S&30)===0&&!lJ(T)&&(h=zx(u,S),h===2&&(N=xE(u),N!==0&&(S=N,h=zk(u,N))),h===1))throw v=Cv,cd(u,0),Ec(u,S),vi(u,Tr()),v;switch(u.finishedWork=T,u.finishedLanes=S,h){case 0:case 1:throw Error(t(345));case 2:ud(u,gi,qo);break;case 3:if(Ec(u,S),(S&130023424)===S&&(h=Fk+500-Tr(),10<h)){if(Xw(u,0)!==0)break;if(T=u.suspendedLanes,(T&S)!==S){ti(),u.pingedLanes|=u.suspendedLanes&T;break}u.timeoutHandle=KE(ud.bind(null,u,gi,qo),h);break}ud(u,gi,qo);break;case 4:if(Ec(u,S),(S&4194240)===S)break;for(h=u.eventTimes,T=-1;0<S;){var L=31-ea(S);N=1<<L,L=h[L],L>T&&(T=L),S&=~N}if(S=T,S=Tr()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*oJ(S/1960))-S,10<S){u.timeoutHandle=KE(ud.bind(null,u,gi,qo),S);break}ud(u,gi,qo);break;case 5:ud(u,gi,qo);break;default:throw Error(t(329))}}}return vi(u,Tr()),u.callbackNode===v?R$.bind(null,u):null}function zk(u,h){var v=Tv;return u.current.memoizedState.isDehydrated&&(cd(u,h).flags|=256),u=zx(u,h),u!==2&&(h=gi,gi=v,h!==null&&qk(h)),u}function qk(u){gi===null?gi=u:gi.push.apply(gi,u)}function lJ(u){for(var h=u;;){if(h.flags&16384){var v=h.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var S=0;S<v.length;S++){var T=v[S],N=T.getSnapshot;T=T.value;try{if(!ta(N(),T))return!1}catch{return!1}}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Ec(u,h){for(h&=~$k,h&=~Dx,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var v=31-ea(h),S=1<<v;u[v]=-1,h&=~S}}function j$(u){if((ut&6)!==0)throw Error(t(327));Uf();var h=Xw(u,0);if((h&1)===0)return vi(u,Tr()),null;var v=zx(u,h);if(u.tag!==0&&v===2){var S=xE(u);S!==0&&(h=S,v=zk(u,S))}if(v===1)throw v=Cv,cd(u,0),Ec(u,h),vi(u,Tr()),v;if(v===6)throw Error(t(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,ud(u,gi,qo),vi(u,Tr()),null}function Hk(u,h){var v=ut;ut|=1;try{return u(h)}finally{ut=v,ut===0&&(Bf=Tr()+500,mx&&yc())}}function ld(u){Sc!==null&&Sc.tag===0&&(ut&6)===0&&Uf();var h=ut;ut|=1;var v=ks.transition,S=Ct;try{if(ks.transition=null,Ct=1,u)return u()}finally{Ct=S,ks.transition=v,ut=h,(ut&6)===0&&yc()}}function Wk(){Li=Ff.current,er(Ff)}function cd(u,h){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==-1&&(u.timeoutHandle=-1,$X(v)),jr!==null)for(v=jr.return;v!==null;){var S=v;switch(ek(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&fx();break;case 3:Df(),er(fi),er(Ln),fk();break;case 5:dk(S);break;case 4:Df();break;case 13:er(ur);break;case 19:er(ur);break;case 10:ak(S.type._context);break;case 22:case 23:Wk()}v=v.return}if(sn=u,jr=u=kc(u.current,null),bn=Li=h,qr=0,Cv=null,$k=Dx=od=0,gi=Tv=null,id!==null){for(h=0;h<id.length;h++)if(v=id[h],S=v.interleaved,S!==null){v.interleaved=null;var T=S.next,N=v.pending;if(N!==null){var L=N.next;N.next=T,S.next=L}v.pending=S}id=null}return u}function I$(u,h){do{var v=jr;try{if(sk(),Ex.current=Px,kx){for(var S=dr.memoizedState;S!==null;){var T=S.queue;T!==null&&(T.pending=null),S=S.next}kx=!1}if(ad=0,nn=zr=dr=null,xv=!1,_v=0,Lk.current=null,v===null||v.return===null){qr=1,Cv=h,jr=null;break}e:{var N=u,L=v.return,K=v,Q=h;if(h=bn,K.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var se=Q,fe=K,ve=fe.tag;if((fe.mode&1)===0&&(ve===0||ve===11||ve===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Ae=s$(L);if(Ae!==null){Ae.flags&=-257,a$(Ae,L,K,N,h),Ae.mode&1&&i$(N,se,h),h=Ae,Q=se;var Pe=h.updateQueue;if(Pe===null){var Re=new Set;Re.add(Q),h.updateQueue=Re}else Pe.add(Q);break e}else{if((h&1)===0){i$(N,se,h),Vk();break e}Q=Error(t(426))}}else if(ir&&K.mode&1){var Pr=s$(L);if(Pr!==null){(Pr.flags&65536)===0&&(Pr.flags|=256),a$(Pr,L,K,N,h),nk(Lf(Q,K));break e}}N=Q=Lf(Q,K),qr!==4&&(qr=2),Tv===null?Tv=[N]:Tv.push(N),N=L;do{switch(N.tag){case 3:N.flags|=65536,h&=-h,N.lanes|=h;var te=r$(N,Q,h);PL(N,te);break e;case 1:K=Q;var Z=N.type,ie=N.stateNode;if((N.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(_c===null||!_c.has(ie)))){N.flags|=65536,h&=-h,N.lanes|=h;var ye=n$(N,K,h);PL(N,ye);break e}}N=N.return}while(N!==null)}L$(v)}catch(Ie){h=Ie,jr===v&&v!==null&&(jr=v=v.return);continue}break}while(!0)}function M$(){var u=Mx.current;return Mx.current=Px,u===null?Px:u}function Vk(){(qr===0||qr===3||qr===2)&&(qr=4),sn===null||(od&268435455)===0&&(Dx&268435455)===0||Ec(sn,bn)}function zx(u,h){var v=ut;ut|=2;var S=M$();(sn!==u||bn!==h)&&(qo=null,cd(u,h));do try{cJ();break}catch(T){I$(u,T)}while(!0);if(sk(),ut=v,Mx.current=S,jr!==null)throw Error(t(261));return sn=null,bn=0,qr}function cJ(){for(;jr!==null;)D$(jr)}function uJ(){for(;jr!==null&&!MY();)D$(jr)}function D$(u){var h=B$(u.alternate,u,Li);u.memoizedProps=u.pendingProps,h===null?L$(u):jr=h,Lk.current=null}function L$(u){var h=u;do{var v=h.alternate;if(u=h.return,(h.flags&32768)===0){if(v=rJ(v,h,Li),v!==null){jr=v;return}}else{if(v=nJ(v,h),v!==null){v.flags&=32767,jr=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{qr=6,jr=null;return}}if(h=h.sibling,h!==null){jr=h;return}jr=h=u}while(h!==null);qr===0&&(qr=5)}function ud(u,h,v){var S=Ct,T=ks.transition;try{ks.transition=null,Ct=1,dJ(u,h,v,S)}finally{ks.transition=T,Ct=S}return null}function dJ(u,h,v,S){do Uf();while(Sc!==null);if((ut&6)!==0)throw Error(t(327));v=u.finishedWork;var T=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(t(177));u.callbackNode=null,u.callbackPriority=0;var N=v.lanes|v.childLanes;if(WY(u,N),u===sn&&(jr=sn=null,bn=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||$x||($x=!0,U$(Vw,function(){return Uf(),null})),N=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||N){N=ks.transition,ks.transition=null;var L=Ct;Ct=1;var K=ut;ut|=4,Lk.current=null,sJ(u,v),C$(v,u),NX(VE),Zw=!!WE,VE=WE=null,u.current=v,aJ(v),DY(),ut=K,Ct=L,ks.transition=N}else u.current=v;if($x&&($x=!1,Sc=u,Fx=T),N=u.pendingLanes,N===0&&(_c=null),FY(v.stateNode),vi(u,Tr()),h!==null)for(S=u.onRecoverableError,v=0;v<h.length;v++)T=h[v],S(T.value,{componentStack:T.stack,digest:T.digest});if(Lx)throw Lx=!1,u=Bk,Bk=null,u;return(Fx&1)!==0&&u.tag!==0&&Uf(),N=u.pendingLanes,(N&1)!==0?u===Uk?Pv++:(Pv=0,Uk=u):Pv=0,yc(),null}function Uf(){if(Sc!==null){var u=ED(Fx),h=ks.transition,v=Ct;try{if(ks.transition=null,Ct=16>u?16:u,Sc===null)var S=!1;else{if(u=Sc,Sc=null,Fx=0,(ut&6)!==0)throw Error(t(331));var T=ut;for(ut|=4,Ce=u.current;Ce!==null;){var N=Ce,L=N.child;if((Ce.flags&16)!==0){var K=N.deletions;if(K!==null){for(var Q=0;Q<K.length;Q++){var se=K[Q];for(Ce=se;Ce!==null;){var fe=Ce;switch(fe.tag){case 0:case 11:case 15:kv(8,fe,N)}var ve=fe.child;if(ve!==null)ve.return=fe,Ce=ve;else for(;Ce!==null;){fe=Ce;var de=fe.sibling,Ae=fe.return;if(_$(fe),fe===se){Ce=null;break}if(de!==null){de.return=Ae,Ce=de;break}Ce=Ae}}}var Pe=N.alternate;if(Pe!==null){var Re=Pe.child;if(Re!==null){Pe.child=null;do{var Pr=Re.sibling;Re.sibling=null,Re=Pr}while(Re!==null)}}Ce=N}}if((N.subtreeFlags&2064)!==0&&L!==null)L.return=N,Ce=L;else e:for(;Ce!==null;){if(N=Ce,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:kv(9,N,N.return)}var te=N.sibling;if(te!==null){te.return=N.return,Ce=te;break e}Ce=N.return}}var Z=u.current;for(Ce=Z;Ce!==null;){L=Ce;var ie=L.child;if((L.subtreeFlags&2064)!==0&&ie!==null)ie.return=L,Ce=ie;else e:for(L=Z;Ce!==null;){if(K=Ce,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Ix(9,K)}}catch(Ie){yr(K,K.return,Ie)}if(K===L){Ce=null;break e}var ye=K.sibling;if(ye!==null){ye.return=K.return,Ce=ye;break e}Ce=K.return}}if(ut=T,yc(),La&&typeof La.onPostCommitFiberRoot=="function")try{La.onPostCommitFiberRoot(Gw,u)}catch{}S=!0}return S}finally{Ct=v,ks.transition=h}}return!1}function $$(u,h,v){h=Lf(v,h),h=r$(u,h,1),u=wc(u,h,1),h=ti(),u!==null&&(Zg(u,1,h),vi(u,h))}function yr(u,h,v){if(u.tag===3)$$(u,u,v);else for(;h!==null;){if(h.tag===3){$$(h,u,v);break}else if(h.tag===1){var S=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(_c===null||!_c.has(S))){u=Lf(v,u),u=n$(h,u,1),h=wc(h,u,1),u=ti(),h!==null&&(Zg(h,1,u),vi(h,u));break}}h=h.return}}function hJ(u,h,v){var S=u.pingCache;S!==null&&S.delete(h),h=ti(),u.pingedLanes|=u.suspendedLanes&v,sn===u&&(bn&v)===v&&(qr===4||qr===3&&(bn&130023424)===bn&&500>Tr()-Fk?cd(u,0):$k|=v),vi(u,h)}function F$(u,h){h===0&&((u.mode&1)===0?h=1:(h=Yw,Yw<<=1,(Yw&130023424)===0&&(Yw=4194304)));var v=ti();u=Bo(u,h),u!==null&&(Zg(u,h,v),vi(u,v))}function fJ(u){var h=u.memoizedState,v=0;h!==null&&(v=h.retryLane),F$(u,v)}function pJ(u,h){var v=0;switch(u.tag){case 13:var S=u.stateNode,T=u.memoizedState;T!==null&&(v=T.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(t(314))}S!==null&&S.delete(h),F$(u,v)}var B$;B$=function(u,h,v){if(u!==null)if(u.memoizedProps!==h.pendingProps||fi.current)mi=!0;else{if((u.lanes&v)===0&&(h.flags&128)===0)return mi=!1,tJ(u,h,v);mi=(u.flags&131072)!==0}else mi=!1,ir&&(h.flags&1048576)!==0&&bL(h,vx,h.index);switch(h.lanes=0,h.tag){case 2:var S=h.type;Rx(u,h),u=h.pendingProps;var T=Pf(h,Ln.current);Mf(h,v),T=gk(null,h,S,u,T,v);var N=vk();return h.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,pi(S)?(N=!0,px(h)):N=!1,h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,ck(h),T.updater=Ox,h.stateNode=T,T._reactInternals=h,Sk(h,S,u,v),h=Ck(null,h,S,!0,N,v)):(h.tag=0,ir&&N&&ZE(h),ei(null,h,T,v),h=h.child),h;case 16:S=h.elementType;e:{switch(Rx(u,h),u=h.pendingProps,T=S._init,S=T(S._payload),h.type=S,T=h.tag=gJ(S),u=na(S,u),T){case 0:h=kk(null,h,S,u,v);break e;case 1:h=h$(null,h,S,u,v);break e;case 11:h=o$(null,h,S,u,v);break e;case 14:h=l$(null,h,S,na(S.type,u),v);break e}throw Error(t(306,S,""))}return h;case 0:return S=h.type,T=h.pendingProps,T=h.elementType===S?T:na(S,T),kk(u,h,S,T,v);case 1:return S=h.type,T=h.pendingProps,T=h.elementType===S?T:na(S,T),h$(u,h,S,T,v);case 3:e:{if(f$(h),u===null)throw Error(t(387));S=h.pendingProps,N=h.memoizedState,T=N.element,TL(u,h),Sx(h,S,null,v);var L=h.memoizedState;if(S=L.element,N.isDehydrated)if(N={element:S,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},h.updateQueue.baseState=N,h.memoizedState=N,h.flags&256){T=Lf(Error(t(423)),h),h=p$(u,h,S,v,T);break e}else if(S!==T){T=Lf(Error(t(424)),h),h=p$(u,h,S,v,T);break e}else for(Di=mc(h.stateNode.containerInfo.firstChild),Mi=h,ir=!0,ra=null,v=kL(h,null,S,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Rf(),S===T){h=zo(u,h,v);break e}ei(u,h,S,v)}h=h.child}return h;case 5:return NL(h),u===null&&rk(h),S=h.type,T=h.pendingProps,N=u!==null?u.memoizedProps:null,L=T.children,GE(S,T)?L=null:N!==null&&GE(S,N)&&(h.flags|=32),d$(u,h),ei(u,h,L,v),h.child;case 6:return u===null&&rk(h),null;case 13:return m$(u,h,v);case 4:return uk(h,h.stateNode.containerInfo),S=h.pendingProps,u===null?h.child=jf(h,null,S,v):ei(u,h,S,v),h.child;case 11:return S=h.type,T=h.pendingProps,T=h.elementType===S?T:na(S,T),o$(u,h,S,T,v);case 7:return ei(u,h,h.pendingProps,v),h.child;case 8:return ei(u,h,h.pendingProps.children,v),h.child;case 12:return ei(u,h,h.pendingProps.children,v),h.child;case 10:e:{if(S=h.type._context,T=h.pendingProps,N=h.memoizedProps,L=T.value,Ht(wx,S._currentValue),S._currentValue=L,N!==null)if(ta(N.value,L)){if(N.children===T.children&&!fi.current){h=zo(u,h,v);break e}}else for(N=h.child,N!==null&&(N.return=h);N!==null;){var K=N.dependencies;if(K!==null){L=N.child;for(var Q=K.firstContext;Q!==null;){if(Q.context===S){if(N.tag===1){Q=Uo(-1,v&-v),Q.tag=2;var se=N.updateQueue;if(se!==null){se=se.shared;var fe=se.pending;fe===null?Q.next=Q:(Q.next=fe.next,fe.next=Q),se.pending=Q}}N.lanes|=v,Q=N.alternate,Q!==null&&(Q.lanes|=v),ok(N.return,v,h),K.lanes|=v;break}Q=Q.next}}else if(N.tag===10)L=N.type===h.type?null:N.child;else if(N.tag===18){if(L=N.return,L===null)throw Error(t(341));L.lanes|=v,K=L.alternate,K!==null&&(K.lanes|=v),ok(L,v,h),L=N.sibling}else L=N.child;if(L!==null)L.return=N;else for(L=N;L!==null;){if(L===h){L=null;break}if(N=L.sibling,N!==null){N.return=L.return,L=N;break}L=L.return}N=L}ei(u,h,T.children,v),h=h.child}return h;case 9:return T=h.type,S=h.pendingProps.children,Mf(h,v),T=As(T),S=S(T),h.flags|=1,ei(u,h,S,v),h.child;case 14:return S=h.type,T=na(S,h.pendingProps),T=na(S.type,T),l$(u,h,S,T,v);case 15:return c$(u,h,h.type,h.pendingProps,v);case 17:return S=h.type,T=h.pendingProps,T=h.elementType===S?T:na(S,T),Rx(u,h),h.tag=1,pi(S)?(u=!0,px(h)):u=!1,Mf(h,v),e$(h,S,T),Sk(h,S,T,v),Ck(null,h,S,!0,u,v);case 19:return v$(u,h,v);case 22:return u$(u,h,v)}throw Error(t(156,h.tag))};function U$(u,h){return wD(u,h)}function mJ(u,h,v,S){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(u,h,v,S){return new mJ(u,h,v,S)}function Gk(u){return u=u.prototype,!(!u||!u.isReactComponent)}function gJ(u){if(typeof u=="function")return Gk(u)?1:0;if(u!=null){if(u=u.$$typeof,u===z)return 11;if(u===J)return 14}return 2}function kc(u,h){var v=u.alternate;return v===null?(v=Cs(u.tag,h,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=h,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,h=u.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function qx(u,h,v,S,T,N){var L=2;if(S=u,typeof u=="function")Gk(u)&&(L=1);else if(typeof u=="string")L=5;else e:switch(u){case j:return dd(v.children,T,N,h);case M:L=8,T|=8;break;case $:return u=Cs(12,v,h,T|2),u.elementType=$,u.lanes=N,u;case V:return u=Cs(13,v,h,T),u.elementType=V,u.lanes=N,u;case X:return u=Cs(19,v,h,T),u.elementType=X,u.lanes=N,u;case G:return Hx(v,T,N,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case U:L=10;break e;case F:L=9;break e;case z:L=11;break e;case J:L=14;break e;case H:L=16,S=null;break e}throw Error(t(130,u==null?u:typeof u,""))}return h=Cs(L,v,h,T),h.elementType=u,h.type=S,h.lanes=N,h}function dd(u,h,v,S){return u=Cs(7,u,S,h),u.lanes=v,u}function Hx(u,h,v,S){return u=Cs(22,u,S,h),u.elementType=G,u.lanes=v,u.stateNode={isHidden:!1},u}function Kk(u,h,v){return u=Cs(6,u,null,h),u.lanes=v,u}function Yk(u,h,v){return h=Cs(4,u.children!==null?u.children:[],u.key,h),h.lanes=v,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function vJ(u,h,v,S,T){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_E(0),this.expirationTimes=_E(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_E(0),this.identifierPrefix=S,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Xk(u,h,v,S,T,N,L,K,Q){return u=new vJ(u,h,v,K,Q),h===1?(h=1,N===!0&&(h|=8)):h=0,N=Cs(3,null,null,h),u.current=N,N.stateNode=u,N.memoizedState={element:S,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},ck(N),u}function yJ(u,h,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:S==null?null:""+S,children:u,containerInfo:h,implementation:v}}function z$(u){if(!u)return vc;u=u._reactInternals;e:{if(Zu(u)!==u||u.tag!==1)throw Error(t(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(pi(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(t(171))}if(u.tag===1){var v=u.type;if(pi(v))return gL(u,v,h)}return h}function q$(u,h,v,S,T,N,L,K,Q){return u=Xk(v,S,!0,u,T,N,L,K,Q),u.context=z$(null),v=u.current,S=ti(),T=Ac(v),N=Uo(S,T),N.callback=h??null,wc(v,N,T),u.current.lanes=T,Zg(u,T,S),vi(u,S),u}function Wx(u,h,v,S){var T=h.current,N=ti(),L=Ac(T);return v=z$(v),h.context===null?h.context=v:h.pendingContext=v,h=Uo(N,L),h.payload={element:u},S=S===void 0?null:S,S!==null&&(h.callback=S),u=wc(T,h,L),u!==null&&(aa(u,T,L,N),_x(u,T,L)),L}function Vx(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function H$(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<h?v:h}}function Jk(u,h){H$(u,h),(u=u.alternate)&&H$(u,h)}function bJ(){return null}var W$=typeof reportError=="function"?reportError:function(u){console.error(u)};function Qk(u){this._internalRoot=u}Gx.prototype.render=Qk.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(t(409));Wx(u,h,null,null)},Gx.prototype.unmount=Qk.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;ld(function(){Wx(null,u,null,null)}),h[Do]=null}};function Gx(u){this._internalRoot=u}Gx.prototype.unstable_scheduleHydration=function(u){if(u){var h=TD();u={blockedOn:null,target:u,priority:h};for(var v=0;v<hc.length&&h!==0&&h<hc[v].priority;v++);hc.splice(v,0,u),v===0&&ND(u)}};function Zk(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Kx(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function V$(){}function wJ(u,h,v,S,T){if(T){if(typeof S=="function"){var N=S;S=function(){var se=Vx(L);N.call(se)}}var L=q$(h,S,u,0,null,!1,!1,"",V$);return u._reactRootContainer=L,u[Do]=L.current,fv(u.nodeType===8?u.parentNode:u),ld(),L}for(;T=u.lastChild;)u.removeChild(T);if(typeof S=="function"){var K=S;S=function(){var se=Vx(Q);K.call(se)}}var Q=Xk(u,0,!1,null,null,!1,!1,"",V$);return u._reactRootContainer=Q,u[Do]=Q.current,fv(u.nodeType===8?u.parentNode:u),ld(function(){Wx(h,Q,v,S)}),Q}function Yx(u,h,v,S,T){var N=v._reactRootContainer;if(N){var L=N;if(typeof T=="function"){var K=T;T=function(){var Q=Vx(L);K.call(Q)}}Wx(h,L,u,T)}else L=wJ(v,h,u,T,S);return Vx(L)}kD=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var v=Qg(h.pendingLanes);v!==0&&(SE(h,v|1),vi(h,Tr()),(ut&6)===0&&(Bf=Tr()+500,yc()))}break;case 13:ld(function(){var S=Bo(u,1);if(S!==null){var T=ti();aa(S,u,1,T)}}),Jk(u,1)}},AE=function(u){if(u.tag===13){var h=Bo(u,134217728);if(h!==null){var v=ti();aa(h,u,134217728,v)}Jk(u,134217728)}},CD=function(u){if(u.tag===13){var h=Ac(u),v=Bo(u,h);if(v!==null){var S=ti();aa(v,u,h,S)}Jk(u,h)}},TD=function(){return Ct},PD=function(u,h){var v=Ct;try{return Ct=u,h()}finally{Ct=v}},Yg=function(u,h,v){switch(h){case"input":if(_t(u,v),h=v.name,v.type==="radio"&&h!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<v.length;h++){var S=v[h];if(S!==u&&S.form===u.form){var T=hx(S);if(!T)throw Error(t(90));ae(S),_t(S,T)}}}break;case"textarea":Ku(u,v);break;case"select":h=v.value,h!=null&&Mn(u,!!v.multiple,h,!1)}},Ur=Hk,Dn=ld;var xJ={usingClientEntryPoint:!1,Events:[gv,Cf,hx,Ke,Cr,Hk]},Ov={findFiberByHostInstance:ed,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_J={bundleType:Ov.bundleType,version:Ov.version,rendererPackageName:Ov.rendererPackageName,rendererConfig:Ov.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=yD(u),u===null?null:u.stateNode},findFiberByHostInstance:Ov.findFiberByHostInstance||bJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xx.isDisabled&&Xx.supportsFiber)try{Gw=Xx.inject(_J),La=Xx}catch{}}return yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xJ,yi.createPortal=function(u,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zk(h))throw Error(t(200));return yJ(u,h,null,v)},yi.createRoot=function(u,h){if(!Zk(u))throw Error(t(299));var v=!1,S="",T=W$;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(T=h.onRecoverableError)),h=Xk(u,1,!1,null,null,v,!1,S,T),u[Do]=h.current,fv(u.nodeType===8?u.parentNode:u),new Qk(h)},yi.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(t(188)):(u=Object.keys(u).join(","),Error(t(268,u)));return u=yD(h),u=u===null?null:u.stateNode,u},yi.flushSync=function(u){return ld(u)},yi.hydrate=function(u,h,v){if(!Kx(h))throw Error(t(200));return Yx(null,u,h,!0,v)},yi.hydrateRoot=function(u,h,v){if(!Zk(u))throw Error(t(405));var S=v!=null&&v.hydratedSources||null,T=!1,N="",L=W$;if(v!=null&&(v.unstable_strictMode===!0&&(T=!0),v.identifierPrefix!==void 0&&(N=v.identifierPrefix),v.onRecoverableError!==void 0&&(L=v.onRecoverableError)),h=q$(h,null,u,1,v??null,T,!1,N,L),u[Do]=h.current,fv(u),S)for(u=0;u<S.length;u++)v=S[u],T=v._getVersion,T=T(v._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[v,T]:h.mutableSourceEagerHydrationData.push(v,T);return new Gx(h)},yi.render=function(u,h,v){if(!Kx(h))throw Error(t(200));return Yx(null,u,h,!1,v)},yi.unmountComponentAtNode=function(u){if(!Kx(u))throw Error(t(40));return u._reactRootContainer?(ld(function(){Yx(null,null,u,!1,function(){u._reactRootContainer=null,u[Do]=null})}),!0):!1},yi.unstable_batchedUpdates=Hk,yi.unstable_renderSubtreeIntoContainer=function(u,h,v,S){if(!Kx(v))throw Error(t(200));if(u==null||u._reactInternals===void 0)throw Error(t(38));return Yx(u,h,v,!1,S)},yi.version="18.3.1-next-f1338f8080-20240426",yi}var rF;function X8(){if(rF)return nC.exports;rF=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nC.exports=IJ(),nC.exports}var nF;function MJ(){if(nF)return Qx;nF=1;var r=X8();return Qx.createRoot=r.createRoot,Qx.hydrateRoot=r.hydrateRoot,Qx}var aC=MJ(),R=fI();const W=$t(R),DJ=kJ({__proto__:null,default:W},[R]);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iF="popstate";function LJ(r={}){function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=df(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),qN("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof s=="string"?s:Py(s))}function n(i,s){Oi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return FJ(e,t,n,r)}function cr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Oi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $J(){return Math.random().toString(36).substring(2,10)}function sF(r,e){return{usr:r.state,key:r.key,idx:e}}function qN(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?df(e):e,state:t,key:e&&e.key||n||$J()}}function Py({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function df(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function FJ(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",l=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function f(){o="POP";let b=d(),_=b==null?null:b-c;c=b,l&&l({action:o,location:y.location,delta:_})}function m(b,_){o="PUSH";let E=qN(y.location,b,_);t&&t(E,b),c=d()+1;let A=sF(E,c),C=y.createHref(E);try{a.pushState(A,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(C)}s&&l&&l({action:o,location:y.location,delta:1})}function g(b,_){o="REPLACE";let E=qN(y.location,b,_);t&&t(E,b),c=d();let A=sF(E,c),C=y.createHref(E);a.replaceState(A,"",C),s&&l&&l({action:o,location:y.location,delta:0})}function x(b){return BJ(b)}let y={get action(){return o},get location(){return r(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(iF,f),l=b,()=>{i.removeEventListener(iF,f),l=null}},createHref(b){return e(i,b)},createURL:x,encodeLocation(b){let _=x(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:g,go(b){return a.go(b)}};return y}function BJ(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),cr(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Py(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function J8(r,e,t="/"){return UJ(r,e,t,!1)}function UJ(r,e,t,n){let i=typeof e=="string"?df(e):e,s=Wl(i.pathname||"/",t);if(s==null)return null;let a=Q8(r);zJ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=ZJ(s);o=JJ(a[l],c,n)}return o}function Q8(r,e=[],t=[],n="",i=!1){let s=(a,o,l=i,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&l)return;cr(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=$l([n,d.relativePath]),m=t.concat(d);a.children&&a.children.length>0&&(cr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Q8(a.children,e,m,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:YJ(f,a.index),routesMeta:m})};return r.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Z8(a.path))s(a,o,!0,c)}),e}function Z8(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Z8(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function zJ(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:XJ(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var qJ=/^:[\w-]+$/,HJ=3,WJ=2,VJ=1,GJ=10,KJ=-2,aF=r=>r==="*";function YJ(r,e){let t=r.split("/"),n=t.length;return t.some(aF)&&(n+=KJ),e&&(n+=WJ),t.filter(i=>!aF(i)).reduce((i,s)=>i+(qJ.test(s)?HJ:s===""?VJ:GJ),n)}function XJ(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function JJ(r,e,t=!1){let{routesMeta:n}=r,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=A1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!f&&c&&t&&!n[n.length-1].route.index&&(f=A1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:$l([s,f.pathname]),pathnameBase:nQ($l([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=$l([s,f.pathnameBase]))}return a}function A1(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=QJ(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:f},m)=>{if(d==="*"){let x=o[m]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const g=o[m];return f&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:r}}function QJ(r,e=!1,t=!0){Oi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function ZJ(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Wl(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}var eq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eQ=r=>eq.test(r);function tQ(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?df(r):r,s;if(t)if(eQ(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),Oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=oF(t.substring(1),"/"):s=oF(t,e)}else s=e;return{pathname:s,search:iQ(n),hash:sQ(i)}}function oF(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function oC(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rQ(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function pI(r){let e=rQ(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function mI(r,e,t,n=!1){let i;typeof r=="string"?i=df(r):(i={...r},cr(!i.pathname||!i.pathname.includes("?"),oC("?","pathname","search",i)),cr(!i.pathname||!i.pathname.includes("#"),oC("#","pathname","hash",i)),cr(!i.search||!i.search.includes("#"),oC("#","search","hash",i)));let s=r===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let f=e.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}o=f>=0?e[f]:"/"}let l=tQ(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var $l=r=>r.join("/").replace(/\/\/+/g,"/"),nQ=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),iQ=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,sQ=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,aQ=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function oQ(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function lQ(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rq(r,e){let t=r;if(typeof t!="string"||!eq.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,i=!1;if(tq)try{let s=new URL(window.location.href),a=t.startsWith("//")?new URL(s.protocol+t):new URL(t),o=Wl(a.pathname,e);a.origin===s.origin&&o!=null?t=o+a.search+a.hash:i=!0}catch{Oi(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nq=["POST","PUT","PATCH","DELETE"];new Set(nq);var cQ=["GET",...nq];new Set(cQ);var Og=R.createContext(null);Og.displayName="DataRouter";var gA=R.createContext(null);gA.displayName="DataRouterState";var uQ=R.createContext(!1),iq=R.createContext({isTransitioning:!1});iq.displayName="ViewTransition";var dQ=R.createContext(new Map);dQ.displayName="Fetchers";var hQ=R.createContext(null);hQ.displayName="Await";var vs=R.createContext(null);vs.displayName="Navigation";var yw=R.createContext(null);yw.displayName="Location";var Ma=R.createContext({outlet:null,matches:[],isDataRoute:!1});Ma.displayName="Route";var gI=R.createContext(null);gI.displayName="RouteError";var sq="REACT_ROUTER_ERROR",fQ="REDIRECT",pQ="ROUTE_ERROR_RESPONSE";function mQ(r){if(r.startsWith(`${sq}:${fQ}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function gQ(r){if(r.startsWith(`${sq}:${pQ}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new aQ(e.status,e.statusText,e.data)}catch{}}function vQ(r,{relative:e}={}){cr(Ng(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=R.useContext(vs),{hash:i,pathname:s,search:a}=bw(r,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:$l([t,s])),n.createHref({pathname:o,search:a,hash:i})}function Ng(){return R.useContext(yw)!=null}function Oo(){return cr(Ng(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(yw).location}var aq="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oq(r){R.useContext(vs).static||R.useLayoutEffect(r)}function No(){let{isDataRoute:r}=R.useContext(Ma);return r?OQ():yQ()}function yQ(){cr(Ng(),"useNavigate() may be used only in the context of a <Router> component.");let r=R.useContext(Og),{basename:e,navigator:t}=R.useContext(vs),{matches:n}=R.useContext(Ma),{pathname:i}=Oo(),s=JSON.stringify(pI(n)),a=R.useRef(!1);return oq(()=>{a.current=!0}),R.useCallback((l,c={})=>{if(Oi(a.current,aq),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=mI(l,JSON.parse(s),i,c.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:$l([e,d.pathname])),(c.replace?t.replace:t.push)(d,c.state,c)},[e,t,s,i,r])}R.createContext(null);function lq(){let{matches:r}=R.useContext(Ma),e=r[r.length-1];return e?e.params:{}}function bw(r,{relative:e}={}){let{matches:t}=R.useContext(Ma),{pathname:n}=Oo(),i=JSON.stringify(pI(t));return R.useMemo(()=>mI(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function bQ(r,e){return cq(r,e)}function cq(r,e,t,n,i){var E;cr(Ng(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(vs),{matches:a}=R.useContext(Ma),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let A=f&&f.path||"";dq(c,!f||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let m=Oo(),g;if(e){let A=typeof e=="string"?df(e):e;cr(d==="/"||((E=A.pathname)==null?void 0:E.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${A.pathname}" was given in the \`location\` prop.`),g=A}else g=m;let x=g.pathname||"/",y=x;if(d!=="/"){let A=d.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(A.length).join("/")}let b=J8(r,{pathname:y});Oi(f||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Oi(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=AQ(b&&b.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:$l([d,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:$l([d,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),a,t,n,i);return e&&_?R.createElement(yw.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},_):_}function wQ(){let r=PQ(),e=oQ(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",r),a=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:s},"ErrorBoundary")," or"," ",R.createElement("code",{style:s},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:i},t):null,a)}var xQ=R.createElement(wQ,null),uq=class extends R.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=gQ(r.digest);t&&(r=t)}let e=r!==void 0?R.createElement(Ma.Provider,{value:this.props.routeContext},R.createElement(gI.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?R.createElement(_Q,{error:r},e):e}};uq.contextType=uQ;var lC=new WeakMap;function _Q({children:r,error:e}){let{basename:t}=R.useContext(vs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=mQ(e.digest);if(n){let i=lC.get(e);if(i)throw i;let s=rq(n.location,t);if(tq&&!lC.get(e))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw lC.set(e,a),a}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return r}function SQ({routeContext:r,match:e,children:t}){let n=R.useContext(Og);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Ma.Provider,{value:r},t)}function AQ(r,e=[],t=null,n=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);cr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:m,errors:g}=t,x=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let c=t&&n?(d,f)=>{var m,g;n(d,{location:t.location,params:((g=(m=t.matches)==null?void 0:m[0])==null?void 0:g.params)??{},unstable_pattern:lQ(t.matches),errorInfo:f})}:void 0;return s.reduceRight((d,f,m)=>{let g,x=!1,y=null,b=null;t&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||xQ,o&&(l<0&&m===0?(dq("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,b=null):l===m&&(x=!0,b=f.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,m+1)),E=()=>{let A;return g?A=y:x?A=b:f.route.Component?A=R.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=d,R.createElement(SQ,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:t!=null},children:A})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?R.createElement(uq,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:c}):E()},null)}function vI(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EQ(r){let e=R.useContext(Og);return cr(e,vI(r)),e}function kQ(r){let e=R.useContext(gA);return cr(e,vI(r)),e}function CQ(r){let e=R.useContext(Ma);return cr(e,vI(r)),e}function yI(r){let e=CQ(r),t=e.matches[e.matches.length-1];return cr(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function TQ(){return yI("useRouteId")}function PQ(){var n;let r=R.useContext(gI),e=kQ("useRouteError"),t=yI("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function OQ(){let{router:r}=EQ("useNavigate"),e=yI("useNavigate"),t=R.useRef(!1);return oq(()=>{t.current=!0}),R.useCallback(async(i,s={})=>{Oi(t.current,aq),t.current&&(typeof i=="number"?await r.navigate(i):await r.navigate(i,{fromRouteId:e,...s}))},[r,e])}var lF={};function dq(r,e,t){!e&&!lF[r]&&(lF[r]=!0,Oi(!1,t))}R.memo(NQ);function NQ({routes:r,future:e,state:t,onError:n}){return cq(r,void 0,t,n,e)}function $i({to:r,replace:e,state:t,relative:n}){cr(Ng(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(vs);Oi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=R.useContext(Ma),{pathname:a}=Oo(),o=No(),l=mI(r,pI(s),a,n==="path"),c=JSON.stringify(l);return R.useEffect(()=>{o(JSON.parse(c),{replace:e,state:t,relative:n})},[o,c,n,e,t]),null}function la(r){cr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RQ({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){cr(!Ng(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),l=R.useMemo(()=>({basename:o,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[o,i,s,a]);typeof t=="string"&&(t=df(t));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:g="default"}=t,x=R.useMemo(()=>{let y=Wl(c,o);return y==null?null:{location:{pathname:y,search:d,hash:f,state:m,key:g},navigationType:n}},[o,c,d,f,m,g,n]);return Oi(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:R.createElement(vs.Provider,{value:l},R.createElement(yw.Provider,{children:e,value:x}))}function jQ({children:r,location:e}){return bQ(HN(r),e)}function HN(r,e=[]){let t=[];return R.Children.forEach(r,(n,i)=>{if(!R.isValidElement(n))return;let s=[...e,i];if(n.type===R.Fragment){t.push.apply(t,HN(n.props.children,s));return}cr(n.type===la,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=HN(n.props.children,s)),t.push(a)}),t}var D_="get",L_="application/x-www-form-urlencoded";function vA(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function IQ(r){return vA(r)&&r.tagName.toLowerCase()==="button"}function MQ(r){return vA(r)&&r.tagName.toLowerCase()==="form"}function DQ(r){return vA(r)&&r.tagName.toLowerCase()==="input"}function LQ(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $Q(r,e){return r.button===0&&(!e||e==="_self")&&!LQ(r)}function WN(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(i=>[t,i]):[[t,n]])},[]))}function FQ(r,e){let t=WN(r);return e&&e.forEach((n,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}var Zx=null;function BQ(){if(Zx===null)try{new FormData(document.createElement("form"),0),Zx=!1}catch{Zx=!0}return Zx}var UQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cC(r){return r!=null&&!UQ.has(r)?(Oi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${L_}"`),null):r}function zQ(r,e){let t,n,i,s,a;if(MQ(r)){let o=r.getAttribute("action");n=o?Wl(o,e):null,t=r.getAttribute("method")||D_,i=cC(r.getAttribute("enctype"))||L_,s=new FormData(r)}else if(IQ(r)||DQ(r)&&(r.type==="submit"||r.type==="image")){let o=r.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=r.getAttribute("formaction")||o.getAttribute("action");if(n=l?Wl(l,e):null,t=r.getAttribute("formmethod")||o.getAttribute("method")||D_,i=cC(r.getAttribute("formenctype"))||cC(o.getAttribute("enctype"))||L_,s=new FormData(o,r),!BQ()){let{name:c,type:d,value:f}=r;if(d==="image"){let m=c?`${c}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else c&&s.append(c,f)}}else{if(vA(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=D_,n=null,i=L_,a=r}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bI(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function qQ(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Wl(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function HQ(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WQ(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function VQ(r,e,t){let n=await Promise.all(r.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await HQ(s,t);return a.links?a.links():[]}return[]}));return XQ(n.flat(1).filter(WQ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cF(r,e,t,n,i,s){let a=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,o=(l,c)=>{var d;return t[c].pathname!==l.pathname||((d=t[c].route.path)==null?void 0:d.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var f;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=t[0])==null?void 0:f.params)||{},nextUrl:new URL(r,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function GQ(r,e,{includeHydrateFallback:t}={}){return KQ(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function KQ(r){return[...new Set(r)]}function YQ(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function XQ(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let s=JSON.stringify(YQ(i));return t.has(s)||(t.add(s),n.push({key:s,link:i})),n},[])}function hq(){let r=R.useContext(Og);return bI(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function JQ(){let r=R.useContext(gA);return bI(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wI=R.createContext(void 0);wI.displayName="FrameworkContext";function fq(){let r=R.useContext(wI);return bI(r,"You must render this element inside a <HydratedRouter> element"),r}function QQ(r,e){let t=R.useContext(wI),[n,i]=R.useState(!1),[s,a]=R.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=e,m=R.useRef(null);R.useEffect(()=>{if(r==="render"&&a(!0),r==="viewport"){let y=_=>{_.forEach(E=>{a(E.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[r]),R.useEffect(()=>{if(n){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[n]);let g=()=>{i(!0)},x=()=>{i(!1),a(!1)};return t?r!=="intent"?[s,m,{}]:[s,m,{onFocus:Rv(o,g),onBlur:Rv(l,x),onMouseEnter:Rv(c,g),onMouseLeave:Rv(d,x),onTouchStart:Rv(f,g)}]:[!1,m,{}]}function Rv(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function ZQ({page:r,...e}){let{router:t}=hq(),n=R.useMemo(()=>J8(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?R.createElement(tZ,{page:r,matches:n,...e}):null}function eZ(r){let{manifest:e,routeModules:t}=fq(),[n,i]=R.useState([]);return R.useEffect(()=>{let s=!1;return VQ(r,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[r,e,t]),n}function tZ({page:r,matches:e,...t}){let n=Oo(),{manifest:i,routeModules:s}=fq(),{basename:a}=hq(),{loaderData:o,matches:l}=JQ(),c=R.useMemo(()=>cF(r,e,l,i,n,"data"),[r,e,l,i,n]),d=R.useMemo(()=>cF(r,e,l,i,n,"assets"),[r,e,l,i,n]),f=R.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let x=new Set,y=!1;if(e.forEach(_=>{var A;let E=i.routes[_.route.id];!E||!E.hasLoader||(!c.some(C=>C.route.id===_.route.id)&&_.route.id in o&&((A=s[_.route.id])!=null&&A.shouldRevalidate)||E.hasClientLoader?y=!0:x.add(_.route.id))}),x.size===0)return[];let b=qQ(r,a,"data");return y&&x.size>0&&b.searchParams.set("_routes",e.filter(_=>x.has(_.route.id)).map(_=>_.route.id).join(",")),[b.pathname+b.search]},[a,o,n,i,c,e,r,s]),m=R.useMemo(()=>GQ(d,i),[d,i]),g=eZ(d);return R.createElement(R.Fragment,null,f.map(x=>R.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),m.map(x=>R.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),g.map(({key:x,link:y})=>R.createElement("link",{key:x,nonce:t.nonce,...y})))}function rZ(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var nZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nZ&&(window.__reactRouterVersion="7.11.0")}catch{}function iZ({basename:r,children:e,unstable_useTransitions:t,window:n}){let i=R.useRef();i.current==null&&(i.current=LJ({window:n,v5Compat:!0}));let s=i.current,[a,o]=R.useState({action:s.action,location:s.location}),l=R.useCallback(c=>{t===!1?o(c):R.startTransition(()=>o(c))},[t]);return R.useLayoutEffect(()=>s.listen(l),[s,l]),R.createElement(RQ,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t})}var pq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wy=R.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:m,...g},x){let{basename:y,unstable_useTransitions:b}=R.useContext(vs),_=typeof c=="string"&&pq.test(c),E=rq(c,y);c=E.to;let A=vQ(c,{relative:i}),[C,k,P]=QQ(n,g),j=lZ(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:b});function M(U){e&&e(U),U.defaultPrevented||j(U)}let $=R.createElement("a",{...g,...P,href:E.absoluteURL||A,onClick:E.isExternal||s?e:M,ref:rZ(x,k),target:l,"data-discover":!_&&t==="render"?"true":void 0});return C&&!_?R.createElement(R.Fragment,null,$,R.createElement(ZQ,{page:A})):$});wy.displayName="Link";var sZ=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},d){let f=bw(a,{relative:c.relative}),m=Oo(),g=R.useContext(gA),{navigator:x,basename:y}=R.useContext(vs),b=g!=null&&pZ(f)&&o===!0,_=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,E=m.pathname,A=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(E=E.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&y&&(A=Wl(A,y)||A);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let k=E===_||!i&&E.startsWith(_)&&E.charAt(C)==="/",P=A!=null&&(A===_||!i&&A.startsWith(_)&&A.charAt(_.length)==="/"),j={isActive:k,isPending:P,isTransitioning:b},M=k?e:void 0,$;typeof n=="function"?$=n(j):$=[n,k?"active":null,P?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(j):s;return R.createElement(wy,{...c,"aria-current":M,className:$,ref:d,style:U,to:a,viewTransition:o},typeof l=="function"?l(j):l)});sZ.displayName="NavLink";var aZ=R.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:s,method:a=D_,action:o,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:m,...g},x)=>{let{unstable_useTransitions:y}=R.useContext(vs),b=hZ(),_=fZ(o,{relative:c}),E=a.toLowerCase()==="get"?"get":"post",A=typeof o=="string"&&pq.test(o),C=k=>{if(l&&l(k),k.defaultPrevented)return;k.preventDefault();let P=k.nativeEvent.submitter,j=(P==null?void 0:P.getAttribute("formmethod"))||a,M=()=>b(P||k.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:m});y&&t!==!1?R.startTransition(()=>M()):M()};return R.createElement("form",{ref:x,method:E,action:_,onSubmit:n?l:C,...g,"data-discover":!A&&r==="render"?"true":void 0})});aZ.displayName="Form";function oZ(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mq(r){let e=R.useContext(Og);return cr(e,oZ(r)),e}function lZ(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let c=No(),d=Oo(),f=bw(r,{relative:s});return R.useCallback(m=>{if($Q(m,e)){m.preventDefault();let g=t!==void 0?t:Py(d)===Py(f),x=()=>c(r,{replace:g,state:n,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o});l?R.startTransition(()=>x()):x()}},[d,c,f,t,n,e,r,i,s,a,o,l])}function cZ(r){Oi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=R.useRef(WN(r)),t=R.useRef(!1),n=Oo(),i=R.useMemo(()=>FQ(n.search,t.current?null:e.current),[n.search]),s=No(),a=R.useCallback((o,l)=>{const c=WN(typeof o=="function"?o(new URLSearchParams(i)):o);t.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var uZ=0,dZ=()=>`__${String(++uZ)}__`;function hZ(){let{router:r}=mq("useSubmit"),{basename:e}=R.useContext(vs),t=TQ(),n=r.fetch,i=r.navigate;return R.useCallback(async(s,a={})=>{let{action:o,method:l,encType:c,formData:d,body:f}=zQ(s,e);if(a.navigate===!1){let m=a.fetcherKey||dZ();await n(m,t,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,i,e,t])}function fZ(r,{relative:e}={}){let{basename:t}=R.useContext(vs),n=R.useContext(Ma);cr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...bw(r||".",{relative:e})},a=Oo();if(r==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();s.search=d?`?${d}`:""}}return(!r||r===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:$l([t,s.pathname])),Py(s)}function pZ(r,{relative:e}={}){let t=R.useContext(iq);cr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=mq("useViewTransitionState"),i=bw(r,{relative:e});if(!t.isTransitioning)return!1;let s=Wl(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=Wl(t.nextLocation.pathname,n)||t.nextLocation.pathname;return A1(i.pathname,a)!=null||A1(i.pathname,s)!=null}var ww=X8();const gq=$t(ww);function uF(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function vq(...r){return e=>{let t=!1;const n=r.map(i=>{const s=uF(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():uF(r[i],null)}}}}function wt(...r){return R.useCallback(vq(...r),r)}var Zh=R.forwardRef((r,e)=>{const{children:t,...n}=r,i=R.Children.toArray(t),s=i.find(gZ);if(s){const a=s.props.children,o=i.map(l=>l===s?R.Children.count(a)>1?R.Children.only(null):R.isValidElement(a)?a.props.children:null:l);return w.jsx(VN,{...n,ref:e,children:R.isValidElement(a)?R.cloneElement(a,void 0,o):null})}return w.jsx(VN,{...n,ref:e,children:t})});Zh.displayName="Slot";var VN=R.forwardRef((r,e)=>{const{children:t,...n}=r;if(R.isValidElement(t)){const i=yZ(t),s=vZ(n,t.props);return t.type!==R.Fragment&&(s.ref=e?vq(e,i):i),R.cloneElement(t,s)}return R.Children.count(t)>1?R.Children.only(null):null});VN.displayName="SlotClone";var mZ=({children:r})=>w.jsx(w.Fragment,{children:r});function gZ(r){return R.isValidElement(r)&&r.type===mZ}function vZ(r,e){const t={...e};for(const n in e){const i=r[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?t[n]=(...o)=>{s(...o),i(...o)}:i&&(t[n]=i):n==="style"?t[n]={...i,...s}:n==="className"&&(t[n]=[i,s].filter(Boolean).join(" "))}return{...r,...t}}function yZ(r){var n,i;let e=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function yq(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=yq(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function pt(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=yq(r))&&(n&&(n+=" "),n+=e);return n}const dF=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,hF=pt,bq=(r,e)=>t=>{var n;if((e==null?void 0:e.variants)==null)return hF(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const d=t==null?void 0:t[c],f=s==null?void 0:s[c];if(d===null)return null;const m=dF(d)||dF(f);return i[c][m]}),o=t&&Object.entries(t).reduce((c,d)=>{let[f,m]=d;return m===void 0||(c[f]=m),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(x=>{let[y,b]=x;return Array.isArray(b)?b.includes({...s,...o}[y]):{...s,...o}[y]===b})?[...c,f,m]:c},[]);return hF(r,a,l,t==null?void 0:t.class,t==null?void 0:t.className)},xI="-",bZ=r=>{const e=xZ(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:a=>{const o=a.split(xI);return o[0]===""&&o.length!==1&&o.shift(),wq(o,e)||wZ(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},wq=(r,e)=>{var a;if(r.length===0)return e.classGroupId;const t=r[0],n=e.nextPart.get(t),i=n?wq(r.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=r.join(xI);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},fF=/^\[(.+)\]$/,wZ=r=>{if(fF.test(r)){const e=fF.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},xZ=r=>{const{theme:e,classGroups:t}=r,n={nextPart:new Map,validators:[]};for(const i in t)GN(t[i],n,i,e);return n},GN=(r,e,t,n)=>{r.forEach(i=>{if(typeof i=="string"){const s=i===""?e:pF(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(_Z(i)){GN(i(n),e,t,n);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,a])=>{GN(a,pF(e,s),t,n)})})},pF=(r,e)=>{let t=r;return e.split(xI).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},_Z=r=>r.isThemeGetter,SZ=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const i=(s,a)=>{t.set(s,a),e++,e>r&&(e=0,n=t,t=new Map)};return{get(s){let a=t.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){t.has(s)?t.set(s,a):i(s,a)}}},KN="!",YN=":",AZ=YN.length,EZ=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=i=>{const s=[];let a=0,o=0,l=0,c;for(let x=0;x<i.length;x++){let y=i[x];if(a===0&&o===0){if(y===YN){s.push(i.slice(l,x)),l=x+AZ;continue}if(y==="/"){c=x;continue}}y==="["?a++:y==="]"?a--:y==="("?o++:y===")"&&o--}const d=s.length===0?i:i.substring(l),f=kZ(d),m=f!==d,g=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:g}};if(e){const i=e+YN,s=n;n=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(t){const i=n;n=s=>t({className:s,parseClassName:i})}return n},kZ=r=>r.endsWith(KN)?r.substring(0,r.length-1):r.startsWith(KN)?r.substring(1):r,CZ=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let s=[];return n.forEach(a=>{a[0]==="["||e[a]?(i.push(...s.sort(),a),s=[]):s.push(a)}),i.push(...s.sort()),i}},TZ=r=>({cache:SZ(r.cacheSize),parseClassName:EZ(r),sortModifiers:CZ(r),...bZ(r)}),PZ=/\s+/,OZ=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],o=r.trim().split(PZ);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{isExternal:f,modifiers:m,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:y}=t(d);if(f){l=d+(l.length>0?" "+l:l);continue}let b=!!y,_=n(b?x.substring(0,y):x);if(!_){if(!b){l=d+(l.length>0?" "+l:l);continue}if(_=n(x),!_){l=d+(l.length>0?" "+l:l);continue}b=!1}const E=s(m).join(":"),A=g?E+KN:E,C=A+_;if(a.includes(C))continue;a.push(C);const k=i(_,b);for(let P=0;P<k.length;++P){const j=k[P];a.push(A+j)}l=d+(l.length>0?" "+l:l)}return l};function NZ(){let r=0,e,t,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=xq(e))&&(n&&(n+=" "),n+=t);return n}const xq=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=xq(r[n]))&&(t&&(t+=" "),t+=e);return t};function RZ(r,...e){let t,n,i,s=a;function a(l){const c=e.reduce((d,f)=>f(d),r());return t=TZ(c),n=t.cache.get,i=t.cache.set,s=o,o(l)}function o(l){const c=n(l);if(c)return c;const d=OZ(l,t);return i(l,d),d}return function(){return s(NZ.apply(null,arguments))}}const Wr=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},_q=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Sq=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jZ=/^\d+\/\d+$/,IZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$Z=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zf=r=>jZ.test(r),rt=r=>!!r&&!Number.isNaN(Number(r)),Tc=r=>!!r&&Number.isInteger(Number(r)),uC=r=>r.endsWith("%")&&rt(r.slice(0,-1)),Ho=r=>IZ.test(r),FZ=()=>!0,BZ=r=>MZ.test(r)&&!DZ.test(r),Aq=()=>!1,UZ=r=>LZ.test(r),zZ=r=>$Z.test(r),qZ=r=>!Oe(r)&&!Ne(r),HZ=r=>Rg(r,Cq,Aq),Oe=r=>_q.test(r),hd=r=>Rg(r,Tq,BZ),dC=r=>Rg(r,YZ,rt),mF=r=>Rg(r,Eq,Aq),WZ=r=>Rg(r,kq,zZ),e_=r=>Rg(r,Pq,UZ),Ne=r=>Sq.test(r),jv=r=>jg(r,Tq),VZ=r=>jg(r,XZ),gF=r=>jg(r,Eq),GZ=r=>jg(r,Cq),KZ=r=>jg(r,kq),t_=r=>jg(r,Pq,!0),Rg=(r,e,t)=>{const n=_q.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},jg=(r,e,t=!1)=>{const n=Sq.exec(r);return n?n[1]?e(n[1]):t:!1},Eq=r=>r==="position"||r==="percentage",kq=r=>r==="image"||r==="url",Cq=r=>r==="length"||r==="size"||r==="bg-size",Tq=r=>r==="length",YZ=r=>r==="number",XZ=r=>r==="family-name",Pq=r=>r==="shadow",JZ=()=>{const r=Wr("color"),e=Wr("font"),t=Wr("text"),n=Wr("font-weight"),i=Wr("tracking"),s=Wr("leading"),a=Wr("breakpoint"),o=Wr("container"),l=Wr("spacing"),c=Wr("radius"),d=Wr("shadow"),f=Wr("inset-shadow"),m=Wr("text-shadow"),g=Wr("drop-shadow"),x=Wr("blur"),y=Wr("perspective"),b=Wr("aspect"),_=Wr("ease"),E=Wr("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...C(),Ne,Oe],P=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],M=()=>[Ne,Oe,l],$=()=>[zf,"full","auto",...M()],U=()=>[Tc,"none","subgrid",Ne,Oe],F=()=>["auto",{span:["full",Tc,Ne,Oe]},Tc,Ne,Oe],z=()=>[Tc,"auto",Ne,Oe],V=()=>["auto","min","max","fr",Ne,Oe],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...M()],G=()=>[zf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],B=()=>[r,Ne,Oe],ee=()=>[...C(),gF,mF,{position:[Ne,Oe]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",GZ,HZ,{size:[Ne,Oe]}],Y=()=>[uC,jv,hd],re=()=>["","none","full",c,Ne,Oe],ue=()=>["",rt,jv,hd],me=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[rt,uC,gF,mF],we=()=>["","none",x,Ne,Oe],le=()=>["none",rt,Ne,Oe],pe=()=>["none",rt,Ne,Oe],be=()=>[rt,Ne,Oe],ae=()=>[zf,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ho],breakpoint:[Ho],color:[FZ],container:[Ho],"drop-shadow":[Ho],ease:["in","out","in-out"],font:[qZ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ho],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ho],shadow:[Ho],spacing:["px",rt],text:[Ho],"text-shadow":[Ho],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",zf,Oe,Ne,b]}],container:["container"],columns:[{columns:[rt,Oe,Ne,o]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Tc,"auto",Ne,Oe]}],basis:[{basis:[zf,"full","auto",o,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rt,zf,"auto","initial","none",Oe]}],grow:[{grow:["",rt,Ne,Oe]}],shrink:[{shrink:["",rt,Ne,Oe]}],order:[{order:[Tc,"first","last","none",Ne,Oe]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[o,"screen",...G()]}],"min-w":[{"min-w":[o,"screen","none",...G()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...G()]}],h:[{h:["screen",...G()]}],"min-h":[{"min-h":["screen","none",...G()]}],"max-h":[{"max-h":["screen",...G()]}],"font-size":[{text:["base",t,jv,hd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ne,dC]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",uC,Oe]}],"font-family":[{font:[VZ,Oe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ne,Oe]}],"line-clamp":[{"line-clamp":[rt,"none",Ne,dC]}],leading:[{leading:[s,...M()]}],"list-image":[{"list-image":["none",Ne,Oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,Oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[rt,"from-font","auto",Ne,hd]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[rt,"auto",Ne,Oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Tc,Ne,Oe],radial:["",Ne,Oe],conic:[Tc,Ne,Oe]},KZ,WZ]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[rt,Ne,Oe]}],"outline-w":[{outline:["",rt,jv,hd]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",d,t_,e_]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",f,t_,e_]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[rt,hd]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",m,t_,e_]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[rt,Ne,Oe]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rt]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[Ne,Oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[rt]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,Oe]}],filter:[{filter:["","none",Ne,Oe]}],blur:[{blur:we()}],brightness:[{brightness:[rt,Ne,Oe]}],contrast:[{contrast:[rt,Ne,Oe]}],"drop-shadow":[{"drop-shadow":["","none",g,t_,e_]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",rt,Ne,Oe]}],"hue-rotate":[{"hue-rotate":[rt,Ne,Oe]}],invert:[{invert:["",rt,Ne,Oe]}],saturate:[{saturate:[rt,Ne,Oe]}],sepia:[{sepia:["",rt,Ne,Oe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,Oe]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[rt,Ne,Oe]}],"backdrop-contrast":[{"backdrop-contrast":[rt,Ne,Oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rt,Ne,Oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rt,Ne,Oe]}],"backdrop-invert":[{"backdrop-invert":["",rt,Ne,Oe]}],"backdrop-opacity":[{"backdrop-opacity":[rt,Ne,Oe]}],"backdrop-saturate":[{"backdrop-saturate":[rt,Ne,Oe]}],"backdrop-sepia":[{"backdrop-sepia":["",rt,Ne,Oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,Oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rt,"initial",Ne,Oe]}],ease:[{ease:["linear","initial",_,Ne,Oe]}],delay:[{delay:[rt,Ne,Oe]}],animate:[{animate:["none",E,Ne,Oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Ne,Oe]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:le()}],"rotate-x":[{"rotate-x":le()}],"rotate-y":[{"rotate-y":le()}],"rotate-z":[{"rotate-z":le()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:be()}],"skew-x":[{"skew-x":be()}],"skew-y":[{"skew-y":be()}],transform:[{transform:[Ne,Oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ae()}],"translate-x":[{"translate-x":ae()}],"translate-y":[{"translate-y":ae()}],"translate-z":[{"translate-z":ae()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,Oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,Oe]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[rt,jv,hd,dC]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},QZ=RZ(JZ);function Xt(...r){return QZ(pt(r))}const ZZ=bq("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function yt({className:r,variant:e,size:t,asChild:n=!1,...i}){const s=n?Zh:"button";return w.jsx(s,{"data-slot":"button",className:Xt(ZZ({variant:e,size:t,className:r})),...i})}function Zo({className:r,type:e,...t}){return w.jsx("input",{type:e,"data-slot":"input",className:Xt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}var eee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],at=eee.reduce((r,e)=>{const t=R.forwardRef((n,i)=>{const{asChild:s,...a}=n,o=s?Zh:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(o,{...a,ref:i})});return t.displayName=`Primitive.${e}`,{...r,[e]:t}},{});function tee(r,e){r&&ww.flushSync(()=>r.dispatchEvent(e))}var ree="Label",Oq=R.forwardRef((r,e)=>w.jsx(at.label,{...r,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=r.onMouseDown)==null||i.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Oq.displayName=ree;var nee=Oq;function Yn({className:r,...e}){return w.jsx(nee,{"data-slot":"label",className:Xt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}function nr({className:r,...e}){return w.jsx("div",{"data-slot":"card",className:Xt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...e})}function Td({className:r,...e}){return w.jsx("div",{"data-slot":"card-header",className:Xt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...e})}function Pd({className:r,...e}){return w.jsx("h4",{"data-slot":"card-title",className:Xt("leading-none",r),...e})}function mr({className:r,...e}){return w.jsx("div",{"data-slot":"card-content",className:Xt("px-6 [&:last-child]:pb-6",r),...e})}function iee({className:r,...e}){return w.jsx("div",{"data-slot":"card-footer",className:Xt("flex items-center px-6 pb-6 [.border-t]:pt-6",r),...e})}function Je(r,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(r==null||r(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Bu(r,e=[]){let t=[];function n(s,a){const o=R.createContext(a),l=t.length;t=[...t,a];const c=f=>{var _;const{scope:m,children:g,...x}=f,y=((_=m==null?void 0:m[r])==null?void 0:_[l])||o,b=R.useMemo(()=>x,Object.values(x));return w.jsx(y.Provider,{value:b,children:g})};c.displayName=s+"Provider";function d(f,m){var y;const g=((y=m==null?void 0:m[r])==null?void 0:y[l])||o,x=R.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=t.map(a=>R.createContext(a));return function(o){const l=(o==null?void 0:o[r])||s;return R.useMemo(()=>({[`__scope${r}`]:{...o,[r]:l}}),[o,l])}};return i.scopeName=r,[n,see(i,...e)]}function see(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...o,...f}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function _I(r){const e=r+"CollectionProvider",[t,n]=Bu(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:x,children:y}=g,b=W.useRef(null),_=W.useRef(new Map).current;return w.jsx(i,{scope:x,itemMap:_,collectionRef:b,children:y})};a.displayName=e;const o=r+"CollectionSlot",l=W.forwardRef((g,x)=>{const{scope:y,children:b}=g,_=s(o,y),E=wt(x,_.collectionRef);return w.jsx(Zh,{ref:E,children:b})});l.displayName=o;const c=r+"CollectionItemSlot",d="data-radix-collection-item",f=W.forwardRef((g,x)=>{const{scope:y,children:b,..._}=g,E=W.useRef(null),A=wt(x,E),C=s(c,y);return W.useEffect(()=>(C.itemMap.set(E,{ref:E,..._}),()=>void C.itemMap.delete(E))),w.jsx(Zh,{[d]:"",ref:A,children:b})});f.displayName=c;function m(g){const x=s(r+"CollectionConsumer",g);return W.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((C,k)=>_.indexOf(C.ref.current)-_.indexOf(k.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:l,ItemSlot:f},m,n]}var Zn=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},aee=DJ.useId||(()=>{}),oee=0;function xw(r){const[e,t]=R.useState(aee());return Zn(()=>{t(n=>n??String(oee++))},[r]),r||(e?`radix-${e}`:"")}function Nn(r){const e=R.useRef(r);return R.useEffect(()=>{e.current=r}),R.useMemo(()=>(...t)=>{var n;return(n=e.current)==null?void 0:n.call(e,...t)},[])}function sg({prop:r,defaultProp:e,onChange:t=()=>{}}){const[n,i]=lee({defaultProp:e,onChange:t}),s=r!==void 0,a=s?r:n,o=Nn(t),l=R.useCallback(c=>{if(s){const f=typeof c=="function"?c(r):c;f!==r&&o(f)}else i(c)},[s,r,i,o]);return[a,l]}function lee({defaultProp:r,onChange:e}){const t=R.useState(r),[n]=t,i=R.useRef(n),s=Nn(e);return R.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),t}var cee=R.createContext(void 0);function _w(r){const e=R.useContext(cee);return r||e||"ltr"}var hC="rovingFocusGroup.onEntryFocus",uee={bubbles:!1,cancelable:!0},yA="RovingFocusGroup",[XN,Nq,dee]=_I(yA),[hee,Rq]=Bu(yA,[dee]),[fee,pee]=hee(yA),jq=R.forwardRef((r,e)=>w.jsx(XN.Provider,{scope:r.__scopeRovingFocusGroup,children:w.jsx(XN.Slot,{scope:r.__scopeRovingFocusGroup,children:w.jsx(mee,{...r,ref:e})})}));jq.displayName=yA;var mee=R.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=r,m=R.useRef(null),g=wt(e,m),x=_w(s),[y=null,b]=sg({prop:a,defaultProp:o,onChange:l}),[_,E]=R.useState(!1),A=Nn(c),C=Nq(t),k=R.useRef(!1),[P,j]=R.useState(0);return R.useEffect(()=>{const M=m.current;if(M)return M.addEventListener(hC,A),()=>M.removeEventListener(hC,A)},[A]),w.jsx(fee,{scope:t,orientation:n,dir:x,loop:i,currentTabStopId:y,onItemFocus:R.useCallback(M=>b(M),[b]),onItemShiftTab:R.useCallback(()=>E(!0),[]),onFocusableItemAdd:R.useCallback(()=>j(M=>M+1),[]),onFocusableItemRemove:R.useCallback(()=>j(M=>M-1),[]),children:w.jsx(at.div,{tabIndex:_||P===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...r.style},onMouseDown:Je(r.onMouseDown,()=>{k.current=!0}),onFocus:Je(r.onFocus,M=>{const $=!k.current;if(M.target===M.currentTarget&&$&&!_){const U=new CustomEvent(hC,uee);if(M.currentTarget.dispatchEvent(U),!U.defaultPrevented){const F=C().filter(H=>H.focusable),z=F.find(H=>H.active),V=F.find(H=>H.id===y),J=[z,V,...F].filter(Boolean).map(H=>H.ref.current);Dq(J,d)}}k.current=!1}),onBlur:Je(r.onBlur,()=>E(!1))})})}),Iq="RovingFocusGroupItem",Mq=R.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:i=!1,tabStopId:s,...a}=r,o=xw(),l=s||o,c=pee(Iq,t),d=c.currentTabStopId===l,f=Nq(t),{onFocusableItemAdd:m,onFocusableItemRemove:g}=c;return R.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),w.jsx(XN.ItemSlot,{scope:t,id:l,focusable:n,active:i,children:w.jsx(at.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...a,ref:e,onMouseDown:Je(r.onMouseDown,x=>{n?c.onItemFocus(l):x.preventDefault()}),onFocus:Je(r.onFocus,()=>c.onItemFocus(l)),onKeyDown:Je(r.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){c.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=yee(x,c.orientation,c.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let _=f().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const E=_.indexOf(x.currentTarget);_=c.loop?bee(_,E+1):_.slice(E+1)}setTimeout(()=>Dq(_))}})})})});Mq.displayName=Iq;var gee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vee(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function yee(r,e,t){const n=vee(r.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gee[n]}function Dq(r,e=!1){const t=document.activeElement;for(const n of r)if(n===t||(n.focus({preventScroll:e}),document.activeElement!==t))return}function bee(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var wee=jq,xee=Mq;function _ee(r,e){return R.useReducer((t,n)=>e[t][n]??t,r)}var Ig=r=>{const{present:e,children:t}=r,n=See(e),i=typeof t=="function"?t({present:n.isPresent}):R.Children.only(t),s=wt(n.ref,Aee(i));return typeof t=="function"||n.isPresent?R.cloneElement(i,{ref:s}):null};Ig.displayName="Presence";function See(r){const[e,t]=R.useState(),n=R.useRef({}),i=R.useRef(r),s=R.useRef("none"),a=r?"mounted":"unmounted",[o,l]=_ee(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const c=r_(n.current);s.current=o==="mounted"?c:"none"},[o]),Zn(()=>{const c=n.current,d=i.current;if(d!==r){const m=s.current,g=r_(c);r?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=r}},[r,l]),Zn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const y=r_(n.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=g=>{g.target===e&&(s.current=r_(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:R.useCallback(c=>{c&&(n.current=getComputedStyle(c)),t(c)},[])}}function r_(r){return(r==null?void 0:r.animationName)||"none"}function Aee(r){var n,i;let e=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var SI="Tabs",[Eee]=Bu(SI,[Rq]),Lq=Rq(),[kee,AI]=Eee(SI),$q=R.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=r,d=_w(o),[f,m]=sg({prop:n,onChange:i,defaultProp:s});return w.jsx(kee,{scope:t,baseId:xw(),value:f,onValueChange:m,orientation:a,dir:d,activationMode:l,children:w.jsx(at.div,{dir:d,"data-orientation":a,...c,ref:e})})});$q.displayName=SI;var Fq="TabsList",Bq=R.forwardRef((r,e)=>{const{__scopeTabs:t,loop:n=!0,...i}=r,s=AI(Fq,t),a=Lq(t);return w.jsx(wee,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:w.jsx(at.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Bq.displayName=Fq;var Uq="TabsTrigger",zq=R.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,disabled:i=!1,...s}=r,a=AI(Uq,t),o=Lq(t),l=Wq(a.baseId,n),c=Vq(a.baseId,n),d=n===a.value;return w.jsx(xee,{asChild:!0,...o,focusable:!i,active:d,children:w.jsx(at.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Je(r.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:Je(r.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:Je(r.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(n)})})})});zq.displayName=Uq;var qq="TabsContent",Hq=R.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,forceMount:i,children:s,...a}=r,o=AI(qq,t),l=Wq(o.baseId,n),c=Vq(o.baseId,n),d=n===o.value,f=R.useRef(d);return R.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),w.jsx(Ig,{present:i||d,children:({present:m})=>w.jsx(at.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...a,ref:e,style:{...r.style,animationDuration:f.current?"0s":void 0},children:m&&s})})});Hq.displayName=qq;function Wq(r,e){return`${r}-trigger-${e}`}function Vq(r,e){return`${r}-content-${e}`}var Cee=$q,Tee=Bq,Pee=zq,Oee=Hq;function Nee({className:r,...e}){return w.jsx(Cee,{"data-slot":"tabs",className:Xt("flex flex-col gap-2",r),...e})}function Ree({className:r,...e}){return w.jsx(Tee,{"data-slot":"tabs-list",className:Xt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...e})}function vF({className:r,...e}){return w.jsx(Pee,{"data-slot":"tabs-trigger",className:Xt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...e})}function yF({className:r,...e}){return w.jsx(Oee,{"data-slot":"tabs-content",className:Xt("flex-1 outline-none",r),...e})}function Oy(r,[e,t]){return Math.min(t,Math.max(e,r))}function jee(r,e=globalThis==null?void 0:globalThis.document){const t=Nn(r);R.useEffect(()=>{const n=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var Iee="DismissableLayer",JN="dismissableLayer.update",Mee="dismissableLayer.pointerDownOutside",Dee="dismissableLayer.focusOutside",bF,Gq=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kq=R.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=r,c=R.useContext(Gq),[d,f]=R.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=R.useState({}),x=wt(e,j=>f(j)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(b),E=d?y.indexOf(d):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,C=E>=_,k=Fee(j=>{const M=j.target,$=[...c.branches].some(U=>U.contains(M));!C||$||(i==null||i(j),a==null||a(j),j.defaultPrevented||o==null||o())},m),P=Bee(j=>{const M=j.target;[...c.branches].some(U=>U.contains(M))||(s==null||s(j),a==null||a(j),j.defaultPrevented||o==null||o())},m);return jee(j=>{E===c.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&o&&(j.preventDefault(),o()))},m),R.useEffect(()=>{if(d)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(bF=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),wF(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=bF)}},[d,m,t,c]),R.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),wF())},[d,c]),R.useEffect(()=>{const j=()=>g({});return document.addEventListener(JN,j),()=>document.removeEventListener(JN,j)},[]),w.jsx(at.div,{...l,ref:x,style:{pointerEvents:A?C?"auto":"none":void 0,...r.style},onFocusCapture:Je(r.onFocusCapture,P.onFocusCapture),onBlurCapture:Je(r.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Je(r.onPointerDownCapture,k.onPointerDownCapture)})});Kq.displayName=Iee;var Lee="DismissableLayerBranch",$ee=R.forwardRef((r,e)=>{const t=R.useContext(Gq),n=R.useRef(null),i=wt(e,n);return R.useEffect(()=>{const s=n.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),w.jsx(at.div,{...r,ref:i})});$ee.displayName=Lee;function Fee(r,e=globalThis==null?void 0:globalThis.document){const t=Nn(r),n=R.useRef(!1),i=R.useRef(()=>{});return R.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let l=function(){Yq(Mee,t,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function Bee(r,e=globalThis==null?void 0:globalThis.document){const t=Nn(r),n=R.useRef(!1);return R.useEffect(()=>{const i=s=>{s.target&&!n.current&&Yq(Dee,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wF(){const r=new CustomEvent(JN);document.dispatchEvent(r)}function Yq(r,e,t,{discrete:n}){const i=t.originalEvent.target,s=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(r,e,{once:!0}),n?tee(i,s):i.dispatchEvent(s)}var fC=0;function Uee(){R.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??xF()),document.body.insertAdjacentElement("beforeend",r[1]??xF()),fC++,()=>{fC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),fC--}},[])}function xF(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var pC="focusScope.autoFocusOnMount",mC="focusScope.autoFocusOnUnmount",_F={bubbles:!1,cancelable:!0},zee="FocusScope",Xq=R.forwardRef((r,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=r,[o,l]=R.useState(null),c=Nn(i),d=Nn(s),f=R.useRef(null),m=wt(e,y=>l(y)),g=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(n){let y=function(A){if(g.paused||!o)return;const C=A.target;o.contains(C)?f.current=C:Pc(f.current,{select:!0})},b=function(A){if(g.paused||!o)return;const C=A.relatedTarget;C!==null&&(o.contains(C)||Pc(f.current,{select:!0}))},_=function(A){if(document.activeElement===document.body)for(const k of A)k.removedNodes.length>0&&Pc(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const E=new MutationObserver(_);return o&&E.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),E.disconnect()}}},[n,o,g.paused]),R.useEffect(()=>{if(o){AF.add(g);const y=document.activeElement;if(!o.contains(y)){const _=new CustomEvent(pC,_F);o.addEventListener(pC,c),o.dispatchEvent(_),_.defaultPrevented||(qee(Kee(Jq(o)),{select:!0}),document.activeElement===y&&Pc(o))}return()=>{o.removeEventListener(pC,c),setTimeout(()=>{const _=new CustomEvent(mC,_F);o.addEventListener(mC,d),o.dispatchEvent(_),_.defaultPrevented||Pc(y??document.body,{select:!0}),o.removeEventListener(mC,d),AF.remove(g)},0)}}},[o,c,d,g]);const x=R.useCallback(y=>{if(!t&&!n||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(b&&_){const E=y.currentTarget,[A,C]=Hee(E);A&&C?!y.shiftKey&&_===C?(y.preventDefault(),t&&Pc(A,{select:!0})):y.shiftKey&&_===A&&(y.preventDefault(),t&&Pc(C,{select:!0})):_===E&&y.preventDefault()}},[t,n,g.paused]);return w.jsx(at.div,{tabIndex:-1,...a,ref:m,onKeyDown:x})});Xq.displayName=zee;function qee(r,{select:e=!1}={}){const t=document.activeElement;for(const n of r)if(Pc(n,{select:e}),document.activeElement!==t)return}function Hee(r){const e=Jq(r),t=SF(e,r),n=SF(e.reverse(),r);return[t,n]}function Jq(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function SF(r,e){for(const t of r)if(!Wee(t,{upTo:e}))return t}function Wee(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function Vee(r){return r instanceof HTMLInputElement&&"select"in r}function Pc(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&Vee(r)&&e&&r.select()}}var AF=Gee();function Gee(){let r=[];return{add(e){const t=r[0];e!==t&&(t==null||t.pause()),r=EF(r,e),r.unshift(e)},remove(e){var t;r=EF(r,e),(t=r[0])==null||t.resume()}}}function EF(r,e){const t=[...r],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function Kee(r){return r.filter(e=>e.tagName!=="A")}const Yee=["top","right","bottom","left"],Nu=Math.min,us=Math.max,E1=Math.round,n_=Math.floor,xo=r=>({x:r,y:r}),Xee={left:"right",right:"left",bottom:"top",top:"bottom"},Jee={start:"end",end:"start"};function QN(r,e,t){return us(r,Nu(e,t))}function Vl(r,e){return typeof r=="function"?r(e):r}function Gl(r){return r.split("-")[0]}function Mg(r){return r.split("-")[1]}function EI(r){return r==="x"?"y":"x"}function kI(r){return r==="y"?"height":"width"}const Qee=new Set(["top","bottom"]);function bo(r){return Qee.has(Gl(r))?"y":"x"}function CI(r){return EI(bo(r))}function Zee(r,e,t){t===void 0&&(t=!1);const n=Mg(r),i=CI(r),s=kI(i);let a=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=k1(a)),[a,k1(a)]}function ete(r){const e=k1(r);return[ZN(r),e,ZN(e)]}function ZN(r){return r.replace(/start|end/g,e=>Jee[e])}const kF=["left","right"],CF=["right","left"],tte=["top","bottom"],rte=["bottom","top"];function nte(r,e,t){switch(r){case"top":case"bottom":return t?e?CF:kF:e?kF:CF;case"left":case"right":return e?tte:rte;default:return[]}}function ite(r,e,t,n){const i=Mg(r);let s=nte(Gl(r),t==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(ZN)))),s}function k1(r){return r.replace(/left|right|bottom|top/g,e=>Xee[e])}function ste(r){return{top:0,right:0,bottom:0,left:0,...r}}function Qq(r){return typeof r!="number"?ste(r):{top:r,right:r,bottom:r,left:r}}function C1(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function TF(r,e,t){let{reference:n,floating:i}=r;const s=bo(e),a=CI(e),o=kI(a),l=Gl(e),c=s==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,m=n[o]/2-i[o]/2;let g;switch(l){case"top":g={x:d,y:n.y-i.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-i.width,y:f};break;default:g={x:n.x,y:n.y}}switch(Mg(e)){case"start":g[a]-=m*(t&&c?-1:1);break;case"end":g[a]+=m*(t&&c?-1:1);break}return g}const ate=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:r,floating:e,strategy:i}),{x:d,y:f}=TF(c,n,l),m=n,g={},x=0;for(let y=0;y<o.length;y++){const{name:b,fn:_}=o[y],{x:E,y:A,data:C,reset:k}=await _({x:d,y:f,initialPlacement:n,placement:m,strategy:i,middlewareData:g,rects:c,platform:a,elements:{reference:r,floating:e}});d=E??d,f=A??f,g={...g,[b]:{...g[b],...C}},k&&x<=50&&(x++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(c=k.rects===!0?await a.getElementRects({reference:r,floating:e,strategy:i}):k.rects),{x:d,y:f}=TF(c,m,l)),y=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:g}};async function Ny(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=r,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=Vl(e,r),x=Qq(g),b=o[m?f==="floating"?"reference":"floating":f],_=C1(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(b)))==null||t?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),E=f==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),C=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},k=C1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:E,offsetParent:A,strategy:l}):E);return{top:(_.top-k.top+x.top)/C.y,bottom:(k.bottom-_.bottom+x.bottom)/C.y,left:(_.left-k.left+x.left)/C.x,right:(k.right-_.right+x.right)/C.x}}const ote=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=Vl(r,e)||{};if(c==null)return{};const f=Qq(d),m={x:t,y:n},g=CI(i),x=kI(g),y=await a.getDimensions(c),b=g==="y",_=b?"top":"left",E=b?"bottom":"right",A=b?"clientHeight":"clientWidth",C=s.reference[x]+s.reference[g]-m[g]-s.floating[x],k=m[g]-s.reference[g],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let j=P?P[A]:0;(!j||!await(a.isElement==null?void 0:a.isElement(P)))&&(j=o.floating[A]||s.floating[x]);const M=C/2-k/2,$=j/2-y[x]/2-1,U=Nu(f[_],$),F=Nu(f[E],$),z=U,V=j-y[x]-F,X=j/2-y[x]/2+M,J=QN(z,X,V),H=!l.arrow&&Mg(i)!=null&&X!==J&&s.reference[x]/2-(X<z?U:F)-y[x]/2<0,G=H?X<z?X-z:X-V:0;return{[g]:m[g]+G,data:{[g]:J,centerOffset:X-J-G,...H&&{alignmentOffset:G}},reset:H}}}),lte=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...b}=Vl(r,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const _=Gl(i),E=bo(o),A=Gl(o)===o,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=m||(A||!y?[k1(o)]:ete(o)),P=x!=="none";!m&&P&&k.push(...ite(o,y,x,C));const j=[o,...k],M=await Ny(e,b),$=[];let U=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&$.push(M[_]),f){const X=Zee(i,a,C);$.push(M[X[0]],M[X[1]])}if(U=[...U,{placement:i,overflows:$}],!$.every(X=>X<=0)){var F,z;const X=(((F=s.flip)==null?void 0:F.index)||0)+1,J=j[X];if(J&&(!(f==="alignment"?E!==bo(J):!1)||U.every(B=>bo(B.placement)===E?B.overflows[0]>0:!0)))return{data:{index:X,overflows:U},reset:{placement:J}};let H=(z=U.filter(G=>G.overflows[0]<=0).sort((G,B)=>G.overflows[1]-B.overflows[1])[0])==null?void 0:z.placement;if(!H)switch(g){case"bestFit":{var V;const G=(V=U.filter(B=>{if(P){const ee=bo(B.placement);return ee===E||ee==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(ee=>ee>0).reduce((ee,ne)=>ee+ne,0)]).sort((B,ee)=>B[1]-ee[1])[0])==null?void 0:V[0];G&&(H=G);break}case"initialPlacement":H=o;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function PF(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function OF(r){return Yee.some(e=>r[e]>=0)}const cte=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:n="referenceHidden",...i}=Vl(r,e);switch(n){case"referenceHidden":{const s=await Ny(e,{...i,elementContext:"reference"}),a=PF(s,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:OF(a)}}}case"escaped":{const s=await Ny(e,{...i,altBoundary:!0}),a=PF(s,t.floating);return{data:{escapedOffsets:a,escaped:OF(a)}}}default:return{}}}}},Zq=new Set(["left","top"]);async function ute(r,e){const{placement:t,platform:n,elements:i}=r,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Gl(t),o=Mg(t),l=bo(t)==="y",c=Zq.has(a)?-1:1,d=s&&l?-1:1,f=Vl(e,r);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof x=="number"&&(g=o==="end"?x*-1:x),l?{x:g*d,y:m*c}:{x:m*c,y:g*d}}const dte=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await ute(e,r);return a===((t=o.offset)==null?void 0:t.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},hte=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:_,y:E}=b;return{x:_,y:E}}},...l}=Vl(r,e),c={x:t,y:n},d=await Ny(e,l),f=bo(Gl(i)),m=EI(f);let g=c[m],x=c[f];if(s){const b=m==="y"?"top":"left",_=m==="y"?"bottom":"right",E=g+d[b],A=g-d[_];g=QN(E,g,A)}if(a){const b=f==="y"?"top":"left",_=f==="y"?"bottom":"right",E=x+d[b],A=x-d[_];x=QN(E,x,A)}const y=o.fn({...e,[m]:g,[f]:x});return{...y,data:{x:y.x-t,y:y.y-n,enabled:{[m]:s,[f]:a}}}}}},fte=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:n,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Vl(r,e),d={x:t,y:n},f=bo(i),m=EI(f);let g=d[m],x=d[f];const y=Vl(o,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const A=m==="y"?"height":"width",C=s.reference[m]-s.floating[A]+b.mainAxis,k=s.reference[m]+s.reference[A]-b.mainAxis;g<C?g=C:g>k&&(g=k)}if(c){var _,E;const A=m==="y"?"width":"height",C=Zq.has(Gl(i)),k=s.reference[f]-s.floating[A]+(C&&((_=a.offset)==null?void 0:_[f])||0)+(C?0:b.crossAxis),P=s.reference[f]+s.reference[A]+(C?0:((E=a.offset)==null?void 0:E[f])||0)-(C?b.crossAxis:0);x<k?x=k:x>P&&(x=P)}return{[m]:g,[f]:x}}}},pte=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=Vl(r,e),d=await Ny(e,c),f=Gl(i),m=Mg(i),g=bo(i)==="y",{width:x,height:y}=s.floating;let b,_;f==="top"||f==="bottom"?(b=f,_=m===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(_=f,b=m==="end"?"top":"bottom");const E=y-d.top-d.bottom,A=x-d.left-d.right,C=Nu(y-d[b],E),k=Nu(x-d[_],A),P=!e.middlewareData.shift;let j=C,M=k;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(M=A),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=E),P&&!m){const U=us(d.left,0),F=us(d.right,0),z=us(d.top,0),V=us(d.bottom,0);g?M=x-2*(U!==0||F!==0?U+F:us(d.left,d.right)):j=y-2*(z!==0||V!==0?z+V:us(d.top,d.bottom))}await l({...e,availableWidth:M,availableHeight:j});const $=await a.getDimensions(o.floating);return x!==$.width||y!==$.height?{reset:{rects:!0}}:{}}}};function bA(){return typeof window<"u"}function Dg(r){return eH(r)?(r.nodeName||"").toLowerCase():"#document"}function ms(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Ro(r){var e;return(e=(eH(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function eH(r){return bA()?r instanceof Node||r instanceof ms(r).Node:!1}function Ra(r){return bA()?r instanceof Element||r instanceof ms(r).Element:!1}function Eo(r){return bA()?r instanceof HTMLElement||r instanceof ms(r).HTMLElement:!1}function NF(r){return!bA()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof ms(r).ShadowRoot}const mte=new Set(["inline","contents"]);function Sw(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=ja(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!mte.has(i)}const gte=new Set(["table","td","th"]);function vte(r){return gte.has(Dg(r))}const yte=[":popover-open",":modal"];function wA(r){return yte.some(e=>{try{return r.matches(e)}catch{return!1}})}const bte=["transform","translate","scale","rotate","perspective"],wte=["transform","translate","scale","rotate","perspective","filter"],xte=["paint","layout","strict","content"];function TI(r){const e=PI(),t=Ra(r)?ja(r):r;return bte.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||wte.some(n=>(t.willChange||"").includes(n))||xte.some(n=>(t.contain||"").includes(n))}function _te(r){let e=Ru(r);for(;Eo(e)&&!ag(e);){if(TI(e))return e;if(wA(e))return null;e=Ru(e)}return null}function PI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ste=new Set(["html","body","#document"]);function ag(r){return Ste.has(Dg(r))}function ja(r){return ms(r).getComputedStyle(r)}function xA(r){return Ra(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Ru(r){if(Dg(r)==="html")return r;const e=r.assignedSlot||r.parentNode||NF(r)&&r.host||Ro(r);return NF(e)?e.host:e}function tH(r){const e=Ru(r);return ag(e)?r.ownerDocument?r.ownerDocument.body:r.body:Eo(e)&&Sw(e)?e:tH(e)}function Ry(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=tH(r),s=i===((n=r.ownerDocument)==null?void 0:n.body),a=ms(i);if(s){const o=eR(a);return e.concat(a,a.visualViewport||[],Sw(i)?i:[],o&&t?Ry(o):[])}return e.concat(i,Ry(i,[],t))}function eR(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function rH(r){const e=ja(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Eo(r),s=i?r.offsetWidth:t,a=i?r.offsetHeight:n,o=E1(t)!==s||E1(n)!==a;return o&&(t=s,n=a),{width:t,height:n,$:o}}function OI(r){return Ra(r)?r:r.contextElement}function Ep(r){const e=OI(r);if(!Eo(e))return xo(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:s}=rH(e);let a=(s?E1(t.width):t.width)/n,o=(s?E1(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Ate=xo(0);function nH(r){const e=ms(r);return!PI()||!e.visualViewport?Ate:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ete(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==ms(r)?!1:e}function ef(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),s=OI(r);let a=xo(1);e&&(n?Ra(n)&&(a=Ep(n)):a=Ep(r));const o=Ete(s,t,n)?nH(s):xo(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const m=ms(s),g=n&&Ra(n)?ms(n):n;let x=m,y=eR(x);for(;y&&n&&g!==x;){const b=Ep(y),_=y.getBoundingClientRect(),E=ja(y),A=_.left+(y.clientLeft+parseFloat(E.paddingLeft))*b.x,C=_.top+(y.clientTop+parseFloat(E.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,f*=b.y,l+=A,c+=C,x=ms(y),y=eR(x)}}return C1({width:d,height:f,x:l,y:c})}function _A(r,e){const t=xA(r).scrollLeft;return e?e.left+t:ef(Ro(r)).left+t}function iH(r,e){const t=r.getBoundingClientRect(),n=t.left+e.scrollLeft-_A(r,t),i=t.top+e.scrollTop;return{x:n,y:i}}function kte(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const s=i==="fixed",a=Ro(n),o=e?wA(e.floating):!1;if(n===a||o&&s)return t;let l={scrollLeft:0,scrollTop:0},c=xo(1);const d=xo(0),f=Eo(n);if((f||!f&&!s)&&((Dg(n)!=="body"||Sw(a))&&(l=xA(n)),Eo(n))){const g=ef(n);c=Ep(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const m=a&&!f&&!s?iH(a,l):xo(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:t.y*c.y-l.scrollTop*c.y+d.y+m.y}}function Cte(r){return Array.from(r.getClientRects())}function Tte(r){const e=Ro(r),t=xA(r),n=r.ownerDocument.body,i=us(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=us(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-t.scrollLeft+_A(r);const o=-t.scrollTop;return ja(n).direction==="rtl"&&(a+=us(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}const RF=25;function Pte(r,e){const t=ms(r),n=Ro(r),i=t.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const d=PI();(!d||d&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=_A(n);if(c<=0){const d=n.ownerDocument,f=d.body,m=getComputedStyle(f),g=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,x=Math.abs(n.clientWidth-f.clientWidth-g);x<=RF&&(s-=x)}else c<=RF&&(s+=c);return{width:s,height:a,x:o,y:l}}const Ote=new Set(["absolute","fixed"]);function Nte(r,e){const t=ef(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,s=Eo(r)?Ep(r):xo(1),a=r.clientWidth*s.x,o=r.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function jF(r,e,t){let n;if(e==="viewport")n=Pte(r,t);else if(e==="document")n=Tte(Ro(r));else if(Ra(e))n=Nte(e,t);else{const i=nH(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return C1(n)}function sH(r,e){const t=Ru(r);return t===e||!Ra(t)||ag(t)?!1:ja(t).position==="fixed"||sH(t,e)}function Rte(r,e){const t=e.get(r);if(t)return t;let n=Ry(r,[],!1).filter(o=>Ra(o)&&Dg(o)!=="body"),i=null;const s=ja(r).position==="fixed";let a=s?Ru(r):r;for(;Ra(a)&&!ag(a);){const o=ja(a),l=TI(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&Ote.has(i.position)||Sw(a)&&!l&&sH(r,a))?n=n.filter(d=>d!==a):i=o,a=Ru(a)}return e.set(r,n),n}function jte(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const a=[...t==="clippingAncestors"?wA(e)?[]:Rte(e,this._c):[].concat(t),n],o=a[0],l=a.reduce((c,d)=>{const f=jF(e,d,i);return c.top=us(f.top,c.top),c.right=Nu(f.right,c.right),c.bottom=Nu(f.bottom,c.bottom),c.left=us(f.left,c.left),c},jF(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ite(r){const{width:e,height:t}=rH(r);return{width:e,height:t}}function Mte(r,e,t){const n=Eo(e),i=Ro(e),s=t==="fixed",a=ef(r,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=xo(0);function c(){l.x=_A(i)}if(n||!n&&!s)if((Dg(e)!=="body"||Sw(i))&&(o=xA(e)),n){const g=ef(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();s&&!n&&i&&c();const d=i&&!n&&!s?iH(i,o):xo(0),f=a.left+o.scrollLeft-l.x-d.x,m=a.top+o.scrollTop-l.y-d.y;return{x:f,y:m,width:a.width,height:a.height}}function gC(r){return ja(r).position==="static"}function IF(r,e){if(!Eo(r)||ja(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Ro(r)===t&&(t=t.ownerDocument.body),t}function aH(r,e){const t=ms(r);if(wA(r))return t;if(!Eo(r)){let i=Ru(r);for(;i&&!ag(i);){if(Ra(i)&&!gC(i))return i;i=Ru(i)}return t}let n=IF(r,e);for(;n&&vte(n)&&gC(n);)n=IF(n,e);return n&&ag(n)&&gC(n)&&!TI(n)?t:n||_te(r)||t}const Dte=async function(r){const e=this.getOffsetParent||aH,t=this.getDimensions,n=await t(r.floating);return{reference:Mte(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Lte(r){return ja(r).direction==="rtl"}const $te={convertOffsetParentRelativeRectToViewportRelativeRect:kte,getDocumentElement:Ro,getClippingRect:jte,getOffsetParent:aH,getElementRects:Dte,getClientRects:Cte,getDimensions:Ite,getScale:Ep,isElement:Ra,isRTL:Lte};function oH(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function Fte(r,e){let t=null,n;const i=Ro(r);function s(){var o;clearTimeout(n),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=r.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=c;if(o||e(),!m||!g)return;const x=n_(f),y=n_(i.clientWidth-(d+m)),b=n_(i.clientHeight-(f+g)),_=n_(d),A={rootMargin:-x+"px "+-y+"px "+-b+"px "+-_+"px",threshold:us(0,Nu(1,l))||1};let C=!0;function k(P){const j=P[0].intersectionRatio;if(j!==l){if(!C)return a();j?a(!1,j):n=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!oH(c,r.getBoundingClientRect())&&a(),C=!1}try{t=new IntersectionObserver(k,{...A,root:i.ownerDocument})}catch{t=new IntersectionObserver(k,A)}t.observe(r)}return a(!0),s}function Bte(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=OI(r),d=i||s?[...c?Ry(c):[],...Ry(e)]:[];d.forEach(_=>{i&&_.addEventListener("scroll",t,{passive:!0}),s&&_.addEventListener("resize",t)});const f=c&&o?Fte(c,t):null;let m=-1,g=null;a&&(g=new ResizeObserver(_=>{let[E]=_;E&&E.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var A;(A=g)==null||A.observe(e)})),t()}),c&&!l&&g.observe(c),g.observe(e));let x,y=l?ef(r):null;l&&b();function b(){const _=ef(r);y&&!oH(y,_)&&t(),y=_,x=requestAnimationFrame(b)}return t(),()=>{var _;d.forEach(E=>{i&&E.removeEventListener("scroll",t),s&&E.removeEventListener("resize",t)}),f==null||f(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const Ute=dte,zte=hte,qte=lte,Hte=pte,Wte=cte,MF=ote,Vte=fte,Gte=(r,e,t)=>{const n=new Map,i={platform:$te,...t},s={...i.platform,_c:n};return ate(r,e,{...i,platform:s})};var Kte=typeof document<"u",Yte=function(){},$_=Kte?R.useLayoutEffect:Yte;function T1(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!T1(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const s=i[n];if(!(s==="_owner"&&r.$$typeof)&&!T1(r[s],e[s]))return!1}return!0}return r!==r&&e!==e}function lH(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function DF(r,e){const t=lH(r);return Math.round(e*t)/t}function vC(r){const e=R.useRef(r);return $_(()=>{e.current=r}),e}function Xte(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=r,[d,f]=R.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=R.useState(n);T1(m,n)||g(n);const[x,y]=R.useState(null),[b,_]=R.useState(null),E=R.useCallback(B=>{B!==P.current&&(P.current=B,y(B))},[]),A=R.useCallback(B=>{B!==j.current&&(j.current=B,_(B))},[]),C=s||x,k=a||b,P=R.useRef(null),j=R.useRef(null),M=R.useRef(d),$=l!=null,U=vC(l),F=vC(i),z=vC(c),V=R.useCallback(()=>{if(!P.current||!j.current)return;const B={placement:e,strategy:t,middleware:m};F.current&&(B.platform=F.current),Gte(P.current,j.current,B).then(ee=>{const ne={...ee,isPositioned:z.current!==!1};X.current&&!T1(M.current,ne)&&(M.current=ne,ww.flushSync(()=>{f(ne)}))})},[m,e,t,F,z]);$_(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[c]);const X=R.useRef(!1);$_(()=>(X.current=!0,()=>{X.current=!1}),[]),$_(()=>{if(C&&(P.current=C),k&&(j.current=k),C&&k){if(U.current)return U.current(C,k,V);V()}},[C,k,V,U,$]);const J=R.useMemo(()=>({reference:P,floating:j,setReference:E,setFloating:A}),[E,A]),H=R.useMemo(()=>({reference:C,floating:k}),[C,k]),G=R.useMemo(()=>{const B={position:t,left:0,top:0};if(!H.floating)return B;const ee=DF(H.floating,d.x),ne=DF(H.floating,d.y);return o?{...B,transform:"translate("+ee+"px, "+ne+"px)",...lH(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ee,top:ne}},[t,o,H.floating,d.x,d.y]);return R.useMemo(()=>({...d,update:V,refs:J,elements:H,floatingStyles:G}),[d,V,J,H,G])}const Jte=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?MF({element:n.current,padding:i}).fn(t):{}:n?MF({element:n,padding:i}).fn(t):{}}}},Qte=(r,e)=>({...Ute(r),options:[r,e]}),Zte=(r,e)=>({...zte(r),options:[r,e]}),ere=(r,e)=>({...Vte(r),options:[r,e]}),tre=(r,e)=>({...qte(r),options:[r,e]}),rre=(r,e)=>({...Hte(r),options:[r,e]}),nre=(r,e)=>({...Wte(r),options:[r,e]}),ire=(r,e)=>({...Jte(r),options:[r,e]});var sre="Arrow",cH=R.forwardRef((r,e)=>{const{children:t,width:n=10,height:i=5,...s}=r;return w.jsx(at.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});cH.displayName=sre;var are=cH;function NI(r){const[e,t]=R.useState(void 0);return Zn(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=r.offsetWidth,o=r.offsetHeight;t({width:a,height:o})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else t(void 0)},[r]),e}var RI="Popper",[uH,dH]=Bu(RI),[ore,hH]=uH(RI),fH=r=>{const{__scopePopper:e,children:t}=r,[n,i]=R.useState(null);return w.jsx(ore,{scope:e,anchor:n,onAnchorChange:i,children:t})};fH.displayName=RI;var pH="PopperAnchor",mH=R.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:n,...i}=r,s=hH(pH,t),a=R.useRef(null),o=wt(e,a);return R.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:w.jsx(at.div,{...i,ref:o})});mH.displayName=pH;var jI="PopperContent",[lre,cre]=uH(jI),gH=R.forwardRef((r,e)=>{var oe,we,le,pe,be,ae;const{__scopePopper:t,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...y}=r,b=hH(jI,t),[_,E]=R.useState(null),A=wt(e,We=>E(We)),[C,k]=R.useState(null),P=NI(C),j=(P==null?void 0:P.width)??0,M=(P==null?void 0:P.height)??0,$=n+(s!=="center"?"-"+s:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(c)?c:[c],z=F.length>0,V={padding:U,boundary:F.filter(dre),altBoundary:z},{refs:X,floatingStyles:J,placement:H,isPositioned:G,middlewareData:B}=Xte({strategy:"fixed",placement:$,whileElementsMounted:(...We)=>Bte(...We,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[Qte({mainAxis:i+M,alignmentAxis:a}),l&&Zte({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ere():void 0,...V}),l&&tre({...V}),rre({...V,apply:({elements:We,rects:De,availableWidth:xt,availableHeight:gt})=>{const{width:_t,height:In}=De.reference,Jt=We.floating.style;Jt.setProperty("--radix-popper-available-width",`${xt}px`),Jt.setProperty("--radix-popper-available-height",`${gt}px`),Jt.setProperty("--radix-popper-anchor-width",`${_t}px`),Jt.setProperty("--radix-popper-anchor-height",`${In}px`)}}),C&&ire({element:C,padding:o}),hre({arrowWidth:j,arrowHeight:M}),m&&nre({strategy:"referenceHidden",...V})]}),[ee,ne]=bH(H),q=Nn(x);Zn(()=>{G&&(q==null||q())},[G,q]);const Y=(oe=B.arrow)==null?void 0:oe.x,re=(we=B.arrow)==null?void 0:we.y,ue=((le=B.arrow)==null?void 0:le.centerOffset)!==0,[me,ge]=R.useState();return Zn(()=>{_&&ge(window.getComputedStyle(_).zIndex)},[_]),w.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:G?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(pe=B.transformOrigin)==null?void 0:pe.x,(be=B.transformOrigin)==null?void 0:be.y].join(" "),...((ae=B.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:w.jsx(lre,{scope:t,placedSide:ee,onArrowChange:k,arrowX:Y,arrowY:re,shouldHideArrow:ue,children:w.jsx(at.div,{"data-side":ee,"data-align":ne,...y,ref:A,style:{...y.style,animation:G?void 0:"none"}})})})});gH.displayName=jI;var vH="PopperArrow",ure={top:"bottom",right:"left",bottom:"top",left:"right"},yH=R.forwardRef(function(e,t){const{__scopePopper:n,...i}=e,s=cre(vH,n),a=ure[s.placedSide];return w.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:w.jsx(are,{...i,ref:t,style:{...i.style,display:"block"}})})});yH.displayName=vH;function dre(r){return r!==null}var hre=r=>({name:"transformOrigin",options:r,fn(e){var b,_,E;const{placement:t,rects:n,middlewareData:i}=e,a=((b=i.arrow)==null?void 0:b.centerOffset)!==0,o=a?0:r.arrowWidth,l=a?0:r.arrowHeight,[c,d]=bH(t),f={start:"0%",center:"50%",end:"100%"}[d],m=(((_=i.arrow)==null?void 0:_.x)??0)+o/2,g=(((E=i.arrow)==null?void 0:E.y)??0)+l/2;let x="",y="";return c==="bottom"?(x=a?f:`${m}px`,y=`${-l}px`):c==="top"?(x=a?f:`${m}px`,y=`${n.floating.height+l}px`):c==="right"?(x=`${-l}px`,y=a?f:`${g}px`):c==="left"&&(x=`${n.floating.width+l}px`,y=a?f:`${g}px`),{data:{x,y}}}});function bH(r){const[e,t="center"]=r.split("-");return[e,t]}var fre=fH,pre=mH,mre=gH,gre=yH,vre="Portal",wH=R.forwardRef((r,e)=>{var o;const{container:t,...n}=r,[i,s]=R.useState(!1);Zn(()=>s(!0),[]);const a=t||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?gq.createPortal(w.jsx(at.div,{...n,ref:e}),a):null});wH.displayName=vre;function II(r){const e=R.useRef({value:r,previous:r});return R.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var yre="VisuallyHidden",xH=R.forwardRef((r,e)=>w.jsx(at.span,{...r,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...r.style}}));xH.displayName=yre;var bre=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},qf=new WeakMap,i_=new WeakMap,s_={},yC=0,_H=function(r){return r&&(r.host||_H(r.parentNode))},wre=function(r,e){return e.map(function(t){if(r.contains(t))return t;var n=_H(t);return n&&r.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},xre=function(r,e,t,n){var i=wre(e,Array.isArray(r)?r:[r]);s_[t]||(s_[t]=new WeakMap);var s=s_[t],a=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(o.has(m))d(m);else try{var g=m.getAttribute(n),x=g!==null&&g!=="false",y=(qf.get(m)||0)+1,b=(s.get(m)||0)+1;qf.set(m,y),s.set(m,b),a.push(m),y===1&&x&&i_.set(m,!0),b===1&&m.setAttribute(t,"true"),x||m.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return d(e),o.clear(),yC++,function(){a.forEach(function(f){var m=qf.get(f)-1,g=s.get(f)-1;qf.set(f,m),s.set(f,g),m||(i_.has(f)||f.removeAttribute(n),i_.delete(f)),g||f.removeAttribute(t)}),yC--,yC||(qf=new WeakMap,qf=new WeakMap,i_=new WeakMap,s_={})}},_re=function(r,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(r)?r:[r]),i=bre(r);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),xre(n,i,t,"aria-hidden")):function(){return null}},vo=function(){return vo=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},vo.apply(this,arguments)};function Lg(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function Sre(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(r,e||[])).next())})}function Are(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))}var F_="right-scroll-bar-position",B_="width-before-scroll-bar",Ere="with-scroll-bars-hidden",kre="--removed-body-scroll-bar-size";function bC(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function Cre(r,e){var t=R.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(n){var i=t.value;i!==n&&(t.value=n,t.callback(n,i))}}}})[0];return t.callback=e,t.facade}var Tre=typeof window<"u"?R.useLayoutEffect:R.useEffect,LF=new WeakMap;function Pre(r,e){var t=Cre(null,function(n){return r.forEach(function(i){return bC(i,n)})});return Tre(function(){var n=LF.get(t);if(n){var i=new Set(n),s=new Set(r),a=t.current;i.forEach(function(o){s.has(o)||bC(o,null)}),s.forEach(function(o){i.has(o)||bC(o,a)})}LF.set(t,r)},[r]),t}function Ore(r){return r}function Nre(r,e){e===void 0&&(e=Ore);var t=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(s){var a=e(s,n);return t.push(a),function(){t=t.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(n=!0;t.length;){var a=t;t=[],a.forEach(s)}t={push:function(o){return s(o)},filter:function(){return t}}},assignMedium:function(s){n=!0;var a=[];if(t.length){var o=t;t=[],o.forEach(s),a=t}var l=function(){var d=a;a=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),t}}}};return i}function Rre(r){r===void 0&&(r={});var e=Nre(null);return e.options=vo({async:!0,ssr:!1},r),e}var SH=function(r){var e=r.sideCar,t=Lg(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return R.createElement(n,vo({},t))};SH.isSideCarExport=!0;function jre(r,e){return r.useMedium(e),SH}var AH=Rre(),wC=function(){},SA=R.forwardRef(function(r,e){var t=R.useRef(null),n=R.useState({onScrollCapture:wC,onWheelCapture:wC,onTouchMoveCapture:wC}),i=n[0],s=n[1],a=r.forwardProps,o=r.children,l=r.className,c=r.removeScrollBar,d=r.enabled,f=r.shards,m=r.sideCar,g=r.noRelative,x=r.noIsolation,y=r.inert,b=r.allowPinchZoom,_=r.as,E=_===void 0?"div":_,A=r.gapMode,C=Lg(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,P=Pre([t,e]),j=vo(vo({},C),i);return R.createElement(R.Fragment,null,d&&R.createElement(k,{sideCar:AH,removeScrollBar:c,shards:f,noRelative:g,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!b,lockRef:t,gapMode:A}),a?R.cloneElement(R.Children.only(o),vo(vo({},j),{ref:P})):R.createElement(E,vo({},j,{className:l,ref:P}),o))});SA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};SA.classNames={fullWidth:B_,zeroRight:F_};var Ire=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Mre(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=Ire();return e&&r.setAttribute("nonce",e),r}function Dre(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function Lre(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var $re=function(){var r=0,e=null;return{add:function(t){r==0&&(e=Mre())&&(Dre(e,t),Lre(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Fre=function(){var r=$re();return function(e,t){R.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},EH=function(){var r=Fre(),e=function(t){var n=t.styles,i=t.dynamic;return r(n,i),null};return e},Bre={left:0,top:0,right:0,gap:0},xC=function(r){return parseInt(r||"",10)||0},Ure=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],n=e[r==="padding"?"paddingTop":"marginTop"],i=e[r==="padding"?"paddingRight":"marginRight"];return[xC(t),xC(n),xC(i)]},zre=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return Bre;var e=Ure(r),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},qre=EH(),kp="data-scroll-locked",Hre=function(r,e,t,n){var i=r.left,s=r.top,a=r.right,o=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(Ere,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(kp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(F_,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(B_,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(F_," .").concat(F_,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(B_," .").concat(B_,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(kp,`] {
    `).concat(kre,": ").concat(o,`px;
  }
`)},$F=function(){var r=parseInt(document.body.getAttribute(kp)||"0",10);return isFinite(r)?r:0},Wre=function(){R.useEffect(function(){return document.body.setAttribute(kp,($F()+1).toString()),function(){var r=$F()-1;r<=0?document.body.removeAttribute(kp):document.body.setAttribute(kp,r.toString())}},[])},Vre=function(r){var e=r.noRelative,t=r.noImportant,n=r.gapMode,i=n===void 0?"margin":n;Wre();var s=R.useMemo(function(){return zre(i)},[i]);return R.createElement(qre,{styles:Hre(s,!e,i,t?"":"!important")})},tR=!1;if(typeof window<"u")try{var a_=Object.defineProperty({},"passive",{get:function(){return tR=!0,!0}});window.addEventListener("test",a_,a_),window.removeEventListener("test",a_,a_)}catch{tR=!1}var Hf=tR?{passive:!1}:!1,Gre=function(r){return r.tagName==="TEXTAREA"},kH=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Gre(r)&&t[e]==="visible")},Kre=function(r){return kH(r,"overflowY")},Yre=function(r){return kH(r,"overflowX")},FF=function(r,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=CH(r,n);if(i){var s=TH(r,n),a=s[1],o=s[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},Xre=function(r){var e=r.scrollTop,t=r.scrollHeight,n=r.clientHeight;return[e,t,n]},Jre=function(r){var e=r.scrollLeft,t=r.scrollWidth,n=r.clientWidth;return[e,t,n]},CH=function(r,e){return r==="v"?Kre(e):Yre(e)},TH=function(r,e){return r==="v"?Xre(e):Jre(e)},Qre=function(r,e){return r==="h"&&e==="rtl"?-1:1},Zre=function(r,e,t,n,i){var s=Qre(r,window.getComputedStyle(e).direction),a=s*n,o=t.target,l=e.contains(o),c=!1,d=a>0,f=0,m=0;do{if(!o)break;var g=TH(r,o),x=g[0],y=g[1],b=g[2],_=y-b-s*x;(x||_)&&CH(r,o)&&(f+=_,m+=x);var E=o.parentNode;o=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(c=!0),c},o_=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},BF=function(r){return[r.deltaX,r.deltaY]},UF=function(r){return r&&"current"in r?r.current:r},ene=function(r,e){return r[0]===e[0]&&r[1]===e[1]},tne=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},rne=0,Wf=[];function nne(r){var e=R.useRef([]),t=R.useRef([0,0]),n=R.useRef(),i=R.useState(rne++)[0],s=R.useState(EH)[0],a=R.useRef(r);R.useEffect(function(){a.current=r},[r]),R.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(i));var y=Are([r.lockRef.current],(r.shards||[]).map(UF),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[r.inert,r.lockRef.current,r.shards]);var o=R.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var _=o_(y),E=t.current,A="deltaX"in y?y.deltaX:E[0]-_[0],C="deltaY"in y?y.deltaY:E[1]-_[1],k,P=y.target,j=Math.abs(A)>Math.abs(C)?"h":"v";if("touches"in y&&j==="h"&&P.type==="range")return!1;var M=window.getSelection(),$=M&&M.anchorNode,U=$?$===P||$.contains(P):!1;if(U)return!1;var F=FF(j,P);if(!F)return!0;if(F?k=j:(k=j==="v"?"h":"v",F=FF(j,P)),!F)return!1;if(!n.current&&"changedTouches"in y&&(A||C)&&(n.current=k),!k)return!0;var z=n.current||k;return Zre(z,b,y,z==="h"?A:C)},[]),l=R.useCallback(function(y){var b=y;if(!(!Wf.length||Wf[Wf.length-1]!==s)){var _="deltaY"in b?BF(b):o_(b),E=e.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&ene(k.delta,_)})[0];if(E&&E.should){b.cancelable&&b.preventDefault();return}if(!E){var A=(a.current.shards||[]).map(UF).filter(Boolean).filter(function(k){return k.contains(b.target)}),C=A.length>0?o(b,A[0]):!a.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),c=R.useCallback(function(y,b,_,E){var A={name:y,delta:b,target:_,should:E,shadowParent:ine(_)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(C){return C!==A})},1)},[]),d=R.useCallback(function(y){t.current=o_(y),n.current=void 0},[]),f=R.useCallback(function(y){c(y.type,BF(y),y.target,o(y,r.lockRef.current))},[]),m=R.useCallback(function(y){c(y.type,o_(y),y.target,o(y,r.lockRef.current))},[]);R.useEffect(function(){return Wf.push(s),r.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Hf),document.addEventListener("touchmove",l,Hf),document.addEventListener("touchstart",d,Hf),function(){Wf=Wf.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Hf),document.removeEventListener("touchmove",l,Hf),document.removeEventListener("touchstart",d,Hf)}},[]);var g=r.removeScrollBar,x=r.inert;return R.createElement(R.Fragment,null,x?R.createElement(s,{styles:tne(i)}):null,g?R.createElement(Vre,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function ine(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const sne=jre(AH,nne);var PH=R.forwardRef(function(r,e){return R.createElement(SA,vo({},r,{ref:e,sideCar:sne}))});PH.classNames=SA.classNames;var ane=[" ","Enter","ArrowUp","ArrowDown"],one=[" ","Enter"],Aw="Select",[AA,EA,lne]=_I(Aw),[$g]=Bu(Aw,[lne,dH]),kA=dH(),[cne,Uu]=$g(Aw),[une,dne]=$g(Aw),OH=r=>{const{__scopeSelect:e,children:t,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:m,required:g,form:x}=r,y=kA(e),[b,_]=R.useState(null),[E,A]=R.useState(null),[C,k]=R.useState(!1),P=_w(c),[j=!1,M]=sg({prop:n,defaultProp:i,onChange:s}),[$,U]=sg({prop:a,defaultProp:o,onChange:l}),F=R.useRef(null),z=b?x||!!b.closest("form"):!0,[V,X]=R.useState(new Set),J=Array.from(V).map(H=>H.props.value).join(";");return w.jsx(fre,{...y,children:w.jsxs(cne,{required:g,scope:e,trigger:b,onTriggerChange:_,valueNode:E,onValueNodeChange:A,valueNodeHasChildren:C,onValueNodeHasChildrenChange:k,contentId:xw(),value:$,onValueChange:U,open:j,onOpenChange:M,dir:P,triggerPointerDownPosRef:F,disabled:m,children:[w.jsx(AA.Provider,{scope:e,children:w.jsx(une,{scope:r.__scopeSelect,onNativeOptionAdd:R.useCallback(H=>{X(G=>new Set(G).add(H))},[]),onNativeOptionRemove:R.useCallback(H=>{X(G=>{const B=new Set(G);return B.delete(H),B})},[]),children:t})}),z?w.jsxs(ZH,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:$,onChange:H=>U(H.target.value),disabled:m,form:x,children:[$===void 0?w.jsx("option",{value:""}):null,Array.from(V)]},J):null]})})};OH.displayName=Aw;var NH="SelectTrigger",RH=R.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:n=!1,...i}=r,s=kA(t),a=Uu(NH,t),o=a.disabled||n,l=wt(e,a.onTriggerChange),c=EA(t),d=R.useRef("touch"),[f,m,g]=eW(y=>{const b=c().filter(A=>!A.disabled),_=b.find(A=>A.value===a.value),E=tW(b,y,_);E!==void 0&&a.onValueChange(E.value)}),x=y=>{o||(a.onOpenChange(!0),g()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return w.jsx(pre,{asChild:!0,...s,children:w.jsx(at.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":QH(a.value)?"":void 0,...i,ref:l,onClick:Je(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&x(y)}),onPointerDown:Je(i.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:Je(i.onKeyDown,y=>{const b=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(b&&y.key===" ")&&ane.includes(y.key)&&(x(),y.preventDefault())})})})});RH.displayName=NH;var jH="SelectValue",IH=R.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:i,children:s,placeholder:a="",...o}=r,l=Uu(jH,t),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,f=wt(e,l.onValueNodeChange);return Zn(()=>{c(d)},[c,d]),w.jsx(at.span,{...o,ref:f,style:{pointerEvents:"none"},children:QH(l.value)?w.jsx(w.Fragment,{children:a}):s})});IH.displayName=jH;var hne="SelectIcon",MH=R.forwardRef((r,e)=>{const{__scopeSelect:t,children:n,...i}=r;return w.jsx(at.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});MH.displayName=hne;var fne="SelectPortal",DH=r=>w.jsx(wH,{asChild:!0,...r});DH.displayName=fne;var tf="SelectContent",LH=R.forwardRef((r,e)=>{const t=Uu(tf,r.__scopeSelect),[n,i]=R.useState();if(Zn(()=>{i(new DocumentFragment)},[]),!t.open){const s=n;return s?ww.createPortal(w.jsx($H,{scope:r.__scopeSelect,children:w.jsx(AA.Slot,{scope:r.__scopeSelect,children:w.jsx("div",{children:r.children})})}),s):null}return w.jsx(FH,{...r,ref:e})});LH.displayName=tf;var da=10,[$H,zu]=$g(tf),pne="SelectContentImpl",FH=R.forwardRef((r,e)=>{const{__scopeSelect:t,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:y,avoidCollisions:b,..._}=r,E=Uu(tf,t),[A,C]=R.useState(null),[k,P]=R.useState(null),j=wt(e,oe=>C(oe)),[M,$]=R.useState(null),[U,F]=R.useState(null),z=EA(t),[V,X]=R.useState(!1),J=R.useRef(!1);R.useEffect(()=>{if(A)return _re(A)},[A]),Uee();const H=R.useCallback(oe=>{const[we,...le]=z().map(ae=>ae.ref.current),[pe]=le.slice(-1),be=document.activeElement;for(const ae of oe)if(ae===be||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===we&&k&&(k.scrollTop=0),ae===pe&&k&&(k.scrollTop=k.scrollHeight),ae==null||ae.focus(),document.activeElement!==be))return},[z,k]),G=R.useCallback(()=>H([M,A]),[H,M,A]);R.useEffect(()=>{V&&G()},[V,G]);const{onOpenChange:B,triggerPointerDownPosRef:ee}=E;R.useEffect(()=>{if(A){let oe={x:0,y:0};const we=pe=>{var be,ae;oe={x:Math.abs(Math.round(pe.pageX)-(((be=ee.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((ae=ee.current)==null?void 0:ae.y)??0))}},le=pe=>{oe.x<=10&&oe.y<=10?pe.preventDefault():A.contains(pe.target)||B(!1),document.removeEventListener("pointermove",we),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",le,{capture:!0})}}},[A,B,ee]),R.useEffect(()=>{const oe=()=>B(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[B]);const[ne,q]=eW(oe=>{const we=z().filter(be=>!be.disabled),le=we.find(be=>be.ref.current===document.activeElement),pe=tW(we,oe,le);pe&&setTimeout(()=>pe.ref.current.focus())}),Y=R.useCallback((oe,we,le)=>{const pe=!J.current&&!le;(E.value!==void 0&&E.value===we||pe)&&($(oe),pe&&(J.current=!0))},[E.value]),re=R.useCallback(()=>A==null?void 0:A.focus(),[A]),ue=R.useCallback((oe,we,le)=>{const pe=!J.current&&!le;(E.value!==void 0&&E.value===we||pe)&&F(oe)},[E.value]),me=n==="popper"?rR:BH,ge=me===rR?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:y,avoidCollisions:b}:{};return w.jsx($H,{scope:t,content:A,viewport:k,onViewportChange:P,itemRefCallback:Y,selectedItem:M,onItemLeave:re,itemTextRefCallback:ue,focusSelectedItem:G,selectedItemText:U,position:n,isPositioned:V,searchRef:ne,children:w.jsx(PH,{as:Zh,allowPinchZoom:!0,children:w.jsx(Xq,{asChild:!0,trapped:E.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Je(i,oe=>{var we;(we=E.trigger)==null||we.focus({preventScroll:!0}),oe.preventDefault()}),children:w.jsx(Kq,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:w.jsx(me,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:oe=>oe.preventDefault(),..._,...ge,onPlaced:()=>X(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Je(_.onKeyDown,oe=>{const we=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!we&&oe.key.length===1&&q(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let pe=z().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const be=oe.target,ae=pe.indexOf(be);pe=pe.slice(ae+1)}setTimeout(()=>H(pe)),oe.preventDefault()}})})})})})})});FH.displayName=pne;var mne="SelectItemAlignedPosition",BH=R.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:n,...i}=r,s=Uu(tf,t),a=zu(tf,t),[o,l]=R.useState(null),[c,d]=R.useState(null),f=wt(e,j=>d(j)),m=EA(t),g=R.useRef(!1),x=R.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:_,focusSelectedItem:E}=a,A=R.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&y&&b&&_){const j=s.trigger.getBoundingClientRect(),M=c.getBoundingClientRect(),$=s.valueNode.getBoundingClientRect(),U=_.getBoundingClientRect();if(s.dir!=="rtl"){const be=U.left-M.left,ae=$.left-be,We=j.left-ae,De=j.width+We,xt=Math.max(De,M.width),gt=window.innerWidth-da,_t=Oy(ae,[da,Math.max(da,gt-xt)]);o.style.minWidth=De+"px",o.style.left=_t+"px"}else{const be=M.right-U.right,ae=window.innerWidth-$.right-be,We=window.innerWidth-j.right-ae,De=j.width+We,xt=Math.max(De,M.width),gt=window.innerWidth-da,_t=Oy(ae,[da,Math.max(da,gt-xt)]);o.style.minWidth=De+"px",o.style.right=_t+"px"}const F=m(),z=window.innerHeight-da*2,V=y.scrollHeight,X=window.getComputedStyle(c),J=parseInt(X.borderTopWidth,10),H=parseInt(X.paddingTop,10),G=parseInt(X.borderBottomWidth,10),B=parseInt(X.paddingBottom,10),ee=J+H+V+B+G,ne=Math.min(b.offsetHeight*5,ee),q=window.getComputedStyle(y),Y=parseInt(q.paddingTop,10),re=parseInt(q.paddingBottom,10),ue=j.top+j.height/2-da,me=z-ue,ge=b.offsetHeight/2,oe=b.offsetTop+ge,we=J+H+oe,le=ee-we;if(we<=ue){const be=F.length>0&&b===F[F.length-1].ref.current;o.style.bottom="0px";const ae=c.clientHeight-y.offsetTop-y.offsetHeight,We=Math.max(me,ge+(be?re:0)+ae+G),De=we+We;o.style.height=De+"px"}else{const be=F.length>0&&b===F[0].ref.current;o.style.top="0px";const We=Math.max(ue,J+y.offsetTop+(be?Y:0)+ge)+le;o.style.height=We+"px",y.scrollTop=we-ue+y.offsetTop}o.style.margin=`${da}px 0`,o.style.minHeight=ne+"px",o.style.maxHeight=z+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[m,s.trigger,s.valueNode,o,c,y,b,_,s.dir,n]);Zn(()=>A(),[A]);const[C,k]=R.useState();Zn(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const P=R.useCallback(j=>{j&&x.current===!0&&(A(),E==null||E(),x.current=!1)},[A,E]);return w.jsx(vne,{scope:t,contentWrapper:o,shouldExpandOnScrollRef:g,onScrollButtonChange:P,children:w.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:w.jsx(at.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});BH.displayName=mne;var gne="SelectPopperPosition",rR=R.forwardRef((r,e)=>{const{__scopeSelect:t,align:n="start",collisionPadding:i=da,...s}=r,a=kA(t);return w.jsx(mre,{...a,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rR.displayName=gne;var[vne,MI]=$g(tf,{}),nR="SelectViewport",UH=R.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:n,...i}=r,s=zu(nR,t),a=MI(nR,t),o=wt(e,s.onViewportChange),l=R.useRef(0);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),w.jsx(AA.Slot,{scope:t,children:w.jsx(at.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Je(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const x=window.innerHeight-da*2,y=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),_=Math.max(y,b);if(_<x){const E=_+g,A=Math.min(x,E),C=E-A;f.style.height=A+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});UH.displayName=nR;var zH="SelectGroup",[yne,bne]=$g(zH),wne=R.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,i=xw();return w.jsx(yne,{scope:t,id:i,children:w.jsx(at.div,{role:"group","aria-labelledby":i,...n,ref:e})})});wne.displayName=zH;var qH="SelectLabel",xne=R.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,i=bne(qH,t);return w.jsx(at.div,{id:i.id,...n,ref:e})});xne.displayName=qH;var P1="SelectItem",[_ne,HH]=$g(P1),WH=R.forwardRef((r,e)=>{const{__scopeSelect:t,value:n,disabled:i=!1,textValue:s,...a}=r,o=Uu(P1,t),l=zu(P1,t),c=o.value===n,[d,f]=R.useState(s??""),[m,g]=R.useState(!1),x=wt(e,E=>{var A;return(A=l.itemRefCallback)==null?void 0:A.call(l,E,n,i)}),y=xw(),b=R.useRef("touch"),_=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return w.jsx(_ne,{scope:t,value:n,disabled:i,textId:y,isSelected:c,onItemTextChange:R.useCallback(E=>{f(A=>A||((E==null?void 0:E.textContent)??"").trim())},[]),children:w.jsx(AA.ItemSlot,{scope:t,value:n,disabled:i,textValue:d,children:w.jsx(at.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:Je(a.onFocus,()=>g(!0)),onBlur:Je(a.onBlur,()=>g(!1)),onClick:Je(a.onClick,()=>{b.current!=="mouse"&&_()}),onPointerUp:Je(a.onPointerUp,()=>{b.current==="mouse"&&_()}),onPointerDown:Je(a.onPointerDown,E=>{b.current=E.pointerType}),onPointerMove:Je(a.onPointerMove,E=>{var A;b.current=E.pointerType,i?(A=l.onItemLeave)==null||A.call(l):b.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(a.onPointerLeave,E=>{var A;E.currentTarget===document.activeElement&&((A=l.onItemLeave)==null||A.call(l))}),onKeyDown:Je(a.onKeyDown,E=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&E.key===" "||(one.includes(E.key)&&_(),E.key===" "&&E.preventDefault())})})})})});WH.displayName=P1;var Kv="SelectItemText",VH=R.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:i,...s}=r,a=Uu(Kv,t),o=zu(Kv,t),l=HH(Kv,t),c=dne(Kv,t),[d,f]=R.useState(null),m=wt(e,_=>f(_),l.onItemTextChange,_=>{var E;return(E=o.itemTextRefCallback)==null?void 0:E.call(o,_,l.value,l.disabled)}),g=d==null?void 0:d.textContent,x=R.useMemo(()=>w.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=c;return Zn(()=>(y(x),()=>b(x)),[y,b,x]),w.jsxs(w.Fragment,{children:[w.jsx(at.span,{id:l.textId,...s,ref:m}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ww.createPortal(s.children,a.valueNode):null]})});VH.displayName=Kv;var GH="SelectItemIndicator",KH=R.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return HH(GH,t).isSelected?w.jsx(at.span,{"aria-hidden":!0,...n,ref:e}):null});KH.displayName=GH;var iR="SelectScrollUpButton",YH=R.forwardRef((r,e)=>{const t=zu(iR,r.__scopeSelect),n=MI(iR,r.__scopeSelect),[i,s]=R.useState(!1),a=wt(e,n.onScrollButtonChange);return Zn(()=>{if(t.viewport&&t.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?w.jsx(JH,{...r,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});YH.displayName=iR;var sR="SelectScrollDownButton",XH=R.forwardRef((r,e)=>{const t=zu(sR,r.__scopeSelect),n=MI(sR,r.__scopeSelect),[i,s]=R.useState(!1),a=wt(e,n.onScrollButtonChange);return Zn(()=>{if(t.viewport&&t.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?w.jsx(JH,{...r,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});XH.displayName=sR;var JH=R.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:n,...i}=r,s=zu("SelectScrollButton",t),a=R.useRef(null),o=EA(t),l=R.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return R.useEffect(()=>()=>l(),[l]),Zn(()=>{var d;const c=o().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),w.jsx(at.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Je(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:Je(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:Je(i.onPointerLeave,()=>{l()})})}),Sne="SelectSeparator",Ane=R.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return w.jsx(at.div,{"aria-hidden":!0,...n,ref:e})});Ane.displayName=Sne;var aR="SelectArrow",Ene=R.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,i=kA(t),s=Uu(aR,t),a=zu(aR,t);return s.open&&a.position==="popper"?w.jsx(gre,{...i,...n,ref:e}):null});Ene.displayName=aR;function QH(r){return r===""||r===void 0}var ZH=R.forwardRef((r,e)=>{const{value:t,...n}=r,i=R.useRef(null),s=wt(e,i),a=II(t);return R.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&d){const f=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(f)}},[a,t]),w.jsx(xH,{asChild:!0,children:w.jsx("select",{...n,ref:s,defaultValue:t})})});ZH.displayName="BubbleSelect";function eW(r){const e=Nn(r),t=R.useRef(""),n=R.useRef(0),i=R.useCallback(a=>{const o=t.current+a;e(o),(function l(c){t.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(o)},[e]),s=R.useCallback(()=>{t.current="",window.clearTimeout(n.current)},[]);return R.useEffect(()=>()=>window.clearTimeout(n.current),[]),[t,i,s]}function tW(r,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?r.indexOf(t):-1;let a=kne(r,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==t));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function kne(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var Cne=OH,Tne=RH,Pne=IH,One=MH,Nne=DH,Rne=LH,jne=UH,Ine=WH,Mne=VH,Dne=KH,Lne=YH,$ne=XH;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bne=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),zF=r=>{const e=Bne(r);return e.charAt(0).toUpperCase()+e.slice(1)},rW=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Une={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=R.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>R.createElement("svg",{ref:l,...Une,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:rW("lucide",i),...o},[...a.map(([c,d])=>R.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(r,e)=>{const t=R.forwardRef(({className:n,...i},s)=>R.createElement(zne,{ref:s,iconNode:e,className:rW(`lucide-${Fne(zF(r))}`,`lucide-${r}`,n),...i}));return t.displayName=zF(r),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hne=qe("arrow-left",qne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_o=qe("arrow-right",Wne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Gne=qe("arrow-up",Vne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Yne=qe("award",Kne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Jne=qe("bell",Xne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],CA=qe("book-open",Qne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],eie=qe("bot",Zne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],O1=qe("brain-circuit",tie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],DI=qe("brain",rie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],iie=qe("calendar",nie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],nW=qe("chart-column",sie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ws=qe("check",aie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],iW=qe("chevron-down",oie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cie=qe("chevron-left",lie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],die=qe("chevron-right",uie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fie=qe("chevron-up",hie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mie=qe("circle-alert",pie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sW=qe("circle-check-big",gie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jy=qe("circle-check",vie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],aW=qe("circle-play",yie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],N1=qe("clock",bie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],qF=qe("eye-off",wie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HF=qe("eye",xie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sie=qe("file-text",_ie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],oR=qe("flame",Aie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],U_=qe("graduation-cap",Eie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Cie=qe("house",kie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],R1=qe("lightbulb",Tie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_C=qe("lock",Pie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Nie=qe("log-out",Oie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],WF=qe("mail",Rie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Iie=qe("moon",jie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],LI=qe("party-popper",Mie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Lie=qe("rocket",Die);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fie=qe("save",$ie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Uie=qe("send",Bie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oW=qe("settings",zie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lW=qe("shield",qie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Tu=qe("sparkles",Hie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Vie=qe("star",Wie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Kie=qe("sun",Gie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ju=qe("target",Yie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Jie=qe("trash-2",Xie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],xy=qe("trending-up",Qie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],og=qe("upload",Zie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$I=qe("user",ese);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],FI=qe("x",tse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],cW=qe("zap",rse);function j1({...r}){return w.jsx(Cne,{"data-slot":"select",...r})}function I1({...r}){return w.jsx(Pne,{"data-slot":"select-value",...r})}function M1({className:r,size:e="default",children:t,...n}){return w.jsxs(Tne,{"data-slot":"select-trigger","data-size":e,className:Xt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...n,children:[t,w.jsx(One,{asChild:!0,children:w.jsx(iW,{className:"size-4 opacity-50"})})]})}function D1({className:r,children:e,position:t="popper",...n}){return w.jsx(Nne,{children:w.jsxs(Rne,{"data-slot":"select-content",className:Xt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...n,children:[w.jsx(nse,{}),w.jsx(jne,{className:Xt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),w.jsx(ise,{})]})})}function L1({className:r,children:e,...t}){return w.jsxs(Ine,{"data-slot":"select-item",className:Xt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...t,children:[w.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:w.jsx(Dne,{children:w.jsx(Ws,{className:"size-4"})})}),w.jsx(Mne,{children:e})]})}function nse({className:r,...e}){return w.jsx(Lne,{"data-slot":"select-scroll-up-button",className:Xt("flex cursor-default items-center justify-center py-1",r),...e,children:w.jsx(fie,{className:"size-4"})})}function ise({className:r,...e}){return w.jsx($ne,{"data-slot":"select-scroll-down-button",className:Xt("flex cursor-default items-center justify-center py-1",r),...e,children:w.jsx(iW,{className:"size-4"})})}function sse(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}const ase=r=>{switch(r){case"success":return cse;case"info":return dse;case"warning":return use;case"error":return hse;default:return null}},ose=Array(12).fill(0),lse=({visible:r,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},W.createElement("div",{className:"sonner-spinner"},ose.map((t,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),cse=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),use=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dse=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hse=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fse=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pse=()=>{const[r,e]=W.useState(document.hidden);return W.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r};let lR=1;class mse{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:lR++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...i,dismissible:o,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=n!==void 0,a;const o=i.then(async c=>{if(a=["resolve",c],W.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(vse(c)&&!c.ok){s=!1;const f=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description,x=typeof f=="object"&&!W.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:m,...x})}else if(c instanceof Error){s=!1;const f=typeof t.error=="function"?await t.error(c):t.error,m=typeof t.description=="function"?await t.description(c):t.description,x=typeof f=="object"&&!W.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:m,...x})}else if(t.success!==void 0){s=!1;const f=typeof t.success=="function"?await t.success(c):t.success,m=typeof t.description=="function"?await t.description(c):t.description,x=typeof f=="object"&&!W.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:m,...x})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;const d=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description,g=typeof d=="object"&&!W.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...g})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),t.finally==null||t.finally.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>a[0]==="reject"?d(a[1]):c(a[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{const n=(t==null?void 0:t.id)||lR++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ci=new mse,gse=(r,e)=>{const t=(e==null?void 0:e.id)||lR++;return Ci.addToast({title:r,...e,id:t}),t},vse=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",yse=gse,bse=()=>Ci.toasts,wse=()=>Ci.getActiveToasts(),tt=Object.assign(yse,{success:Ci.success,info:Ci.info,warning:Ci.warning,error:Ci.error,custom:Ci.custom,message:Ci.message,promise:Ci.promise,dismiss:Ci.dismiss,loading:Ci.loading},{getHistory:bse,getToasts:wse});sse("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function l_(r){return r.label!==void 0}const xse=3,_se="24px",Sse="16px",VF=4e3,Ase=356,Ese=14,kse=45,Cse=200;function za(...r){return r.filter(Boolean).join(" ")}function Tse(r){const[e,t]=r.split("-"),n=[];return e&&n.push(e),t&&n.push(t),n}const Pse=r=>{var e,t,n,i,s,a,o,l,c;const{invert:d,toast:f,unstyled:m,interacting:g,setHeights:x,visibleToasts:y,heights:b,index:_,toasts:E,expanded:A,removeToast:C,defaultRichColors:k,closeButton:P,style:j,cancelButtonStyle:M,actionButtonStyle:$,className:U="",descriptionClassName:F="",duration:z,position:V,gap:X,expandByDefault:J,classNames:H,icons:G,closeButtonAriaLabel:B="Close toast"}=r,[ee,ne]=W.useState(null),[q,Y]=W.useState(null),[re,ue]=W.useState(!1),[me,ge]=W.useState(!1),[oe,we]=W.useState(!1),[le,pe]=W.useState(!1),[be,ae]=W.useState(!1),[We,De]=W.useState(0),[xt,gt]=W.useState(0),_t=W.useRef(f.duration||z||VF),In=W.useRef(null),Jt=W.useRef(null),ys=_===0,Mn=_+1<=y,Qt=f.type,Ri=f.dismissible!==!1,Ku=f.className||"",Yu=f.descriptionClassName||"",Xu=W.useMemo(()=>b.findIndex(Ke=>Ke.toastId===f.id)||0,[b,f.id]),Gg=W.useMemo(()=>{var Ke;return(Ke=f.closeButton)!=null?Ke:P},[f.closeButton,P]),Ju=W.useMemo(()=>f.duration||z||VF,[f.duration,z]),yf=W.useRef(0),bs=W.useRef(0),nc=W.useRef(0),ic=W.useRef(null),[qw,Hw]=V.split("-"),Ww=W.useMemo(()=>b.reduce((Ke,Cr,Ur)=>Ur>=Xu?Ke:Ke+Cr.height,0),[b,Xu]),bf=pse(),Kg=f.invert||d,Qu=Qt==="loading";bs.current=W.useMemo(()=>Xu*X+Ww,[Xu,Ww]),W.useEffect(()=>{_t.current=Ju},[Ju]),W.useEffect(()=>{ue(!0)},[]),W.useEffect(()=>{const Ke=Jt.current;if(Ke){const Cr=Ke.getBoundingClientRect().height;return gt(Cr),x(Ur=>[{toastId:f.id,height:Cr,position:f.position},...Ur]),()=>x(Ur=>Ur.filter(Dn=>Dn.toastId!==f.id))}},[x,f.id]),W.useLayoutEffect(()=>{if(!re)return;const Ke=Jt.current,Cr=Ke.style.height;Ke.style.height="auto";const Ur=Ke.getBoundingClientRect().height;Ke.style.height=Cr,gt(Ur),x(Dn=>Dn.find(Rr=>Rr.toastId===f.id)?Dn.map(Rr=>Rr.toastId===f.id?{...Rr,height:Ur}:Rr):[{toastId:f.id,height:Ur,position:f.position},...Dn])},[re,f.title,f.description,x,f.id]);const ws=W.useCallback(()=>{ge(!0),De(bs.current),x(Ke=>Ke.filter(Cr=>Cr.toastId!==f.id)),setTimeout(()=>{C(f)},Cse)},[f,C,x,bs]);W.useEffect(()=>{if(f.promise&&Qt==="loading"||f.duration===1/0||f.type==="loading")return;let Ke;return A||g||bf?(()=>{if(nc.current<yf.current){const Dn=new Date().getTime()-yf.current;_t.current=_t.current-Dn}nc.current=new Date().getTime()})():(()=>{_t.current!==1/0&&(yf.current=new Date().getTime(),Ke=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),ws()},_t.current))})(),()=>clearTimeout(Ke)},[A,g,f,Qt,bf,ws]),W.useEffect(()=>{f.delete&&ws()},[ws,f.delete]);function Yg(){var Ke;if(G!=null&&G.loading){var Cr;return W.createElement("div",{className:za(H==null?void 0:H.loader,f==null||(Cr=f.classNames)==null?void 0:Cr.loader,"sonner-loader"),"data-visible":Qt==="loading"},G.loading)}return W.createElement(lse,{className:za(H==null?void 0:H.loader,f==null||(Ke=f.classNames)==null?void 0:Ke.loader),visible:Qt==="loading"})}const sc=f.icon||(G==null?void 0:G[Qt])||ase(Qt);var Mo,Xg;return W.createElement("li",{tabIndex:0,ref:Jt,className:za(U,Ku,H==null?void 0:H.toast,f==null||(e=f.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[Qt],f==null||(t=f.classNames)==null?void 0:t[Qt]),"data-sonner-toast":"","data-rich-colors":(Mo=f.richColors)!=null?Mo:k,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":re,"data-promise":!!f.promise,"data-swiped":be,"data-removed":me,"data-visible":Mn,"data-y-position":qw,"data-x-position":Hw,"data-index":_,"data-front":ys,"data-swiping":oe,"data-dismissible":Ri,"data-type":Qt,"data-invert":Kg,"data-swipe-out":le,"data-swipe-direction":q,"data-expanded":!!(A||J&&re),style:{"--index":_,"--toasts-before":_,"--z-index":E.length-_,"--offset":`${me?We:bs.current}px`,"--initial-height":J?"auto":`${xt}px`,...j,...f.style},onDragEnd:()=>{we(!1),ne(null),ic.current=null},onPointerDown:Ke=>{Qu||!Ri||(In.current=new Date,De(bs.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(we(!0),ic.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,Cr,Ur;if(le||!Ri)return;ic.current=null;const Dn=Number(((Ke=Jt.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ac=Number(((Cr=Jt.current)==null?void 0:Cr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Rr=new Date().getTime()-((Ur=In.current)==null?void 0:Ur.getTime()),rn=ee==="x"?Dn:ac,oc=Math.abs(rn)/Rr;if(Math.abs(rn)>=kse||oc>.11){De(bs.current),f.onDismiss==null||f.onDismiss.call(f,f),Y(ee==="x"?Dn>0?"right":"left":ac>0?"down":"up"),ws(),pe(!0);return}else{var vn,ji;(vn=Jt.current)==null||vn.style.setProperty("--swipe-amount-x","0px"),(ji=Jt.current)==null||ji.style.setProperty("--swipe-amount-y","0px")}ae(!1),we(!1),ne(null)},onPointerMove:Ke=>{var Cr,Ur,Dn;if(!ic.current||!Ri||((Cr=window.getSelection())==null?void 0:Cr.toString().length)>0)return;const Rr=Ke.clientY-ic.current.y,rn=Ke.clientX-ic.current.x;var oc;const vn=(oc=r.swipeDirections)!=null?oc:Tse(V);!ee&&(Math.abs(rn)>1||Math.abs(Rr)>1)&&ne(Math.abs(rn)>Math.abs(Rr)?"x":"y");let ji={x:0,y:0};const lc=xs=>1/(1.5+Math.abs(xs)/20);if(ee==="y"){if(vn.includes("top")||vn.includes("bottom"))if(vn.includes("top")&&Rr<0||vn.includes("bottom")&&Rr>0)ji.y=Rr;else{const xs=Rr*lc(Rr);ji.y=Math.abs(xs)<Math.abs(Rr)?xs:Rr}}else if(ee==="x"&&(vn.includes("left")||vn.includes("right")))if(vn.includes("left")&&rn<0||vn.includes("right")&&rn>0)ji.x=rn;else{const xs=rn*lc(rn);ji.x=Math.abs(xs)<Math.abs(rn)?xs:rn}(Math.abs(ji.x)>0||Math.abs(ji.y)>0)&&ae(!0),(Ur=Jt.current)==null||Ur.style.setProperty("--swipe-amount-x",`${ji.x}px`),(Dn=Jt.current)==null||Dn.style.setProperty("--swipe-amount-y",`${ji.y}px`)}},Gg&&!f.jsx&&Qt!=="loading"?W.createElement("button",{"aria-label":B,"data-disabled":Qu,"data-close-button":!0,onClick:Qu||!Ri?()=>{}:()=>{ws(),f.onDismiss==null||f.onDismiss.call(f,f)},className:za(H==null?void 0:H.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(Xg=G==null?void 0:G.close)!=null?Xg:fse):null,(Qt||f.icon||f.promise)&&f.icon!==null&&((G==null?void 0:G[Qt])!==null||f.icon)?W.createElement("div",{"data-icon":"",className:za(H==null?void 0:H.icon,f==null||(i=f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Yg():null,f.type!=="loading"?sc:null):null,W.createElement("div",{"data-content":"",className:za(H==null?void 0:H.content,f==null||(s=f.classNames)==null?void 0:s.content)},W.createElement("div",{"data-title":"",className:za(H==null?void 0:H.title,f==null||(a=f.classNames)==null?void 0:a.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?W.createElement("div",{"data-description":"",className:za(F,Yu,H==null?void 0:H.description,f==null||(o=f.classNames)==null?void 0:o.description)},typeof f.description=="function"?f.description():f.description):null),W.isValidElement(f.cancel)?f.cancel:f.cancel&&l_(f.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||M,onClick:Ke=>{l_(f.cancel)&&Ri&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Ke),ws())},className:za(H==null?void 0:H.cancelButton,f==null||(l=f.classNames)==null?void 0:l.cancelButton)},f.cancel.label):null,W.isValidElement(f.action)?f.action:f.action&&l_(f.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||$,onClick:Ke=>{l_(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Ke),!Ke.defaultPrevented&&ws())},className:za(H==null?void 0:H.actionButton,f==null||(c=f.classNames)==null?void 0:c.actionButton)},f.action.label):null)};function GF(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function Ose(r,e){const t={};return[r,e].forEach((n,i)=>{const s=i===1,a=s?"--mobile-offset":"--offset",o=s?Sse:_se;function l(c){["top","right","bottom","left"].forEach(d=>{t[`${a}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?t[`${a}-${c}`]=o:t[`${a}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(o)}),t}const Nse=W.forwardRef(function(e,t){const{invert:n,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:d,theme:f="light",richColors:m,duration:g,style:x,visibleToasts:y=xse,toastOptions:b,dir:_=GF(),gap:E=Ese,icons:A,containerAriaLabel:C="Notifications"}=e,[k,P]=W.useState([]),j=W.useMemo(()=>Array.from(new Set([i].concat(k.filter(q=>q.position).map(q=>q.position)))),[k,i]),[M,$]=W.useState([]),[U,F]=W.useState(!1),[z,V]=W.useState(!1),[X,J]=W.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=W.useRef(null),G=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=W.useRef(null),ee=W.useRef(!1),ne=W.useCallback(q=>{P(Y=>{var re;return(re=Y.find(ue=>ue.id===q.id))!=null&&re.delete||Ci.dismiss(q.id),Y.filter(({id:ue})=>ue!==q.id)})},[]);return W.useEffect(()=>Ci.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{P(Y=>Y.map(re=>re.id===q.id?{...re,delete:!0}:re))});return}setTimeout(()=>{gq.flushSync(()=>{P(Y=>{const re=Y.findIndex(ue=>ue.id===q.id);return re!==-1?[...Y.slice(0,re),{...Y[re],...q},...Y.slice(re+1)]:[q,...Y]})})})}),[k]),W.useEffect(()=>{if(f!=="system"){J(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:Y})=>{J(Y?"dark":"light")})}catch{q.addListener(({matches:re})=>{try{J(re?"dark":"light")}catch(ue){console.error(ue)}})}},[f]),W.useEffect(()=>{k.length<=1&&F(!1)},[k]),W.useEffect(()=>{const q=Y=>{var re;if(s.every(ge=>Y[ge]||Y.code===ge)){var me;F(!0),(me=H.current)==null||me.focus()}Y.code==="Escape"&&(document.activeElement===H.current||(re=H.current)!=null&&re.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[s]),W.useEffect(()=>{if(H.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,ee.current=!1)}},[H.current]),W.createElement("section",{ref:t,"aria-label":`${C} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((q,Y)=>{var re;const[ue,me]=q.split("-");return k.length?W.createElement("ol",{key:q,dir:_==="auto"?GF():_,tabIndex:-1,ref:H,className:l,"data-sonner-toaster":!0,"data-sonner-theme":X,"data-y-position":ue,"data-lifted":U&&k.length>1&&!a,"data-x-position":me,style:{"--front-toast-height":`${((re=M[0])==null?void 0:re.height)||0}px`,"--width":`${Ase}px`,"--gap":`${E}px`,...x,...Ose(c,d)},onBlur:ge=>{ee.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(ee.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||ee.current||(ee.current=!0,B.current=ge.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{z||F(!1)},onDragEnd:()=>F(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},k.filter(ge=>!ge.position&&Y===0||ge.position===q).map((ge,oe)=>{var we,le;return W.createElement(Pse,{key:ge.id,icons:A,index:oe,toast:ge,defaultRichColors:m,duration:(we=b==null?void 0:b.duration)!=null?we:g,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:n,visibleToasts:y,closeButton:(le=b==null?void 0:b.closeButton)!=null?le:o,interacting:z,position:q,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,closeButtonAriaLabel:b==null?void 0:b.closeButtonAriaLabel,removeToast:ne,toasts:k.filter(pe=>pe.position==ge.position),heights:M.filter(pe=>pe.position==ge.position),setHeights:$,expandByDefault:a,gap:E,expanded:U,swipeDirections:e.swipeDirections})})):null}))}),Rse=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class BI extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class jse extends BI{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class KF extends BI{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class YF extends BI{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cR;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(cR||(cR={}));class Ise{constructor(e,{headers:t={},customFetch:n,region:i=cR.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=Rse(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Sre(this,arguments,void 0,function*(t,n={}){var i;let s,a;try{const{headers:o,method:l,body:c,signal:d,timeout:f}=n;let m={},{region:g}=n;g||(g=this.region);const x=new URL(`${this.url}/${t}`);g&&g!=="any"&&(m["x-region"]=g,x.searchParams.set("forceFunctionRegion",g));let y;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(m["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(m["Content-Type"]="application/json",y=JSON.stringify(c)):y=c;let b=d;f&&(a=new AbortController,s=setTimeout(()=>a.abort(),f),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const _=yield this.fetch(x.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:y,signal:b}).catch(k=>{throw new jse(k)}),E=_.headers.get("x-relay-error");if(E&&E==="true")throw new KF(_);if(!_.ok)throw new YF(_);let A=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield _.json():A==="application/octet-stream"||A==="application/pdf"?C=yield _.blob():A==="text/event-stream"?C=_:A==="multipart/form-data"?C=yield _.formData():C=yield _.text(),{data:C,error:null,response:_}}catch(o){return{data:null,error:o,response:o instanceof YF||o instanceof KF?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var Mse=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},Dse=class{constructor(r){var e,t;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(t=r.isMaybeSingle)!==null&&t!==void 0?t:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,c=s.status,d=s.statusText;if(s.ok){var f,m;if(t.method!=="HEAD"){var g;const _=await s.text();_===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((g=t.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?o=_:o=JSON.parse(_))}const y=(f=t.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(m=s.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");y&&b&&b.length>1&&(l=parseInt(b[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var x;const y=await s.text();try{a=JSON.parse(y),Array.isArray(a)&&s.status===404&&(o=[],a=null,c=200,d="OK")}catch{s.status===404&&y===""?(c=204,d="No Content"):a={message:y}}if(a&&t.isMaybeSingle&&(!(a==null||(x=a.details)===null||x===void 0)&&x.includes("0 rows"))&&(a=null,c=200,d="OK"),a&&t.shouldThrowOnError)throw new Mse(a)}return{error:a,data:o,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="";const l=s==null?void 0:s.cause;if(l){var c,d,f,m;const x=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",y=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";o=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"Error"}: ${x}`,y&&(o+=` (${y})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var g;o=(g=s==null?void 0:s.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(r,e)}returns(){return this}overrideTypes(){return this}},Lse=class extends Dse{select(r){let e=!1;const t=(r??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:t,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${r}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:t=e}={}){const n=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${r}`),this}range(r,e,{foreignTable:t,referencedTable:n=t}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${r}`),this.url.searchParams.set(s,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:t=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var a;const o=[r?"analyze":null,e?"verbose":null,t?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const XF=new RegExp("[,()]");var ip=class extends Lse{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const t=Array.from(new Set(e)).map(n=>typeof n=="string"&&XF.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(r,`in.(${t})`),this}notIn(r,e){const t=Array.from(new Set(e)).map(n=>typeof n=="string"&&XF.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(r,`not.in.(${t})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:t,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=t===void 0?"":`(${t})`;return this.url.searchParams.append(r,`${i}fts${s}.${e}`),this}match(r){return Object.entries(r).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(r,e,t){return this.url.searchParams.append(r,`not.${e}.${t}`),this}or(r,{foreignTable:e,referencedTable:t=e}={}){const n=t?`${t}.or`:"or";return this.url.searchParams.append(n,`(${r})`),this}filter(r,e,t){return this.url.searchParams.append(r,`${e}.${t}`),this}},$se=class{constructor(r,{headers:e={},schema:t,fetch:n}){this.url=r,this.headers=new Headers(e),this.schema=t,this.fetch=n}select(r,e){const{head:t=!1,count:n}=e??{},i=t?"HEAD":"GET";let s=!1;const a=(r??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new ip({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:t=!0}={}){var n;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const s=r.reduce((a,o)=>a.concat(Object.keys(o)),[]);if(s.length>0){const a=[...new Set(s)].map(o=>`"${o}"`);this.url.searchParams.set("columns",a.join(","))}}return new ip({method:i,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:t=!1,count:n,defaultToNull:i=!0}={}){var s;const a="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const o=r.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ip({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(r,{count:e}={}){var t;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ip({method:n,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:r}={}){var e;const t="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new ip({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Fse=class uW{constructor(e,{headers:t={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $se(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new uW(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||i?(o=n?"HEAD":"GET",Object.entries(t).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{l.searchParams.append(f,m)})):(o="POST",c=t);const d=new Headers(this.headers);return s&&d.set("Prefer",`count=${s}`),new ip({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class Bse{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const n=t.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Use="2.89.0",zse=`realtime-js/${Use}`,dW="1.0.0",qse="2.0.0",JF=dW,uR=1e4,Hse=1e3,Wse=100;var Nc;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Nc||(Nc={}));var Kr;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Kr||(Kr={}));var ka;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ka||(ka={}));var dR;(function(r){r.websocket="websocket"})(dR||(dR={}));var _d;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(_d||(_d={}));class Vse{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const i=(n=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var t,n;const i=(n=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,n){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+m);let x=new DataView(g),y=0;x.setUint8(y++,this.KINDS.userBroadcastPush),x.setUint8(y++,l.length),x.setUint8(y++,o.length),x.setUint8(y++,a.length),x.setUint8(y++,c.length),x.setUint8(y++,f.length),x.setUint8(y++,t),Array.from(l,_=>x.setUint8(y++,_.charCodeAt(0))),Array.from(o,_=>x.setUint8(y++,_.charCodeAt(0))),Array.from(a,_=>x.setUint8(y++,_.charCodeAt(0))),Array.from(c,_=>x.setUint8(y++,_.charCodeAt(0))),Array.from(f,_=>x.setUint8(y++,_.charCodeAt(0)));var b=new Uint8Array(g.byteLength+n.byteLength);return b.set(new Uint8Array(g),0),b.set(new Uint8Array(n),g.byteLength),b.buffer}decode(e,t){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return t(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return t({join_ref:i,ref:s,topic:a,event:o,payload:l})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodeUserBroadcast(e,t,n){const i=t.getUint8(1),s=t.getUint8(2),a=t.getUint8(3),o=t.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+s));l=l+s;const f=n.decode(e.slice(l,l+a));l=l+a;const m=e.slice(l,e.byteLength),g=o===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,x={type:this.BROADCAST_EVENT,event:d,payload:g};return a>0&&(x.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>t.includes(n)))}}class hW{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Wt||(Wt={}));const QF=(r,e,t={})=>{var n;const i=(n=t.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=Gse(a,r,e,i),s),{}):{}},Gse=(r,e,t,n)=>{const i=e.find(o=>o.name===r),s=i==null?void 0:i.type,a=t[r];return s&&!n.includes(s)?fW(s,a):hR(a)},fW=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Jse(e,t)}switch(r){case Wt.bool:return Kse(e);case Wt.float4:case Wt.float8:case Wt.int2:case Wt.int4:case Wt.int8:case Wt.numeric:case Wt.oid:return Yse(e);case Wt.json:case Wt.jsonb:return Xse(e);case Wt.timestamp:return Qse(e);case Wt.abstime:case Wt.date:case Wt.daterange:case Wt.int4range:case Wt.int8range:case Wt.money:case Wt.reltime:case Wt.text:case Wt.time:case Wt.timestamptz:case Wt.timetz:case Wt.tsrange:case Wt.tstzrange:return hR(e);default:return hR(e)}},hR=r=>r,Kse=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Yse=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Xse=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},Jse=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let s;const a=r.slice(1,t);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>fW(e,o))}return r},Qse=r=>typeof r=="string"?r.replace(" ","T"):r,pW=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class SC{constructor(e,t,n={},i=uR){this.channel=e,this.event=t,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ZF;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(ZF||(ZF={}));class _y{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_y.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=_y.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_y.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,i){const s=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(s,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const f=s[c];if(f){const m=d.map(b=>b.presence_ref),g=f.map(b=>b.presence_ref),x=d.filter(b=>g.indexOf(b.presence_ref)<0),y=f.filter(b=>m.indexOf(b.presence_ref)<0);x.length>0&&(o[c]=x),y.length>0&&(l[c]=y)}else o[c]=d}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,t,n,i){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(g=>g.presence_ref),m=d.filter(g=>f.indexOf(g.presence_ref)<0);e[o].unshift(...m)}n(o,d,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const i=e[n];return"metas"in i?t[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[n]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eB;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(eB||(eB={}));var Sy;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Sy||(Sy={}));var Xo;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Xo||(Xo={}));class mp{constructor(e,t={config:{}},n){var i,s;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Kr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new SC(this,ka.join,this.params,this.timeout),this.rejoinTimer=new hW(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ka.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new _y(this),this.broadcastEndpointURL=pW(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Kr.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Sy.PRESENCE]&&this.bindings[Sy.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},m={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Xo.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Xo.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(Xo.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(x=y==null?void 0:y.length)!==null&&x!==void 0?x:0,_=[];for(let E=0;E<b;E++){const A=y[E],{filter:{event:C,schema:k,table:P,filter:j}}=A,M=g&&g[E];if(M&&M.event===C&&mp.isFilterValueEqual(M.schema,k)&&mp.isFilterValueEqual(M.table,P)&&mp.isFilterValueEqual(M.filter,j))_.push(Object.assign(Object.assign({},A),{id:M.id}));else{this.unsubscribe(),this.state=Kr.errored,e==null||e(Xo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Xo.SUBSCRIBED);return}}).receive("error",g=>{this.state=Kr.errored,e==null||e(Xo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Kr.joined&&e===Sy.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){var i;if(t==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,t={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Kr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ka.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new SC(this,ka.leave,{},e),n.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kr.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new SC(this,e,t,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Wse){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=ka;if(n&&[o,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,t,n);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var x,y,b;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(y=g.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(g=>g.callback(m,n)):(s=this.bindings[a])===null||s===void 0||s.filter(g=>{var x,y,b,_,E,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const C=g.id,k=(x=g.filter)===null||x===void 0?void 0:x.event;return C&&((y=t.ids)===null||y===void 0?void 0:y.includes(C))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const C=(E=(_=g==null?void 0:g.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return C==="*"||C===((A=t==null?void 0:t.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:y,table:b,commit_timestamp:_,type:E,errors:A}=x;m=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:_,eventType:E,new:{},old:{},errors:A}),this._getPayloadRecords(x))}g.callback(m,n)})}_isClosed(){return this.state===Kr.closed}_isJoined(){return this.state===Kr.joined}_isJoining(){return this.state===Kr.joining}_isLeaving(){return this.state===Kr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&mp.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ka.close,{},e)}_onError(e){this._on(ka.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=QF(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=QF(e.columns,e.old_record)),t}}const AC=()=>{},c_={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zse=[1e3,2e3,5e3,1e4],eae=1e4,tae=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rae{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uR,this.transport=null,this.heartbeatIntervalMs=c_.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=AC,this.ref=0,this.reconnectTimer=null,this.vsn=JF,this.logger=AC,this.conn=null,this.sendBuffer=[],this.serializer=new Vse,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=t==null?void 0:t.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${dR.websocket}`,this.httpEndpoint=pW(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bse.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Nc.connecting:return _d.Connecting;case Nc.open:return _d.Open;case Nc.closing:return _d.Closing;default:return _d.Closed}}isConnected(){return this.connectionState()===_d.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new mp(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Hse,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},c_.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=t,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Nc.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Nc.open||this.conn.readyState===Nc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ka.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${n}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([tae],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,n=!1;if(e)t=e,n=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const s={access_token:t,version:zse};t&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(ka.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new hW(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},c_.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,i,s,a,o,l,c,d,f,m,g;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:uR,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:c_.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:AC,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:JF,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:(x=>Zse[x-1]||eae),this.vsn){case dW:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:((x,y)=>y(JSON.stringify(x))),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:((x,y)=>y(JSON.parse(x)));break;case qse:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Iy=class extends Error{constructor(r,e){var t;super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function nae(r,e,t){const n=new URL(e,r);if(t)for(const[i,s]of Object.entries(t))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function iae(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function sae(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:t,path:n,query:i,body:s,headers:a}){const o=nae(r.baseUrl,n,i),l=await iae(r.auth),c=await e(o,{method:t,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),m=f&&d?JSON.parse(d):d;if(!c.ok){const g=f?m:void 0,x=g==null?void 0:g.error;throw new Iy((x==null?void 0:x.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:g})}return{status:c.status,headers:c.headers,data:m}}}}function u_(r){return r.join("")}var aae=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:u_(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(r,e){const t={namespace:r.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${u_(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${u_(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${u_(r.namespace)}`}),!0}catch(e){if(e instanceof Iy&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(t){if(t instanceof Iy&&t.status===409)return;throw t}}};function Vf(r){return r.join("")}var oae=class{constructor(r,e="",t){this.client=r,this.prefix=e,this.accessDelegation=t}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vf(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vf(r.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(r,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vf(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vf(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vf(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vf(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(t){if(t instanceof Iy&&t.status===404)return!1;throw t}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(t){if(t instanceof Iy&&t.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw t}}},lae=class{constructor(r){var n;let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const t=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=sae({baseUrl:t,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(n=r.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new aae(this.client,e),this.tableOps=new oae(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},TA=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function pr(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var cae=class extends TA{constructor(r,e,t){super(r),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fR=class extends TA{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};const UI=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),uae=()=>Response,pR=r=>{if(Array.isArray(r))return r.map(t=>pR(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=pR(n)}),e},dae=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},hae=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function My(r){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(r)}function fae(r,e){if(My(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function pae(r){var e=fae(r,"string");return My(e)=="symbol"?e:e+""}function mae(r,e,t){return(e=pae(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function tB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ze(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tB(Object(t),!0).forEach(function(n){mae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):tB(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const EC=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},gae=async(r,e,t)=>{r instanceof await uae()&&!(t!=null&&t.noResolveJson)?r.json().then(n=>{const i=r.status||500,s=(n==null?void 0:n.statusCode)||i+"";e(new cae(EC(n),i,s))}).catch(n=>{e(new fR(EC(n),n))}):e(new fR(EC(r),r))},vae=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!n?i:(dae(n)?(i.headers=ze({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),ze(ze({},i),t))};async function Ew(r,e,t,n,i,s){return new Promise((a,o)=>{r(t,vae(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>gae(l,o,n))})}async function Dy(r,e,t,n){return Ew(r,"GET",e,t,n)}async function fa(r,e,t,n,i){return Ew(r,"POST",e,n,i,t)}async function mR(r,e,t,n,i){return Ew(r,"PUT",e,n,i,t)}async function yae(r,e,t,n){return Ew(r,"HEAD",e,ze(ze({},t),{},{noResolveJson:!0}),n)}async function zI(r,e,t,n,i){return Ew(r,"DELETE",e,n,i,t)}var bae=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(pr(e))return{data:null,error:e};throw e}}};let mW;mW=Symbol.toStringTag;var wae=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[mW]="BlobDownloadBuilder",this.promise=null}asStream(){return new bae(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(pr(e))return{data:null,error:e};throw e}}};const xae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rB={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var _ae=class{constructor(r,e={},t,n){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.bucketId=t,this.fetch=UI(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,e,t,n){var i=this;try{let s;const a=ze(ze({},rB),n);let o=ze(ze({},i.headers),r==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&t instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",t)):typeof FormData<"u"&&t instanceof FormData?(s=t,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=t,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=ze(ze({},o),n.headers));const c=i._removeEmptyFolders(e),d=i._getFinalPath(c),f=await(r=="PUT"?mR:fa)(i.fetch,`${i.url}/object/${d}`,s,ze({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(pr(s))return{data:null,error:s};throw s}}async upload(r,e,t){return this.uploadOrUpdate("POST",r,e,t)}async uploadToSignedUrl(r,e,t,n){var i=this;const s=i._removeEmptyFolders(r),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);o.searchParams.set("token",e);try{let l;const c=ze({upsert:rB.upsert},n),d=ze(ze({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&t instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",t)):typeof FormData<"u"&&t instanceof FormData?(l=t,l.append("cacheControl",c.cacheControl)):(l=t,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:s,fullPath:(await mR(i.fetch,o.toString(),l,{headers:d})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(pr(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(r,e){var t=this;try{let n=t._getFinalPath(r);const i=ze({},t.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await fa(t.fetch,`${t.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(t.url+s.url),o=a.searchParams.get("token");if(!o)throw new TA("No token returned by API");return{data:{signedUrl:a.toString(),path:r,token:o},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}}async update(r,e,t){return this.uploadOrUpdate("PUT",r,e,t)}async move(r,e,t){var n=this;try{return{data:await fa(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pr(i))return{data:null,error:i};throw i}}async copy(r,e,t){var n=this;try{return{data:{path:(await fa(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pr(i))return{data:null,error:i};throw i}}async createSignedUrl(r,e,t){var n=this;try{let i=n._getFinalPath(r),s=await fa(n.fetch,`${n.url}/object/sign/${i}`,ze({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:n.headers});const a=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return s={signedUrl:encodeURI(`${n.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pr(i))return{data:null,error:i};throw i}}async createSignedUrls(r,e,t){var n=this;try{const i=await fa(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:r},{headers:n.headers}),s=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:i.map(a=>ze(ze({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pr(i))return{data:null,error:i};throw i}}download(r,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=n?`?${n}`:"",s=this._getFinalPath(r),a=()=>Dy(this.fetch,`${this.url}/${t}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new wae(a,this.shouldThrowOnError)}async info(r){var e=this;const t=e._getFinalPath(r);try{return{data:pR(await Dy(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}}async exists(r){var e=this;const t=e._getFinalPath(r);try{return await yae(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pr(n)&&n instanceof fR){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(r,e){const t=this._getFinalPath(r),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${t}${o}`)}}}async remove(r){var e=this;try{return{data:await zI(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pr(t))return{data:null,error:t};throw t}}async list(r,e,t){var n=this;try{const i=ze(ze(ze({},xae),e),{},{prefix:r||""});return{data:await fa(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},t),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pr(i))return{data:null,error:i};throw i}}async listV2(r,e){var t=this;try{const n=ze({},r);return{data:await fa(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,n,{headers:t.headers},e),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const gW="2.89.0",vW={"X-Client-Info":`storage-js/${gW}`};var Sae=class{constructor(r,e={},t,n){this.shouldThrowOnError=!1;const i=new URL(r);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=ze(ze({},vW),e),this.fetch=UI(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var e=this;try{const t=e.listBucketOptionsToQueryString(r);return{data:await Dy(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pr(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await Dy(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pr(t))return{data:null,error:t};throw t}}async createBucket(r,e={public:!1}){var t=this;try{return{data:await fa(t.fetch,`${t.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}}async updateBucket(r,e){var t=this;try{return{data:await mR(t.fetch,`${t.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}}async emptyBucket(r){var e=this;try{return{data:await fa(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pr(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await zI(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pr(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Aae=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ze(ze({},vW),e),this.fetch=UI(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await fa(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pr(t))return{data:null,error:t};throw t}}async listBuckets(r){var e=this;try{const t=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&t.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&t.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&t.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&t.set("sortOrder",r.sortOrder),r!=null&&r.search&&t.set("search",r.search);const n=t.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Dy(e.fetch,i,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pr(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await zI(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pr(t))return{data:null,error:t};throw t}}from(r){var e=this;if(!hae(r))throw new TA("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new lae({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(t,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const qI={"X-Client-Info":`storage-js/${gW}`,"Content-Type":"application/json"};var yW=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function hs(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var kC=class extends yW{constructor(r,e,t){super(r),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Eae=class extends yW{constructor(r,e){super(r),this.name="StorageVectorsUnknownError",this.originalError=e}};const HI=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),kae=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},nB=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Cae=async(r,e,t)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(t!=null&&t.noResolveJson)){const n=r.status||500,i=r;if(typeof i.json=="function")i.json().then(s=>{const a=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||n+"";e(new kC(nB(s),n,a))}).catch(()=>{const s=n+"";e(new kC(i.statusText||`HTTP ${n} error`,n,s))});else{const s=n+"";e(new kC(i.statusText||`HTTP ${n} error`,n,s))}}else e(new Eae(nB(r),r))},Tae=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return n?(kae(n)?(i.headers=ze({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,ze(ze({},i),t)):i};async function Pae(r,e,t,n,i,s){return new Promise((a,o)=>{r(t,Tae(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>Cae(l,o,n))})}async function fs(r,e,t,n,i){return Pae(r,"POST",e,n,i,t)}var Oae=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ze(ze({},qI),e),this.fetch=HI(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var e=this;try{return{data:await fs(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hs(t))return{data:null,error:t};throw t}}async getIndex(r,e){var t=this;try{return{data:await fs(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(hs(n))return{data:null,error:n};throw n}}async listIndexes(r){var e=this;try{return{data:await fs(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hs(t))return{data:null,error:t};throw t}}async deleteIndex(r,e){var t=this;try{return{data:await fs(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(hs(n))return{data:null,error:n};throw n}}},Nae=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ze(ze({},qI),e),this.fetch=HI(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var e=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await fs(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hs(t))return{data:null,error:t};throw t}}async getVectors(r){var e=this;try{return{data:await fs(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hs(t))return{data:null,error:t};throw t}}async listVectors(r){var e=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await fs(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hs(t))return{data:null,error:t};throw t}}async queryVectors(r){var e=this;try{return{data:await fs(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hs(t))return{data:null,error:t};throw t}}async deleteVectors(r){var e=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await fs(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hs(t))return{data:null,error:t};throw t}}},Rae=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ze(ze({},qI),e),this.fetch=HI(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await fs(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hs(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await fs(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hs(t))return{data:null,error:t};throw t}}async listBuckets(r={}){var e=this;try{return{data:await fs(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hs(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await fs(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hs(t))return{data:null,error:t};throw t}}},jae=class extends Rae{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new Iae(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,t=this;return e().call(t,r)}async getBucket(r){var e=()=>super.getBucket,t=this;return e().call(t,r)}async listBuckets(r={}){var e=()=>super.listBuckets,t=this;return e().call(t,r)}async deleteBucket(r){var e=()=>super.deleteBucket,t=this;return e().call(t,r)}},Iae=class extends Oae{constructor(r,e,t,n){super(r,e,n),this.vectorBucketName=t}async createIndex(r){var e=()=>super.createIndex,t=this;return e().call(t,ze(ze({},r),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,t=this;return e().call(t,ze(ze({},r),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,r)}index(r){return new Mae(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Mae=class extends Nae{constructor(r,e,t,n,i){super(r,e,i),this.vectorBucketName=t,this.indexName=n}async putVectors(r){var e=()=>super.putVectors,t=this;return e().call(t,ze(ze({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(r){var e=()=>super.getVectors,t=this;return e().call(t,ze(ze({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,t=this;return e().call(t,ze(ze({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,t=this;return e().call(t,ze(ze({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,t=this;return e().call(t,ze(ze({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},Dae=class extends Sae{constructor(r,e={},t,n){super(r,e,t,n)}from(r){return new _ae(this.url,this.headers,r,this.fetch)}get vectors(){return new jae(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Aae(this.url+"/iceberg",this.headers,this.fetch)}};const bW="2.89.0",sp=30*1e3,gR=3,CC=gR*sp,Lae="http://localhost:9999",$ae="supabase.auth.token",Fae={"X-Client-Info":`gotrue-js/${bW}`},vR="X-Supabase-Api-Version",wW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bae=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Uae=600*1e3;class Ly extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Me(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class zae extends Ly{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function qae(r){return Me(r)&&r.name==="AuthApiError"}class Sd extends Ly{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Zl extends Ly{constructor(e,t,n,i){super(e,n,i),this.name=t,this.status=n}}class Fi extends Zl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hae(r){return Me(r)&&r.name==="AuthSessionMissingError"}class Gf extends Zl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class d_ extends Zl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class h_ extends Zl{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Wae(r){return Me(r)&&r.name==="AuthImplicitGrantRedirectError"}class iB extends Zl{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vae extends Zl{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yR extends Zl{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function TC(r){return Me(r)&&r.name==="AuthRetryableFetchError"}class sB extends Zl{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class bR extends Zl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aB=` 	
\r=`.split(""),Gae=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<aB.length;e+=1)r[aB[e].charCodeAt(0)]=-2;for(let e=0;e<$1.length;e+=1)r[$1[e].charCodeAt(0)]=e;return r})();function oB(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t($1[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t($1[n]),e.queuedBits-=6}}function xW(r,e,t){const n=Gae[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function lB(r){const e=[],t=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Xae(a,n,t)};for(let a=0;a<r.length;a+=1)xW(r.charCodeAt(a),i,s);return e.join("")}function Kae(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Yae(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}Kae(n,e)}}function Xae(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Cp(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<r.length;i+=1)xW(r.charCodeAt(i),t,n);return new Uint8Array(e)}function Jae(r){const e=[];return Yae(r,t=>e.push(t)),new Uint8Array(e)}function Od(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};return r.forEach(i=>oB(i,t,n)),oB(null,t,n),e.join("")}function Qae(r){return Math.round(Date.now()/1e3)+r}function Zae(){return Symbol("auth-callback")}const xn=()=>typeof window<"u"&&typeof document<"u",fd={tested:!1,writable:!1},_W=()=>{if(!xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fd.tested)return fd.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),fd.tested=!0,fd.writable=!0}catch{fd.tested=!0,fd.writable=!1}return fd.writable};function eoe(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((n,i)=>{e[i]=n}),e}const SW=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),toe=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ap=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},pd=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},wn=async(r,e)=>{await r.removeItem(e)};class PA{constructor(){this.promise=new PA.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}PA.promiseConstructor=Promise;function PC(r){const e=r.split(".");if(e.length!==3)throw new bR("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Bae.test(e[n]))throw new bR("JWT not in base64url format");return{header:JSON.parse(lB(e[0])),payload:JSON.parse(lB(e[1])),signature:Cp(e[2]),raw:{header:e[0],payload:e[1]}}}async function roe(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function noe(r,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await r(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function ioe(r){return("0"+r.toString(16)).substr(-2)}function soe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,ioe).join("")}async function aoe(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function ooe(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await aoe(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kf(r,e,t=!1){const n=soe();let i=n;t&&(i+="/PASSWORD_RECOVERY"),await ap(r,`${e}-code-verifier`,i);const s=await ooe(n);return[s,n===s?"plain":"s256"]}const loe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function coe(r){const e=r.headers.get(vR);if(!e||!e.match(loe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function uoe(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function doe(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hoe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yf(r){if(!hoe.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function OC(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function foe(r,e){return new Proxy(r,{get:(t,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,n,i)}})}function cB(r){return JSON.parse(JSON.stringify(r))}const gd=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),poe=[502,503,504];async function uB(r){var e;if(!toe(r))throw new yR(gd(r),0);if(poe.includes(r.status))throw new yR(gd(r),r.status);let t;try{t=await r.json()}catch(s){throw new Sd(gd(s),s)}let n;const i=coe(r);if(i&&i.getTime()>=wW["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new sB(gd(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Fi}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new sB(gd(t),r.status,t.weak_password.reasons);throw new zae(gd(t),r.status||500,n)}const moe=(r,e,t,n)=>{const i={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),t))};async function Ue(r,e,t,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[vR]||(s[vR]=wW["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await goe(r,e,t+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function goe(r,e,t,n,i,s){const a=moe(e,n,i,s);let o;try{o=await r(t,Object.assign({},a))}catch(l){throw console.error(l),new yR(gd(l),0)}if(o.ok||await uB(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await uB(l)}}function ca(r){var e;let t=null;boe(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Qae(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function dB(r){const e=ca(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Ic(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function voe(r){return{data:r,error:null}}function yoe(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:s}=r,a=Lg(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function hB(r){return r}function boe(r){return r.access_token&&r.refresh_token&&r.expires_in}const NC=["global","local","others"];class woe{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=SW(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=NC[0]){if(NC.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${NC.join(", ")}`);try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ic})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Lg(e,["options"]),i=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:yoe,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Me(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ic})}catch(t){if(Me(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:hB});if(d.error)throw d.error;const f=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);c[`${b}Page`]=y}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Me(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Yf(e);try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ic})}catch(t){if(Me(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Yf(e);try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ic})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Yf(e);try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ic})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Yf(e.userId);try{const{data:t,error:n}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:n}}catch(t){if(Me(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Yf(e.userId),Yf(e.id);try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Me(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:hB});if(d.error)throw d.error;const f=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);c[`${b}Page`]=y}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Me(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Me(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Me(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Me(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Me(t))return{data:null,error:t};throw t}}}function fB(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const Xf={debug:!!(globalThis&&_W()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AW extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xoe extends AW{}async function _oe(r,e,t){Xf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Xf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Xf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await t()}finally{Xf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(e===0)throw Xf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new xoe(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Xf.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function Soe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function EW(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Aoe(r){return parseInt(r,16)}function Eoe(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function koe(r){var e;const{chainId:t,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:d,uri:f,version:m}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const g=EW(r.address),x=d?`${d}://${n}`:n,y=r.statement?`${r.statement}
`:"",b=`${x} wants you to sign in with your Ethereum account:
${g}

${y}`;let _=`URI: ${f}
Version: ${m}
Chain ID: ${t}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),o&&(_+=`
Not Before: ${o.toISOString()}`),l&&(_+=`
Request ID: ${l}`),c){let E=`
Resources:`;for(const A of c){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);E+=`
- ${A}`}_+=E}return`${b}
${_}`}class $r extends Error{constructor({message:e,code:t,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=t}}class F1 extends $r{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Coe({error:r,options:e}){var t,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $r({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=s.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new $r({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new $r({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new $r({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new $r({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new $r({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new $r({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new $r({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if(kW(a)){if(s.rp.id!==a)return new $r({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new $r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new $r({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new $r({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new $r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Toe({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $r({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new $r({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const n=window.location.hostname;if(kW(n)){if(t.rpId!==n)return new $r({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new $r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new $r({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new $r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class Poe{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ooe=new Poe;function Noe(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:n}=r,i=Lg(r,["challenge","user","excludeCredentials"]),s=Cp(e).buffer,a=Object.assign(Object.assign({},t),{id:Cp(t.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Cp(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function Roe(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,n=Lg(r,["challenge","allowCredentials"]),i=Cp(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(t&&t.length>0){s.allowCredentials=new Array(t.length);for(let a=0;a<t.length;a++){const o=t[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Cp(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function joe(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:Od(new Uint8Array(r.response.attestationObject)),clientDataJSON:Od(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ioe(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,n=r.getClientExtensionResults(),i=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Od(new Uint8Array(i.authenticatorData)),clientDataJSON:Od(new Uint8Array(i.clientDataJSON)),signature:Od(new Uint8Array(i.signature)),userHandle:i.userHandle?Od(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kW(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function pB(){var r,e;return!!(xn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Moe(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new F1("Browser returned unexpected credential type",e)}:{data:null,error:new F1("Empty credential response",e)}}catch(e){return{data:null,error:Coe({error:e,options:r})}}}async function Doe(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new F1("Browser returned unexpected credential type",e)}:{data:null,error:new F1("Empty credential response",e)}}catch(e){return{data:null,error:Toe({error:e,options:r})}}}const Loe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$oe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function B1(...r){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of r)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(t(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=B1(o,a):n[s]=B1(a)}else n[s]=a}return n}function Foe(r,e){return B1(Loe,r,e||{})}function Boe(r,e){return B1($oe,r,e||{})}class Uoe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!a)return{data:null,error:o};const l=i??Ooe.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=Foe(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await Moe({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=Boe(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await Doe(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return Me(a)?{data:null,error:a}:{data:null,error:new Sd("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!t)return{data:null,error:new Ly("rpId is required for WebAuthn authentication")};try{if(!pB())return{data:null,error:new Sd("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:t,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return Me(a)?{data:null,error:a}:{data:null,error:new Sd("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!t)return{data:null,error:new Ly("rpId is required for WebAuthn registration")};try{if(!pB())return{data:null,error:new Sd("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:t,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return Me(a)?{data:null,error:a}:{data:null,error:new Sd("Unexpected error in register",a)}}}}Soe();const zoe={url:Lae,storageKey:$ae,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fae,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function mB(r,e,t){return await t()}const Jf={};class $y{get jwks(){var e,t;return(t=(e=Jf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Jf[this.storageKey]=Object.assign(Object.assign({},Jf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Jf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jf[this.storageKey]=Object.assign(Object.assign({},Jf[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},zoe),e);if(this.storageKey=s.storageKey,this.instanceID=(t=$y.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,$y.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&xn()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new woe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=SW(s.fetch),this.lock=s.lock||mB,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&xn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_oe:this.lock=mB,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Uoe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:_W()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fB(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=fB(this.memoryStorage)),xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${bW}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},n="none";if(xn()&&(t=eoe(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),xn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Wae(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Me(t)?this._returnResult({error:t}):this._returnResult({error:new Sd("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,i;try{const s=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ca}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var t,n,i;try{let s;if("email"in e){const{email:d,password:f,options:m}=e;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Kf(this.storage,this.storageKey)),s=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(t=m==null?void 0:m.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},xform:ca})}else if("phone"in e){const{phone:d,password:f,options:m}=e;s=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ca})}else throw new d_("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await wn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:a,options:o}=e;t=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:dB})}else if("phone"in e){const{phone:s,password:a,options:o}=e;t=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:dB})}else throw new d_("You must provide either an email or phone number and a password");const{data:n,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Gf;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(t){if(Me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,n,i,s,a,o,l,c,d,f,m;let g,x;if("message"in e)g=e.message,x=e.signature;else{const{chain:y,wallet:b,statement:_,options:E}=e;let A;if(xn())if(typeof b=="object")A=b;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")A=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=b}const C=new URL((t=E==null?void 0:E.url)!==null&&t!==void 0?t:window.location.href),k=await A.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=EW(k[0]);let j=(n=E==null?void 0:E.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const $=await A.request({method:"eth_chainId"});j=Aoe($)}const M={domain:C.host,address:P,statement:_,uri:C.href,version:"1",chainId:j,nonce:(i=E==null?void 0:E.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=E==null?void 0:E.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=E==null?void 0:E.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=E==null?void 0:E.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=E==null?void 0:E.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=E==null?void 0:E.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=koe(M),x=await A.request({method:"personal_sign",params:[Eoe(g),P]})}try{const{data:y,error:b}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:x},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ca});if(b)throw b;if(!y||!y.session||!y.user){const _=new Gf;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(Me(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var t,n,i,s,a,o,l,c,d,f,m,g;let x,y;if("message"in e)x=e.message,y=e.signature;else{const{chain:b,wallet:_,statement:E,options:A}=e;let C;if(xn())if(typeof _=="object")C=_;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const k=new URL((t=A==null?void 0:A.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),E?{statement:E}:null));let j;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")j=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)j=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)x=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${k.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(n=A==null?void 0:A.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((a=A==null?void 0:A.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((o=A==null?void 0:A.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((f=(d=A==null?void 0:A.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...A.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(x),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=P}}try{const{data:b,error:_}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Od(y)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ca});if(_)throw _;if(!b||!b.session||!b.user){const E=new Gf;return this._returnResult({data:{user:null,session:null},error:E})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:_})}catch(b){if(Me(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const t=await pd(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(t??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Vae;const{data:s,error:a}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ca});if(await wn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new Gf;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Me(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:i,access_token:s,nonce:a}=e,o=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ca}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new Gf;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(t){if(Me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Kf(this.storage,this.storageKey));const{error:f}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new d_("You must provide either an email or phone number.")}catch(o){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var t,n;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ca});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var t,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Kf(this.storage,this.storageKey));const c=await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:voe});return!((s=c.data)===null||s===void 0)&&s.url&&xn()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Me(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Fi;const{error:i}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await Ue(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await Ue(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new d_("You must provide either an email or phone number and a type")}catch(t){if(Me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await pd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<CC:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await pd(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=OC()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=foe(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ic}):await this._useSession(async t=>{var n,i,s;const{data:a,error:o}=t;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fi}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ic})})}catch(t){if(Me(t))return Hae(t)&&(await this._removeSession(),await wn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Fi;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Kf(this.storage,this.storageKey));const{data:c,error:d}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Ic});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Me(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fi;const t=Date.now()/1e3;let n=t,i=!0,s=null;const{payload:a}=PC(e.access_token);if(a.exp&&(n=a.exp,i=n<=t),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(t){if(Me(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Fi;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!xn())throw new h_("No browser detected.");if(e.error||e.error_description||e.error_code)throw new h_(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new iB("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new h_("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new iB("No code detected.");const{data:E,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new h_("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let m=d+f;l&&(m=parseInt(l));const g=m-d;g*1e3<=sp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=m-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:y,error:b}=await this._getUser(s);if(b)throw b;const _={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:m,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(n){if(Me(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await pd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(qae(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await wn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Zae(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,i;try{const{data:{session:s},error:a}=t;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Kf(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Me(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(Me(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,c,d;const{data:f,error:m}=s;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return xn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Me(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:i,data:{session:s}}=t;if(i)throw i;const{options:a,provider:o,token:l,access_token:c,nonce:d}=e,f=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ca}),{data:m,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Gf}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:g}))}catch(i){if(await wn(this.storage,`${this.storageKey}-code-verifier`),Me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:a}=t;if(a)throw a;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(Me(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await noe(async i=>(i>0&&await roe(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ca})),(i,s)=>{const a=200*Math.pow(2,i);return s&&TC(s)&&Date.now()+a-n<sp})}catch(n){if(this._debug(t,"error",n),Me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),xn()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await pd(this.storage,this.storageKey);if(i&&this.userStorage){let a=await pd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ap(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:OC()}else if(i&&!i.user&&!i.user){const a=await pd(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await wn(this.storage,this.storageKey+"-user"),await ap(this.storage,this.storageKey,i)):i.user=OC()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<CC;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${CC}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),TC(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Fi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new PA;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Fi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Me(s)){const a={data:null,error:s};return TC(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wn(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await ap(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const s=cB(i);await ap(this.storage,this.storageKey,s)}else{const i=cB(t);await ap(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wn(this.storage,this.storageKey),await wn(this.storage,this.storageKey+"-code-verifier"),await wn(this.storage,this.storageKey+"-user"),this.userStorage&&await wn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sp);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/sp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${sp}ms, refresh threshold is ${gR} ticks`),i<=gR&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof AW)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const i=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Kf(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;return s?this._returnResult({data:null,error:s}):await Ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Me(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(t){if(Me(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?joe(e.webauthn.credential_response):Ioe(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(t){if(Me(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Noe(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Roe(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Me(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=PC(n.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((t=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(o="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await Ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Fi})})}catch(t){if(Me(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Fi});const a=await Ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&xn()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Fi});const a=await Ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&xn()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await Ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Fi})})}catch(e){if(Me(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?(await Ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Fi})})}catch(t){if(Me(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Uae>i)return n;const{data:s,error:a}=await Ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:g,error:x}=await this.getSession();if(x||!g.session)return this._returnResult({data:null,error:x});n=g.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=PC(n);t!=null&&t.allowExpired||uoe(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!c){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:s,header:i,signature:a},error:null}}const d=doe(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,Jae(`${o}.${l}`)))throw new bR("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}}$y.nextInstanceID={};const qoe=$y,Hoe="2.89.0";let Yv="";typeof Deno<"u"?Yv="deno":typeof document<"u"?Yv="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yv="react-native":Yv="node";const Woe={"X-Client-Info":`supabase-js-${Yv}/${Hoe}`},Voe={headers:Woe},Goe={schema:"public"},Koe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yoe={};function Fy(r){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(r)}function Xoe(r,e){if(Fy(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Joe(r){var e=Xoe(r,"string");return Fy(e)=="symbol"?e:e+""}function Qoe(r,e,t){return(e=Joe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function gB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Sr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(t),!0).forEach(function(n){Qoe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gB(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const Zoe=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),ele=()=>Headers,tle=(r,e,t)=>{const n=Zoe(t),i=ele();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:r;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Sr(Sr({},a),{},{headers:c}))}};function rle(r){return r.endsWith("/")?r:r+"/"}function nle(r,e){var t,n;const{db:i,auth:s,realtime:a,global:o}=r,{db:l,auth:c,realtime:d,global:f}=e,m={db:Sr(Sr({},l),i),auth:Sr(Sr({},c),s),realtime:Sr(Sr({},d),a),storage:{},global:Sr(Sr(Sr({},f),o),{},{headers:Sr(Sr({},(t=f==null?void 0:f.headers)!==null&&t!==void 0?t:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return r.accessToken?m.accessToken=r.accessToken:delete m.accessToken,m}function ile(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(rle(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var sle=class extends qoe{constructor(r){super(r)}},ale=class{constructor(r,e,t){var n,i;this.supabaseUrl=r,this.supabaseKey=e;const s=ile(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:Goe,realtime:Yoe,auth:Sr(Sr({},Koe),{},{storageKey:a}),global:Voe},l=nle(t??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=tle(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Sr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Fse(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Dae(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Ise(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,t)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,t;if(r.accessToken)return await r.accessToken();const{data:n}=await r.auth.getSession();return(e=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:n,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:c},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sle({url:this.authUrl.href,headers:Sr(Sr({},m),d),storageKey:s,autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:n,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new rae(this.realtimeUrl.href,Sr(Sr({},r),{},{params:Sr(Sr({},{apikey:this.supabaseKey}),r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(r,e,t){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ole=(r,e,t)=>new ale(r,e,t);function lle(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}lle()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const CW="onswemqebfrvtoqozuae",cle="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9uc3dlbXFlYmZydnRvcW96dWFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwMDQ3NDIsImV4cCI6MjA4MjU4MDc0Mn0.uJydGy5rVgAZL5fStSVWcYA6Gb9cmbvgeC11AU1RgNc",TW=!0,ule="your_ai_api_key_here",z_={name:"ConceptPulse",version:"1.0.0",environment:"production"},PW=()=>{console.log(`%c${z_.name} v${z_.version}`,"font-weight: bold; color: #4F46E5; font-size: 14px;"),console.log(`Environment: ${z_.environment} (Mock Mode: ${TW})`)},RC=Object.freeze(Object.defineProperty({__proto__:null,APP_CONFIG:z_,GEMINI_API_KEY:ule,USE_MOCK:TW,logConfig:PW},Symbol.toStringTag,{value:"Module"})),Xke={id:"mock-user-id",email:"admin@conceptpule.ed",name:"Demo Student",class:"12th Grade",exam_type:"JEE Advanced",created_at:new Date().toISOString()},dle={Physics:{concepts:{"Newton's Laws":75,Kinematics:60,Thermodynamics:45,Electromagnetism:80}},Mathematics:{concepts:{Calculus:70,"Linear Algebra":55,Trigonometry:85,Probability:40}},Chemistry:{concepts:{"Organic Reactions":65,"Periodic Table":90,"Chemical Bonding":50}}},Jke=()=>{const r=[];return Object.entries(dle).forEach(([e,t])=>{Object.entries(t.concepts).forEach(([n,i])=>{i<60&&r.push(n)})}),r},hle=(r,e=8)=>({"Newton's Laws":[{id:"nl1",question:"A 5 kg object accelerates at 2 m/s. What force is applied?",options:["5 N","10 N","7 N","2.5 N"],correctAnswer:1,explanation:"Using F = ma: F = 5 kg  2 m/s = 10 N",concept:"Newton's Laws",difficulty:"easy"},{id:"nl2",question:"Which law explains why you feel pushed back when a car accelerates?",options:["First Law","Second Law","Third Law","Law of Gravitation"],correctAnswer:0,explanation:"Newton's First Law (Inertia) explains this effect",concept:"Newton's Laws",difficulty:"medium"}],Calculus:[{id:"calc1",question:"What is the derivative of x?",options:["x","3x","3x","x"],correctAnswer:1,explanation:"Using power rule: d/dx(x) = nx, so d/dx(x) = 3x",concept:"Calculus",difficulty:"easy"},{id:"calc2",question:"What is 2x dx?",options:["x","x + C","2x","2x + C"],correctAnswer:1,explanation:"The integral of 2x is x plus constant C",concept:"Calculus",difficulty:"medium"}]}[r]||[]).slice(0,e),fle=r=>({"Newton's Laws":{intro:{title:"Mastering Newton's Laws of Motion",description:"Let's strengthen your understanding of the fundamental laws governing motion.",why:"These laws form the foundation of classical mechanics and are essential for physics problems."},explanation:{title:"The Three Laws",text:"Newton's Laws describe how objects move and interact. The First Law (Inertia) states objects stay at rest or in motion unless acted upon. The Second Law (F=ma) relates force, mass, and acceleration. The Third Law states every action has an equal and opposite reaction.",definition:"Force equals mass times acceleration (F = ma)"},analogy:{title:"Real-World Example",text:"Think of a hockey puck on ice - it keeps sliding (First Law) until friction or a stick (force) changes its motion (Second Law). When you push a wall, it pushes back (Third Law).",visual:"Hockey Puck"},example:{step1:"Identify: A 10 kg cart is pushed with 20 N force",step2:"Apply F = ma: a = F/m = 20 N / 10 kg",answer:"Acceleration = 2 m/s"}},Calculus:{intro:{title:"Understanding Calculus Fundamentals",description:"Building a solid foundation in derivatives and integrals.",why:"Calculus is essential for advanced mathematics, physics, and engineering."},explanation:{title:"Derivatives and Integrals",text:"A derivative measures the rate of change of a function. An integral calculates the area under a curve. They are inverse operations of each other.",definition:"The derivative of f(x) at point a is the limit of [f(a+h) - f(a)]/h as h0"},analogy:{title:"Distance and Speed",text:"If you know your position over time, the derivative gives you velocity (how fast you're moving). If you know velocity, the integral gives you total distance traveled.",visual:"Car Speedometer"},example:{step1:"Find d/dx(x): Using power rule, bring down the exponent",step2:"Multiply by original exponent, reduce power by 1",answer:"d/dx(x) = 4x"}}})[r]||null;var vB;(function(r){r.STRING="string",r.NUMBER="number",r.INTEGER="integer",r.BOOLEAN="boolean",r.ARRAY="array",r.OBJECT="object"})(vB||(vB={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yB;(function(r){r.LANGUAGE_UNSPECIFIED="language_unspecified",r.PYTHON="python"})(yB||(yB={}));var bB;(function(r){r.OUTCOME_UNSPECIFIED="outcome_unspecified",r.OUTCOME_OK="outcome_ok",r.OUTCOME_FAILED="outcome_failed",r.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(bB||(bB={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=["user","model","function","system"];var xB;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(xB||(xB={}));var _B;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(_B||(_B={}));var SB;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(SB||(SB={}));var AB;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER"})(AB||(AB={}));var Ay;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.OTHER="OTHER"})(Ay||(Ay={}));var EB;(function(r){r.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",r.RETRIEVAL_QUERY="RETRIEVAL_QUERY",r.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",r.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",r.CLASSIFICATION="CLASSIFICATION",r.CLUSTERING="CLUSTERING"})(EB||(EB={}));var kB;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE"})(kB||(kB={}));var CB;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(CB||(CB={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Qf extends Qn{constructor(e,t){super(e),this.response=t}}class OW extends Qn{constructor(e,t,n,i){super(e),this.status=t,this.statusText=n,this.errorDetails=i}}class Pu extends Qn{}class NW extends Qn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ple="https://generativelanguage.googleapis.com",mle="v1beta",gle="0.24.1",vle="genai-js";var rf;(function(r){r.GENERATE_CONTENT="generateContent",r.STREAM_GENERATE_CONTENT="streamGenerateContent",r.COUNT_TOKENS="countTokens",r.EMBED_CONTENT="embedContent",r.BATCH_EMBED_CONTENTS="batchEmbedContents"})(rf||(rf={}));class yle{constructor(e,t,n,i,s){this.model=e,this.task=t,this.apiKey=n,this.stream=i,this.requestOptions=s}toString(){var e,t;const n=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||mle;let s=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||ple}/${n}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function ble(r){const e=[];return r!=null&&r.apiClient&&e.push(r.apiClient),e.push(`${vle}/${gle}`),e.join(" ")}async function wle(r){var e;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",ble(r.requestOptions)),t.append("x-goog-api-key",r.apiKey);let n=(e=r.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(i){throw new Pu(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${i.message}`)}for(const[i,s]of n.entries()){if(i==="x-goog-api-key")throw new Pu(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Pu(`Header name ${i} can only be set using the apiClient field`);t.append(i,s)}}return t}async function xle(r,e,t,n,i,s){const a=new yle(r,e,t,n,s);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},Ele(s)),{method:"POST",headers:await wle(a),body:i})}}async function kw(r,e,t,n,i,s={},a=fetch){const{url:o,fetchOptions:l}=await xle(r,e,t,n,i,s);return _le(o,l,a)}async function _le(r,e,t=fetch){let n;try{n=await t(r,e)}catch(i){Sle(i,r)}return n.ok||await Ale(n,r),n}function Sle(r,e){let t=r;throw t.name==="AbortError"?(t=new NW(`Request aborted when fetching ${e.toString()}: ${r.message}`),t.stack=r.stack):r instanceof OW||r instanceof Pu||(t=new Qn(`Error fetching from ${e.toString()}: ${r.message}`),t.stack=r.stack),t}async function Ale(r,e){let t="",n;try{const i=await r.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,n=i.error.details)}catch{}throw new OW(`Error fetching from ${e.toString()}: [${r.status} ${r.statusText}] ${t}`,r.status,r.statusText,n)}function Ele(r){const e={};if((r==null?void 0:r.signal)!==void 0||(r==null?void 0:r.timeout)>=0){const t=new AbortController;(r==null?void 0:r.timeout)>=0&&setTimeout(()=>t.abort(),r.timeout),r!=null&&r.signal&&r.signal.addEventListener("abort",()=>{t.abort()}),e.signal=t.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r){return r.text=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),q_(r.candidates[0]))throw new Qf(`${Rc(r)}`,r);return kle(r)}else if(r.promptFeedback)throw new Qf(`Text not available. ${Rc(r)}`,r);return""},r.functionCall=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),q_(r.candidates[0]))throw new Qf(`${Rc(r)}`,r);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),TB(r)[0]}else if(r.promptFeedback)throw new Qf(`Function call not available. ${Rc(r)}`,r)},r.functionCalls=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),q_(r.candidates[0]))throw new Qf(`${Rc(r)}`,r);return TB(r)}else if(r.promptFeedback)throw new Qf(`Function call not available. ${Rc(r)}`,r)},r}function kle(r){var e,t,n,i;const s=[];if(!((t=(e=r.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const a of(i=(n=r.candidates)===null||n===void 0?void 0:n[0].content)===null||i===void 0?void 0:i.parts)a.text&&s.push(a.text),a.executableCode&&s.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&s.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function TB(r){var e,t,n,i;const s=[];if(!((t=(e=r.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const a of(i=(n=r.candidates)===null||n===void 0?void 0:n[0].content)===null||i===void 0?void 0:i.parts)a.functionCall&&s.push(a.functionCall);if(s.length>0)return s}const Cle=[Ay.RECITATION,Ay.SAFETY,Ay.LANGUAGE];function q_(r){return!!r.finishReason&&Cle.includes(r.finishReason)}function Rc(r){var e,t,n;let i="";if((!r.candidates||r.candidates.length===0)&&r.promptFeedback)i+="Response was blocked",!((e=r.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${r.promptFeedback.blockReason}`),!((t=r.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${r.promptFeedback.blockReasonMessage}`);else if(!((n=r.candidates)===null||n===void 0)&&n[0]){const s=r.candidates[0];q_(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function By(r){return this instanceof By?(this.v=r,this):new By(r)}function Tle(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){n[m]&&(i[m]=function(g){return new Promise(function(x,y){s.push([m,g,x,y])>1||o(m,g)})})}function o(m,g){try{l(n[m](g))}catch(x){f(s[0][3],x)}}function l(m){m.value instanceof By?Promise.resolve(m.value.v).then(c,d):f(s[0][2],m)}function c(m){o("next",m)}function d(m){o("throw",m)}function f(m,g){m(g),s.shift(),s.length&&o(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Ple(r){const e=r.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=Rle(e),[n,i]=t.tee();return{stream:Nle(n),response:Ole(i)}}async function Ole(r){const e=[],t=r.getReader();for(;;){const{done:n,value:i}=await t.read();if(n)return WI(jle(e));e.push(i)}}function Nle(r){return Tle(this,arguments,function*(){const t=r.getReader();for(;;){const{value:n,done:i}=yield By(t.read());if(i)break;yield yield By(WI(n))}})}function Rle(r){const e=r.getReader();return new ReadableStream({start(n){let i="";return s();function s(){return e.read().then(({value:a,done:o})=>{if(o){if(i.trim()){n.error(new Qn("Failed to parse stream"));return}n.close();return}i+=a;let l=i.match(PB),c;for(;l;){try{c=JSON.parse(l[1])}catch{n.error(new Qn(`Error parsing JSON response: "${l[1]}"`));return}n.enqueue(c),i=i.substring(l[0].length),l=i.match(PB)}return s()}).catch(a=>{let o=a;throw o.stack=a.stack,o.name==="AbortError"?o=new NW("Request aborted when reading from the stream"):o=new Qn("Error reading from the stream"),o})}}})}function jle(r){const e=r[r.length-1],t={promptFeedback:e==null?void 0:e.promptFeedback};for(const n of r){if(n.candidates){let i=0;for(const s of n.candidates)if(t.candidates||(t.candidates=[]),t.candidates[i]||(t.candidates[i]={index:i}),t.candidates[i].citationMetadata=s.citationMetadata,t.candidates[i].groundingMetadata=s.groundingMetadata,t.candidates[i].finishReason=s.finishReason,t.candidates[i].finishMessage=s.finishMessage,t.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){t.candidates[i].content||(t.candidates[i].content={role:s.content.role||"user",parts:[]});const a={};for(const o of s.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),t.candidates[i].content.parts.push(a)}i++}n.usageMetadata&&(t.usageMetadata=n.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RW(r,e,t,n){const i=await kw(e,rf.STREAM_GENERATE_CONTENT,r,!0,JSON.stringify(t),n);return Ple(i)}async function jW(r,e,t,n){const s=await(await kw(e,rf.GENERATE_CONTENT,r,!1,JSON.stringify(t),n)).json();return{response:WI(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(r){if(r!=null){if(typeof r=="string")return{role:"system",parts:[{text:r}]};if(r.text)return{role:"system",parts:[r]};if(r.parts)return r.role?r:{role:"system",parts:r.parts}}}function Uy(r){let e=[];if(typeof r=="string")e=[{text:r}];else for(const t of r)typeof t=="string"?e.push({text:t}):e.push(t);return Ile(e)}function Ile(r){const e={role:"user",parts:[]},t={role:"function",parts:[]};let n=!1,i=!1;for(const s of r)"functionResponse"in s?(t.parts.push(s),i=!0):(e.parts.push(s),n=!0);if(n&&i)throw new Qn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!i)throw new Qn("No content is provided for sending chat message.");return n?e:t}function Mle(r,e){var t;let n={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(t=e==null?void 0:e.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=r.generateContentRequest!=null;if(r.contents){if(i)throw new Pu("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=r.contents}else if(i)n=Object.assign(Object.assign({},n),r.generateContentRequest);else{const s=Uy(r);n.contents=[s]}return{generateContentRequest:n}}function OB(r){let e;return r.contents?e=r:e={contents:[Uy(r)]},r.systemInstruction&&(e.systemInstruction=IW(r.systemInstruction)),e}function Dle(r){return typeof r=="string"||Array.isArray(r)?{content:Uy(r)}:r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Lle={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function $le(r){let e=!1;for(const t of r){const{role:n,parts:i}=t;if(!e&&n!=="user")throw new Qn(`First content should be with role 'user', got ${n}`);if(!wB.includes(n))throw new Qn(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(wB)}`);if(!Array.isArray(i))throw new Qn("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Qn("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of i)for(const l of NB)l in o&&(s[l]+=1);const a=Lle[n];for(const o of NB)if(!a.includes(o)&&s[o]>0)throw new Qn(`Content with role '${n}' can't contain '${o}' part`);e=!0}}function RB(r){var e;if(r.candidates===void 0||r.candidates.length===0)return!1;const t=(e=r.candidates[0])===null||e===void 0?void 0:e.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const n of t.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB="SILENT_ERROR";class Fle{constructor(e,t,n,i={}){this.model=t,this.params=n,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,n!=null&&n.history&&($le(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var n,i,s,a,o,l;await this._sendPromise;const c=Uy(e),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},f=Object.assign(Object.assign({},this._requestOptions),t);let m;return this._sendPromise=this._sendPromise.then(()=>jW(this._apiKey,this.model,d,f)).then(g=>{var x;if(RB(g.response)){this._history.push(c);const y=Object.assign({parts:[],role:"model"},(x=g.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(y)}else{const y=Rc(g.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}m=g}).catch(g=>{throw this._sendPromise=Promise.resolve(),g}),await this._sendPromise,m}async sendMessageStream(e,t={}){var n,i,s,a,o,l;await this._sendPromise;const c=Uy(e),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},f=Object.assign(Object.assign({},this._requestOptions),t),m=RW(this._apiKey,this.model,d,f);return this._sendPromise=this._sendPromise.then(()=>m).catch(g=>{throw new Error(jB)}).then(g=>g.response).then(g=>{if(RB(g)){this._history.push(c);const x=Object.assign({},g.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Rc(g);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(g=>{g.message!==jB&&console.error(g)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ble(r,e,t,n){return(await kw(e,rf.COUNT_TOKENS,r,!1,JSON.stringify(t),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ule(r,e,t,n){return(await kw(e,rf.EMBED_CONTENT,r,!1,JSON.stringify(t),n)).json()}async function zle(r,e,t,n){const i=t.requests.map(a=>Object.assign(Object.assign({},a),{model:e}));return(await kw(e,rf.BATCH_EMBED_CONTENTS,r,!1,JSON.stringify({requests:i}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,t,n={}){this.apiKey=e,this._requestOptions=n,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=IW(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var n;const i=OB(e),s=Object.assign(Object.assign({},this._requestOptions),t);return jW(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},i),s)}async generateContentStream(e,t={}){var n;const i=OB(e),s=Object.assign(Object.assign({},this._requestOptions),t);return RW(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},i),s)}startChat(e){var t;return new Fle(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const n=Mle(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return Ble(this.apiKey,this.model,n,i)}async embedContent(e,t={}){const n=Dle(e),i=Object.assign(Object.assign({},this._requestOptions),t);return Ule(this.apiKey,this.model,n,i)}async batchEmbedContents(e,t={}){const n=Object.assign(Object.assign({},this._requestOptions),t);return zle(this.apiKey,this.model,e,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qle{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new Qn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new IB(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,n){if(!e.name)throw new Pu("Cached content must contain a `name` field.");if(!e.model)throw new Pu("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const a of i)if(t!=null&&t[a]&&e[a]&&(t==null?void 0:t[a])!==e[a]){if(a==="model"){const o=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(o===l)continue}throw new Pu(`Different value for "${a}" specified in modelParams (${t[a]}) and cachedContent (${e[a]})`)}const s=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new IB(this.apiKey,s,n)}}const Hle=void 0;console.error("Missing VITE_GEMINI_API_KEY in .env file");const Wle=new qle(Hle),MW=Wle.getGenerativeModel({model:"gemini-1.5-flash"}),MB=async r=>{try{const e=`
      You are an expert tutor. Analyze the following text and generate 5 multiple-choice questions to test understanding of the key concepts.
      
      Text content:
      "${r.substring(0,1e4)}..." (truncated for length)

      Return ONLY a JSON array of objects. Do not include markdown formatting (like \`\`\`json).
      Each object must have:
      - id: number (1-5)
      - question: string
      - options: array of 4 strings
      - correctAnswer: number (0-3, index of the correct option)
      - explanation: string (brief explanation of the answer)
    `,s=(await(await MW.generateContent(e)).response).text().replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(s)}catch(e){return console.error("Error generating questions:",e),[{id:1,question:"What is the primary focus of the uploaded content?",options:["Concept A","Concept B","Concept C","Concept D"],correctAnswer:0,explanation:"Unable to generate specific questions due to API error."}]}},Vle=async(r,e,t)=>{try{const n=r.reduce((m,g,x)=>m+(g.correctAnswer===e[x]?1:0),0),i=e.map((m,g)=>m!==r[g].correctAnswer?g:-1).filter(m=>m!==-1);if(i.length===0)return{weakTopics:[],suggestions:["Great job! You mastered this topic."],score:n};const s=i.map(m=>r[m]),a=`
      The student answered the following questions incorrectly based on the text provided earlier.
      
      Incorrect Questions:
      ${JSON.stringify(s.map(m=>m.question))}
      
      Analyze these mistakes and identify:
      1. Which specific topics or concepts are weak?
      2. Provide 3 specific actionable study suggestions.
      
      Return ONLY a JSON object with:
      - weakTopics: string[]
      - suggestions: string[]
    `,d=(await(await MW.generateContent(a)).response).text().replace(/```json/g,"").replace(/```/g,"").trim();return{...JSON.parse(d),score:n}}catch(n){return console.error("Error analyzing results:",n),{weakTopics:["General Understanding"],suggestions:["Review the material again.","Focus on key terms."],score:r.reduce((i,s,a)=>i+(s.correctAnswer===e[a]?1:0),0)}}},li=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),wR=[.001,0,0,.001,0,0],jC=1.35,os={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Mc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},zy="pdfjs_internal_editor_",Xe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},lt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Gle={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},xR={TRIANGLES:1,LATTICE:2},Vr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},H_={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Mr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},op={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},OA={ERRORS:0,WARNINGS:1,INFOS:5},qy={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Iv={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},Kle={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let NA=OA.WARNINGS;function Yle(r){Number.isInteger(r)&&(NA=r)}function Xle(){return NA}function RA(r){NA>=OA.INFOS&&console.info(`Info: ${r}`)}function Ve(r){NA>=OA.WARNINGS&&console.warn(`Warning: ${r}`)}function zt(r){throw new Error(r)}function ct(r,e){r||zt(e)}function Jle(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function DW(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const i=r.match(/\./g);(i==null?void 0:i.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=rce(r)}catch{}}const n=e?URL.parse(r,e):URL.parse(r);return Jle(n)?n:null}function LW(r,e,t=!1){const n=URL.parse(r);return n?(n.hash=e,n.href):t&&DW(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ge(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const hf=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class DB extends hf{constructor(e,t){super(e,"PasswordException"),this.code=t}}class IC extends hf{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class _R extends hf{constructor(e){super(e,"InvalidPDFException")}}class U1 extends hf{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class Qle extends hf{constructor(e){super(e,"FormatError")}}class Iu extends hf{constructor(e){super(e,"AbortException")}}function $W(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&zt("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=r.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function Cw(r){typeof r!="string"&&zt("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function Zle(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function ece(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function tce(){try{return new Function(""),!0}catch{return!1}}class en{static get isLittleEndian(){return Ge(this,"isLittleEndian",ece())}static get isEvalSupported(){return Ge(this,"isEvalSupported",tce())}static get isOffscreenCanvasSupported(){return Ge(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ge(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Ge(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Ge(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Ge(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Ge(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const MC=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var zl,W_,SR;class Se{static makeHexColor(e,t,n){return`#${MC[e]}${MC[t]}${MC[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const i=e[n],s=e[n+1];e[n]=i*t[0]+s*t[2]+t[4],e[n+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],c=t[5];for(let d=0;d<6;d+=2){const f=e[n+d],m=e[n+d+1];e[n+d]=f*i+m*a+l,e[n+d+1]=f*s+m*o+c}}static applyInverseTransform(e,t){const n=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,n){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],c=t[5],d=e[0],f=e[1],m=e[2],g=e[3];let x=i*d+l,y=x,b=i*m+l,_=b,E=o*f+c,A=E,C=o*g+c,k=C;if(s!==0||a!==0){const P=s*d,j=s*m,M=a*f,$=a*g;x+=M,_+=M,b+=$,y+=$,E+=P,k+=P,C+=j,A+=j}n[0]=Math.min(n[0],x,b,y,_),n[1]=Math.min(n[1],E,C,A,k),n[2]=Math.max(n[2],x,b,y,_),n[3]=Math.max(n[3],E,C,A,k)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],s=e[2],a=e[3],o=n**2+i**2,l=n*s+i*a,c=s**2+a**2,d=(o+c)/2,f=Math.sqrt(d**2-(o*c-l**2));t[0]=Math.sqrt(d+f||1),t[1]=Math.sqrt(d-f||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[n,s,i,a]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,n,i,s,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],t,l),D(this,zl,SR).call(this,e,n,s,o,t,i,a,l,3*(-e+3*(n-s)+o),6*(e-2*n+s),3*(n-e),c),D(this,zl,SR).call(this,e,n,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),c)}}zl=new WeakSet,W_=function(e,t,n,i,s,a,o,l,c,d){if(c<=0||c>=1)return;const f=1-c,m=c*c,g=m*c,x=f*(f*(f*e+3*c*t)+3*m*n)+g*i,y=f*(f*(f*s+3*c*a)+3*m*o)+g*l;d[0]=Math.min(d[0],x),d[1]=Math.min(d[1],y),d[2]=Math.max(d[2],x),d[3]=Math.max(d[3],y)},SR=function(e,t,n,i,s,a,o,l,c,d,f,m){if(Math.abs(c)<1e-12){Math.abs(d)>=1e-12&&D(this,zl,W_).call(this,e,t,n,i,s,a,o,l,-f/d,m);return}const g=d**2-4*f*c;if(g<0)return;const x=Math.sqrt(g),y=2*c;D(this,zl,W_).call(this,e,t,n,i,s,a,o,l,(-d+x)/y,m),D(this,zl,W_).call(this,e,t,n,i,s,a,o,l,(-d-x)/y,m)},I(Se,zl);function rce(r){return decodeURIComponent(escape(r))}let DC=null,LB=null;function nce(r){return DC||(DC=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,LB=new Map([["","t"]])),r.replaceAll(DC,(e,t,n)=>t?t.normalize("NFKC"):LB.get(n))}function FW(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),$W(r)}const gp="pdfjs_internal_id_";function ice(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,i,...s]=t;if(!r(n)&&!Number.isInteger(n)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function ci(r,e,t){return Math.min(Math.max(r,e),t)}function BW(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa($W(r))}function sce(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):Cw(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});class Hy{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Hy.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const c of s.children)i(c)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class UW{static setupStorage(e,t,n,i,s){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){var f,m;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const g=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=g}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const g=document.createTextNode(i.value);a.append(g),o&&Hy.shouldBuildText(i.name)&&c.push(g)}return{textDivs:c}}const d=[[i,-1,a]];for(;d.length>0;){const[g,x,y]=d.at(-1);if(x+1===g.children.length){d.pop();continue}const b=g.children[++d.at(-1)[1]];if(b===null)continue;const{name:_}=b;if(_==="#text"){const A=document.createTextNode(b.value);c.push(A),y.append(A);continue}const E=(f=b==null?void 0:b.attributes)!=null&&f.xmlns?document.createElementNS(b.attributes.xmlns,_):document.createElement(_);if(y.append(E),b.attributes&&this.setAttributes({html:E,element:b,storage:t,intent:s,linkService:n}),((m=b.children)==null?void 0:m.length)>0)d.push([b,-1,E]);else if(b.value){const A=document.createTextNode(b.value);o&&Hy.shouldBuildText(_)&&c.push(A),E.append(A)}}for(const g of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Go="http://www.w3.org/2000/svg",Ad=class Ad{};he(Ad,"CSS",96),he(Ad,"PDF",72),he(Ad,"PDF_TO_CSS_UNITS",Ad.CSS/Ad.PDF);let Mu=Ad;async function Tw(r,e="text"){if(Xv(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class Pw{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=a,n*=t;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let d,f,m,g;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,f=0,m=0,g=1;break;case 90:d=0,f=1,m=1,g=0;break;case 270:d=0,f=-1,m=-1,g=0;break;case 0:d=1,f=0,m=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(m=-m,g=-g);let x,y,b,_;d===0?(x=Math.abs(c-e[1])*n+s,y=Math.abs(l-e[0])*n+a,b=(e[3]-e[1])*n,_=(e[2]-e[0])*n):(x=Math.abs(l-e[0])*n+s,y=Math.abs(c-e[1])*n+a,b=(e[2]-e[0])*n,_=(e[3]-e[1])*n),this.transform=[d*n,f*n,m*n,g*n,x-d*n*l-m*n*c,y-f*n*l-g*n*c],this.width=b,this.height=_}get rawDims(){const e=this.viewBox;return Ge(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Pw({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const n=[e,t];return Se.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Se.applyTransform(t,this.transform);const n=[e[2],e[3]];return Se.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Se.applyInverseTransform(n,this.transform),n}}class VI extends hf{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function jA(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function GI(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function ace(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function oce(r,e="document.pdf"){if(typeof r!="string")return e;if(jA(r))return Ve('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(s.test(a))return i(a);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const c of o)if(s.test(c))return i(c);const l=Array.from(n.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(n.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(l)return i(l[0])}return e}class $B{constructor(){he(this,"started",Object.create(null));he(this,"times",[])}time(e){e in this.started&&Ve(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ve(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Xv(r,e){const t=e?URL.parse(r,e):URL.parse(r);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Xs(r){r.preventDefault()}function Er(r){r.preventDefault(),r.stopPropagation()}function lce(r){console.log("Deprecated API usage: "+r)}var T0;class z1{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;p(this,T0)||O(this,T0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=p(this,T0).exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,c==="-"?(a+=d,o+=f):c==="+"&&(a-=d,o-=f),new Date(Date.UTC(n,i,s,a,o,l))}}T0=new WeakMap,I(z1,T0);function cce(r,{scale:e=1,rotation:t=0}){const{width:n,height:i}=r.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new Pw({viewBox:s,userUnit:1,scale:e,rotation:t})}function Ow(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ve(`Not a valid color format: "${r}"`),[0,0,0])}function uce(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,Ow(n))}e.remove()}function fr(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform();return[e,t,n,i,s,a]}function qa(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform().invertSelf();return[e,t,n,i,s,a]}function nf(r,e,t=!1,n=!0){if(e instanceof Pw){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=r,o=en.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,f=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(a.width=d,a.height=f):(a.width=f,a.height=d)}n&&r.setAttribute("data-main-rotation",e.rotation)}class ko{constructor(){const{pixelRatio:e}=ko;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,s=-1){let a=1/0,o=1/0,l=1/0;n=ko.capPixels(n,s),n>0&&(a=Math.sqrt(n/(e*t))),i!==-1&&(o=i/e,l=i/t);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const AR=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class dce{static get isDarkMode(){var e;return Ge(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class hce{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),Ge(this,"commentForegroundColor",Ow(n))}}function fce(r,e,t,n){n=Math.min(Math.max(n??1,0),1);const i=255*(1-n);return r=Math.round(r*n+i),e=Math.round(e*n+i),t=Math.round(t*n+i),[r,e,t]}function FB(r,e){const t=r[0]/255,n=r[1]/255,i=r[2]/255,s=Math.max(t,n,i),a=Math.min(t,n,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((n-i)/l+(n<i?6:0))*60;break;case n:e[0]=((i-t)/l+2)*60;break;case i:e[0]=((t-n)/l+4)*60;break}}e[2]=o}function ER(r,e){const t=r[0],n=r[1],i=r[2],s=(1-Math.abs(2*i-1))*n,a=s*(1-Math.abs(t/60%2-1)),o=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function BB(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function UB(r,e,t){ER(r,t),t.map(BB);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];ER(e,t),t.map(BB);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}const zB=new Map;function pce(r,e){const t=r[0]+r[1]*256+r[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=zB.get(t);if(n)return n;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);FB(r,a);const o=i.subarray(6,9);FB(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),UB(a,o,s)<c){let d,f;l?(d=a[2],f=1):(d=0,f=a[2]);const m=.005;for(;f-d>m;){const g=a[2]=(d+f)/2;l===UB(a,o,s)<c?d=g:f=g}a[2]=l?f:d}return ER(a,s),n=Se.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),zB.set(t,n),n}function zW({html:r,dir:e,className:t},n){const i=document.createDocumentFragment();if(typeof r=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=r.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const c=a[o];s.append(document.createTextNode(c)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else UW.render({xfaHtml:r,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",t),n.append(i)}function qW(r){const e=new Path2D;if(!r)return e;for(let t=0,n=r.length;t<n;)switch(r[t++]){case Iv.moveTo:e.moveTo(r[t++],r[t++]);break;case Iv.lineTo:e.lineTo(r[t++],r[t++]);break;case Iv.curveTo:e.bezierCurveTo(r[t++],r[t++],r[t++],r[t++],r[t++],r[t++]);break;case Iv.quadraticCurveTo:e.quadraticCurveTo(r[t++],r[t++],r[t++],r[t++]);break;case Iv.closePath:e.closePath();break;default:Ve(`Unrecognized drawing path operator: ${r[t-1]}`);break}return e}var Lc,$c,js,Is,P0,Fc,jp,Ip,O0,JS,HW,Rn,WW,VW,lp,Jv;const Jo=class Jo{constructor(e){I(this,Rn);I(this,Lc,null);I(this,$c,null);I(this,js);I(this,Is,null);I(this,P0,null);I(this,Fc,null);I(this,jp,null);I(this,Ip,null);O(this,js,e),p(Jo,O0)||O(Jo,O0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=O(this,Lc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=p(this,js)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Xs,{signal:t}),e.addEventListener("pointerdown",D(Jo,JS,HW),{signal:t}));const n=O(this,Is,document.createElement("div"));n.className="buttons",e.append(n);const i=p(this,js).toolbarPosition;if(i){const{style:s}=e,a=p(this,js)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return p(this,Lc)}hide(){var e;p(this,Lc).classList.add("hidden"),(e=p(this,$c))==null||e.hideDropdown()}show(){var e,t;p(this,Lc).classList.remove("hidden"),(e=p(this,P0))==null||e.shown(),(t=p(this,Fc))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=p(this,js),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",p(Jo,O0)[e]),D(this,Rn,lp).call(this,n)&&n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),p(this,Is).append(n)}async addAltText(e){const t=await e.render();D(this,Rn,lp).call(this,t),p(this,Is).append(t,p(this,Rn,Jv)),O(this,P0,e)}addComment(e,t=null){if(p(this,Fc))return;const n=e.renderForToolbar();if(!n)return;D(this,Rn,lp).call(this,n);const i=O(this,jp,p(this,Rn,Jv));t?(p(this,Is).insertBefore(n,t),p(this,Is).insertBefore(i,t)):p(this,Is).append(n,i),O(this,Fc,e),e.toolbar=this}addColorPicker(e){if(p(this,$c))return;O(this,$c,e);const t=e.renderButton();D(this,Rn,lp).call(this,t),p(this,Is).append(t,p(this,Rn,Jv))}async addEditSignatureButton(e){const t=O(this,Ip,await e.renderEditButton(p(this,js)));D(this,Rn,lp).call(this,t),p(this,Is).append(t,p(this,Rn,Jv))}removeButton(e){var t,n;switch(e){case"comment":(t=p(this,Fc))==null||t.removeToolbarCommentButton(),O(this,Fc,null),(n=p(this,jp))==null||n.remove(),O(this,jp,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,n){if(!t&&e==="comment")return;const i=p(this,Is).querySelector(n);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){p(this,Ip)&&(p(this,Ip).title=e)}remove(){var e;p(this,Lc).remove(),(e=p(this,$c))==null||e.destroy(),O(this,$c,null)}};Lc=new WeakMap,$c=new WeakMap,js=new WeakMap,Is=new WeakMap,P0=new WeakMap,Fc=new WeakMap,jp=new WeakMap,Ip=new WeakMap,O0=new WeakMap,JS=new WeakSet,HW=function(e){e.stopPropagation()},Rn=new WeakSet,WW=function(e){p(this,js)._focusEventsAllowed=!1,Er(e)},VW=function(e){p(this,js)._focusEventsAllowed=!0,Er(e)},lp=function(e){const t=p(this,js)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",D(this,Rn,WW).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",D(this,Rn,VW).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Xs,{signal:t}),!0)},Jv=function(){const e=document.createElement("div");return e.className="divider",e},I(Jo,JS),I(Jo,O0,null);let kR=Jo;var N0,Md,el,Jl,GW,KW,CR;class mce{constructor(e){I(this,Jl);I(this,N0,null);I(this,Md,null);I(this,el);O(this,el,e)}show(e,t,n){const[i,s]=D(this,Jl,KW).call(this,t,n),{style:a}=p(this,Md)||O(this,Md,D(this,Jl,GW).call(this));e.append(p(this,Md)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){p(this,Md).remove()}}N0=new WeakMap,Md=new WeakMap,el=new WeakMap,Jl=new WeakSet,GW=function(){const e=O(this,Md,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=p(this,el)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Xs,{signal:t});const n=O(this,N0,document.createElement("div"));return n.className="buttons",e.append(n),p(this,el).hasCommentManager()&&D(this,Jl,CR).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{p(this,el).commentSelection("floating_button")}),D(this,Jl,CR).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{p(this,el).highlightSelection("floating_button")}),e},KW=function(e,t){let n=0,i=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const o=s.x+(t?s.width:0);if(a>n){i=o,n=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]},CR=function(e,t,n,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",n);const o=p(this,el)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",Xs,{signal:o}),s.addEventListener("click",i,{signal:o})),p(this,N0).append(s)};function YW(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}var Dd,Ld,Mp,$d;const Nt=class Nt{static initializeAndAddPointerId(e){(p(Nt,Ld)||O(Nt,Ld,new Set)).add(e)}static setPointer(e,t){p(Nt,Dd)||O(Nt,Dd,t),p(Nt,$d)??O(Nt,$d,e)}static setTimeStamp(e){O(Nt,Mp,e)}static isSamePointerId(e){return p(Nt,Dd)===e}static isSamePointerIdOrRemove(e){var t;return p(Nt,Dd)===e?!0:((t=p(Nt,Ld))==null||t.delete(e),!1)}static isSamePointerType(e){return p(Nt,$d)===e}static isInitializedAndDifferentPointerType(e){return p(Nt,$d)!==null&&!Nt.isSamePointerType(e)}static isSameTimeStamp(e){return p(Nt,Mp)===e}static isUsingMultiplePointers(){var e;return((e=p(Nt,Ld))==null?void 0:e.size)>=1}static clearPointerType(){O(Nt,$d,null)}static clearPointerIds(){O(Nt,Dd,NaN),O(Nt,Ld,null)}static clearTimeStamp(){O(Nt,Mp,NaN)}};Dd=new WeakMap,Ld=new WeakMap,Mp=new WeakMap,$d=new WeakMap,I(Nt,Dd,NaN),I(Nt,Ld,null),I(Nt,Mp,NaN),I(Nt,$d,null);let zn=Nt;var QS;class gce{constructor(){I(this,QS,0)}get id(){return`${zy}${Hr(this,QS)._++}`}}QS=new WeakMap;var Dp,R0,qn,Lp,V_;const uD=class uD{constructor(){I(this,Lp);I(this,Dp,FW());I(this,R0,0);I(this,qn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ge(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return D(this,Lp,V_).call(this,`${t}_${n}_${i}_${s}`,e)}async getFromUrl(e){return D(this,Lp,V_).call(this,e,e)}async getFromBlob(e,t){const n=await t;return D(this,Lp,V_).call(this,e,n)}async getFromId(e){p(this,qn)||O(this,qn,new Map);const t=p(this,qn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){p(this,qn)||O(this,qn,new Map);let n=p(this,qn).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${p(this,Dp)}_${Hr(this,R0)._++}`,refCounter:1,isSvg:!1},p(this,qn).set(e,n),p(this,qn).set(n.id,n),n}getSvgUrl(e){const t=p(this,qn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;p(this,qn)||O(this,qn,new Map);const t=p(this,qn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=s.convertToBlob()}(i=n.close)==null||i.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${p(this,Dp)}_`)}};Dp=new WeakMap,R0=new WeakMap,qn=new WeakMap,Lp=new WeakSet,V_=async function(e,t){p(this,qn)||O(this,qn,new Map);let n=p(this,qn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${p(this,Dp)}_${Hr(this,R0)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await Tw(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=uD._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,d)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,c()},a.onload=async()=>{const f=n.svgUrl=a.result;o.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){Ve(i),n=null}return p(this,qn).set(e,n),n&&p(this,qn).set(n.id,n),n};let TR=uD;var Or,Bc,j0,hr;class vce{constructor(e=128){I(this,Or,[]);I(this,Bc,!1);I(this,j0);I(this,hr,-1);O(this,j0,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),p(this,Bc))return;const l={cmd:e,undo:t,post:n,type:s};if(p(this,hr)===-1){p(this,Or).length>0&&(p(this,Or).length=0),O(this,hr,0),p(this,Or).push(l);return}if(a&&p(this,Or)[p(this,hr)].type===s){o&&(l.undo=p(this,Or)[p(this,hr)].undo),p(this,Or)[p(this,hr)]=l;return}const c=p(this,hr)+1;c===p(this,j0)?p(this,Or).splice(0,1):(O(this,hr,c),c<p(this,Or).length&&p(this,Or).splice(c)),p(this,Or).push(l)}undo(){if(p(this,hr)===-1)return;O(this,Bc,!0);const{undo:e,post:t}=p(this,Or)[p(this,hr)];e(),t==null||t(),O(this,Bc,!1),O(this,hr,p(this,hr)-1)}redo(){if(p(this,hr)<p(this,Or).length-1){O(this,hr,p(this,hr)+1),O(this,Bc,!0);const{cmd:e,post:t}=p(this,Or)[p(this,hr)];e(),t==null||t(),O(this,Bc,!1)}}hasSomethingToUndo(){return p(this,hr)!==-1}hasSomethingToRedo(){return p(this,hr)<p(this,Or).length-1}cleanType(e){if(p(this,hr)!==-1){for(let t=p(this,hr);t>=0;t--)if(p(this,Or)[t].type!==e){p(this,Or).splice(t+1,p(this,hr)-t),O(this,hr,t);return}p(this,Or).length=0,O(this,hr,-1)}}destroy(){O(this,Or,null)}}Or=new WeakMap,Bc=new WeakMap,j0=new WeakMap,hr=new WeakMap;var ZS,XW;class Nw{constructor(e){I(this,ZS);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=en.platform;for(const[n,i,s={}]of e)for(const a of n){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(D(this,ZS,XW).call(this,t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...a,t)(),s||Er(t))}}ZS=new WeakSet,XW=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const eA=class eA{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return uce(e),Ge(this,"_colors",e)}convert(e){const t=Ow(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((s,a)=>s===t[a]))return eA._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Se.makeHexColor(...t):e}};he(eA,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let PR=eA;var $p,zi,Fp,br,Xr,Bp,Ms,Up,Ds,Hn,Uc,zc,zp,qc,Ka,Ls,Fd,I0,M0,qp,D0,Ya,Hc,Hp,Wc,Xa,tA,Vc,Wp,L0,Gc,Bd,Vp,Kc,$0,Dr,Pt,tl,Yc,Xc,F0,Gp,B0,Jc,Ja,rl,U0,z0,$s,_e,G_,OR,JW,QW,Qv,ZW,eV,tV,NR,rV,nV,iV,sV,ni,Ko,aV,oV,RR,lV,Zv,jR;const xp=class xp{constructor(e,t,n,i,s,a,o,l,c,d,f,m,g,x,y,b){I(this,_e);I(this,$p,new AbortController);I(this,zi,null);I(this,Fp,null);I(this,br,new Map);I(this,Xr,new Map);I(this,Bp,null);I(this,Ms,null);I(this,Up,null);I(this,Ds,new vce);I(this,Hn,null);I(this,Uc,null);I(this,zc,null);I(this,zp,0);I(this,qc,new Set);I(this,Ka,null);I(this,Ls,null);I(this,Fd,new Set);he(this,"_editorUndoBar",null);I(this,I0,!1);I(this,M0,!1);I(this,qp,!1);I(this,D0,null);I(this,Ya,null);I(this,Hc,null);I(this,Hp,null);I(this,Wc,!1);I(this,Xa,null);I(this,tA,new gce);I(this,Vc,!1);I(this,Wp,!1);I(this,L0,!1);I(this,Gc,null);I(this,Bd,null);I(this,Vp,null);I(this,Kc,null);I(this,$0,null);I(this,Dr,Xe.NONE);I(this,Pt,new Set);I(this,tl,null);I(this,Yc,null);I(this,Xc,null);I(this,F0,null);I(this,Gp,null);I(this,B0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});I(this,Jc,[0,0]);I(this,Ja,null);I(this,rl,null);I(this,U0,null);I(this,z0,null);I(this,$s,null);const _=this._signal=p(this,$p).signal;O(this,rl,e),O(this,U0,t),O(this,z0,n),O(this,Bp,i),O(this,Hn,s),O(this,Yc,a),O(this,Gp,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:_}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:_}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:_}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:_}),o._on("setpreference",this.onSetPreference.bind(this),{signal:_}),o._on("switchannotationeditorparams",E=>this.updateParams(E.type,E.value),{signal:_}),window.addEventListener("pointerdown",()=>{O(this,Wp,!0)},{capture:!0,signal:_}),window.addEventListener("pointerup",()=>{O(this,Wp,!1)},{capture:!0,signal:_}),D(this,_e,ZW).call(this),D(this,_e,sV).call(this),D(this,_e,NR).call(this),O(this,Ms,l.annotationStorage),O(this,D0,l.filterFactory),O(this,Xc,c),O(this,Hp,d||null),O(this,I0,f),O(this,M0,m),O(this,qp,g),O(this,$0,x||null),this.viewParameters={realScale:Mu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=b!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=xp.prototype,t=a=>p(a,rl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ge(this,"_keyboardManager",new Nw([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&p(a,rl).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&p(a,rl).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,n,i,s,a,o,l,c;(e=p(this,$s))==null||e.resolve(),O(this,$s,null),(t=p(this,$p))==null||t.abort(),O(this,$p,null),this._signal=null;for(const d of p(this,Xr).values())d.destroy();p(this,Xr).clear(),p(this,br).clear(),p(this,Fd).clear(),(n=p(this,Kc))==null||n.clear(),O(this,zi,null),p(this,Pt).clear(),p(this,Ds).destroy(),(i=p(this,Bp))==null||i.destroy(),(s=p(this,Hn))==null||s.destroy(),(a=p(this,Yc))==null||a.destroy(),(o=p(this,Xa))==null||o.hide(),O(this,Xa,null),(l=p(this,Vp))==null||l.destroy(),O(this,Vp,null),O(this,Fp,null),p(this,Ya)&&(clearTimeout(p(this,Ya)),O(this,Ya,null)),p(this,Ja)&&(clearTimeout(p(this,Ja)),O(this,Ja,null)),(c=this._editorUndoBar)==null||c.destroy(),O(this,Gp,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return p(this,$0)}get useNewAltTextFlow(){return p(this,M0)}get useNewAltTextWhenAddingImage(){return p(this,qp)}get hcmFilter(){return Ge(this,"hcmFilter",p(this,Xc)?p(this,D0).addHCMFilter(p(this,Xc).foreground,p(this,Xc).background):"none")}get direction(){return Ge(this,"direction",getComputedStyle(p(this,rl)).direction)}get _highlightColors(){return Ge(this,"_highlightColors",p(this,Hp)?new Map(p(this,Hp).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ge(this,"highlightColors",null);const t=new Map,n=!!p(this,Xc);for(const[i,s]of e){const a=i.endsWith("_HCM");if(n&&a){t.set(i.replace("_HCM",""),s);continue}!n&&!a&&t.set(i,s)}return Ge(this,"highlightColors",t)}get highlightColorNames(){return Ge(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),O(this,zc,e)}setMainHighlightColorPicker(e){O(this,Vp,e)}editAltText(e,t=!1){var n;(n=p(this,Bp))==null||n.editAltText(this,e,t)}hasCommentManager(){return!!p(this,Hn)}editComment(e,t,n,i){var s;(s=p(this,Hn))==null||s.showDialog(this,e,t,n,i)}selectComment(e,t){const n=p(this,Xr).get(e),i=n==null?void 0:n.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=p(this,Hn))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=p(this,Hn))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=p(this,Hn))==null||t.removeComments([e.uid])}toggleComment(e,t,n=void 0){var i;(i=p(this,Hn))==null||i.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){var n;return e&&((n=p(this,Hn))==null?void 0:n.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=p(this,Hn))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(p(this,Xr).has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await n}getSignature(e){var t;(t=p(this,Yc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return p(this,Yc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":O(this,qp,t);break}}onPageChanging({pageNumber:e}){O(this,zp,e-1)}focusMainContainer(){p(this,rl).focus()}findParent(e,t){for(const n of p(this,Xr).values()){const{x:i,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return n}return null}disableUserSelect(e=!1){p(this,U0).classList.toggle("noUserSelect",e)}addShouldRescale(e){p(this,Fd).add(e)}removeShouldRescale(e){p(this,Fd).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Mu.PDF_TO_CSS_UNITS;for(const n of p(this,Fd))n.onScaleChanging();(t=p(this,zc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=n,l=n.toString(),d=D(this,_e,G_).call(this,n).closest(".textLayer"),f=this.getSelectionBoxes(d);if(!f)return;n.empty();const m=D(this,_e,OR).call(this,d),g=p(this,Dr)===Xe.NONE,x=()=>{const y=m==null?void 0:m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});g&&this.showAllEditors("highlight",!0,!0),t&&(y==null||y.editComment())};if(g){this.switchToMode(Xe.HIGHLIGHT,x);return}x()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!p(this,Ms))return null;const t=`${zy}${e}`,n=p(this,Ms).getRawValue(t);return n&&p(this,Ms).remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&p(this,Ms)&&!p(this,Ms).has(e.id)&&p(this,Ms).setValue(e.id,e)}a11yAlert(e,t=null){const n=p(this,z0);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,p(this,Wc)&&(O(this,Wc,!1),D(this,_e,Qv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of p(this,Pt))if(t.div.contains(e)){O(this,Bd,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!p(this,Bd))return;const[e,t]=p(this,Bd);O(this,Bd,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){D(this,_e,NR).call(this),this.setEditingState(!0)}removeEditListeners(){D(this,_e,rV).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of p(this,Ls))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of p(this,Ls))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=p(this,zi))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of p(this,Pt)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of p(this,Ls))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Ve(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of n){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)D(this,_e,RR).call(this,l);D(this,_e,jR).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Ve(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),p(this,Dr)!==Xe.NONE&&!this.isEditorHandlingKeyboard&&xp._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,p(this,Wc)&&(O(this,Wc,!1),D(this,_e,Qv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(D(this,_e,eV).call(this),D(this,_e,nV).call(this),D(this,_e,ni).call(this,{isEditing:p(this,Dr)!==Xe.NONE,isEmpty:D(this,_e,Zv).call(this),hasSomethingToUndo:p(this,Ds).hasSomethingToUndo(),hasSomethingToRedo:p(this,Ds).hasSomethingToRedo(),hasSelectedEditor:!1})):(D(this,_e,tV).call(this),D(this,_e,iV).call(this),D(this,_e,ni).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!p(this,Ls)){O(this,Ls,e);for(const t of p(this,Ls))D(this,_e,Ko).call(this,t.defaultPropertiesToUpdate)}}getId(){return p(this,tA).id}get currentLayer(){return p(this,Xr).get(p(this,zp))}getLayer(e){return p(this,Xr).get(e)}get currentPageIndex(){return p(this,zp)}addLayer(e){p(this,Xr).set(e.pageIndex,e),p(this,Vc)?e.enable():e.disable()}removeLayer(e){p(this,Xr).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1,s=!1,a=!1){var o,l,c,d,f,m;if(p(this,Dr)!==e&&!(p(this,$s)&&(await p(this,$s).promise,!p(this,$s)))){if(O(this,$s,Promise.withResolvers()),(o=p(this,zc))==null||o.commitOrRemove(),p(this,Dr)===Xe.POPUP&&((l=p(this,Hn))==null||l.hideSidebar()),(c=p(this,Hn))==null||c.destroyPopup(),O(this,Dr,e),e===Xe.NONE){this.setEditingState(!1),D(this,_e,oV).call(this);for(const g of p(this,br).values())g.hideStandaloneCommentButton();(d=this._editorUndoBar)==null||d.hide(),this.toggleComment(null),p(this,$s).resolve();return}for(const g of p(this,br).values())g.addStandaloneCommentButton();e===Xe.SIGNATURE&&await((f=p(this,Yc))==null?void 0:f.loadSignatures()),n&&zn.clearPointerType(),this.setEditingState(!0),await D(this,_e,aV).call(this),this.unselectAll();for(const g of p(this,Xr).values())g.updateMode(e);if(e===Xe.POPUP){p(this,Fp)||O(this,Fp,await p(this,Gp).getAnnotationsByType(new Set(p(this,Ls).map(y=>y._editorType))));const g=new Set,x=[];for(const y of p(this,br).values()){const{annotationElementId:b,hasComment:_,deleted:E}=y;b&&g.add(b),_&&!E&&x.push(y.getData())}for(const y of p(this,Fp)){const{id:b,popupRef:_,contentsObj:E}=y;_&&(E!=null&&E.str)&&!g.has(b)&&!p(this,qc).has(b)&&x.push(y)}(m=p(this,Hn))==null||m.showSidebar(x)}if(!t){i&&this.addNewEditorFromKeyboard(),p(this,$s).resolve();return}for(const g of p(this,br).values())g.uid===t?(this.setSelected(g),a?g.editComment():s?g.enterInEditMode():g.focus()):g.unselect();p(this,$s).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==p(this,Dr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(p(this,Ls)){switch(e){case lt.CREATE:this.currentLayer.addNewEditor(t);return;case lt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(p(this,F0)||O(this,F0,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of p(this,Pt))n.updateParams(e,t);else for(const n of p(this,Ls))n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var s;for(const a of p(this,br).values())a.editorType===e&&a.show(t);(((s=p(this,F0))==null?void 0:s.get(lt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&D(this,_e,Ko).call(this,[[lt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(p(this,L0)!==e){O(this,L0,e);for(const t of p(this,Xr).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of p(this,br).values())t.pageIndex===e&&(yield t)}getEditor(e){return p(this,br).get(e)}addEditor(e){p(this,br).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(p(this,Ya)&&clearTimeout(p(this,Ya)),O(this,Ya,setTimeout(()=>{this.focusMainContainer(),O(this,Ya,null)},0))),p(this,br).delete(e.id),e.annotationElementId&&((t=p(this,Kc))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!p(this,qc).has(e.annotationElementId))&&((n=p(this,Ms))==null||n.remove(e.id))}addDeletedAnnotationElement(e){p(this,qc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return p(this,qc).has(e)}removeDeletedAnnotationElement(e){p(this,qc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){p(this,zi)!==e&&(O(this,zi,e),e&&D(this,_e,Ko).call(this,e.propertiesToUpdate))}updateUI(e){p(this,_e,lV)===e&&D(this,_e,Ko).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){D(this,_e,Ko).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(p(this,Pt).has(e)){p(this,Pt).delete(e),e.unselect(),D(this,_e,ni).call(this,{hasSelectedEditor:this.hasSelection});return}p(this,Pt).add(e),e.select(),D(this,_e,Ko).call(this,e.propertiesToUpdate),D(this,_e,ni).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=p(this,zc))==null||t.commitOrRemove();for(const n of p(this,Pt))n!==e&&n.unselect();p(this,Pt).clear(),p(this,Pt).add(e),e.select(),D(this,_e,Ko).call(this,e.propertiesToUpdate),D(this,_e,ni).call(this,{hasSelectedEditor:!0})}isSelected(e){return p(this,Pt).has(e)}get firstSelectedEditor(){return p(this,Pt).values().next().value}unselect(e){e.unselect(),p(this,Pt).delete(e),D(this,_e,ni).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return p(this,Pt).size!==0}get isEnterHandled(){return p(this,Pt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;p(this,Ds).undo(),D(this,_e,ni).call(this,{hasSomethingToUndo:p(this,Ds).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:D(this,_e,Zv).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){p(this,Ds).redo(),D(this,_e,ni).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:p(this,Ds).hasSomethingToRedo(),isEmpty:D(this,_e,Zv).call(this)})}addCommands(e){p(this,Ds).add(e),D(this,_e,ni).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:D(this,_e,Zv).call(this)})}cleanUndoStack(e){p(this,Ds).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...p(this,Pt)],n=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)D(this,_e,RR).call(this,a)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=p(this,zi))==null||e.commitOrRemove()}hasSomethingToControl(){return p(this,zi)||this.hasSelection}selectAll(){for(const e of p(this,Pt))e.commit();D(this,_e,jR).call(this,p(this,br).values())}unselectAll(){var e;if(!(p(this,zi)&&(p(this,zi).commitOrRemove(),p(this,Dr)!==Xe.NONE))&&!((e=p(this,zc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of p(this,Pt))t.unselect();p(this,Pt).clear(),D(this,_e,ni).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;p(this,Jc)[0]+=e,p(this,Jc)[1]+=t;const[i,s]=p(this,Jc),a=[...p(this,Pt)],o=1e3;p(this,Ja)&&clearTimeout(p(this,Ja)),O(this,Ja,setTimeout(()=>{O(this,Ja,null),p(this,Jc)[0]=p(this,Jc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)p(this,br).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)p(this,br).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),O(this,Ka,new Map);for(const e of p(this,Pt))p(this,Ka).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!p(this,Ka))return!1;this.disableUserSelect(!1);const e=p(this,Ka);O(this,Ka,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const n=(i,s,a,o)=>{if(p(this,br).has(i.id)){const l=p(this,Xr).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)n(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)n(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(p(this,Ka))for(const n of p(this,Ka).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||p(this,Pt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return p(this,zi)===e}getActive(){return p(this,zi)}getMode(){return p(this,Dr)}isEditingMode(){return p(this,Dr)!==Xe.NONE}get imageManager(){return Ge(this,"imageManager",new TR)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,d=t.rangeCount;c<d;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,d,f,m)=>({x:(d-i)/a,y:1-(c+f-n)/s,width:m/a,height:f/s});break;case"180":o=(c,d,f,m)=>({x:1-(c+f-n)/s,y:1-(d+m-i)/a,width:f/s,height:m/a});break;case"270":o=(c,d,f,m)=>({x:1-(d+m-i)/a,y:(c-n)/s,width:m/a,height:f/s});break;default:o=(c,d,f,m)=>({x:(c-n)/s,y:(d-i)/a,width:f/s,height:m/a});break}const l=[];for(let c=0,d=t.rangeCount;c<d;c++){const f=t.getRangeAt(c);if(!f.collapsed)for(const{x:m,y:g,width:x,height:y}of f.getClientRects())x===0||y===0||l.push(o(m,g,x,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(p(this,Up)||O(this,Up,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=p(this,Up))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=p(this,Up))==null?void 0:i.get(e.data.id);if(!t)return;const n=p(this,Ms).getRawValue(t);n&&(p(this,Dr)===Xe.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var s;const i=(s=p(this,Kc))==null?void 0:s.get(e);i&&(i.setCanvas(t,n),p(this,Kc).delete(e))}addMissingCanvas(e,t){(p(this,Kc)||O(this,Kc,new Map)).set(e,t)}};$p=new WeakMap,zi=new WeakMap,Fp=new WeakMap,br=new WeakMap,Xr=new WeakMap,Bp=new WeakMap,Ms=new WeakMap,Up=new WeakMap,Ds=new WeakMap,Hn=new WeakMap,Uc=new WeakMap,zc=new WeakMap,zp=new WeakMap,qc=new WeakMap,Ka=new WeakMap,Ls=new WeakMap,Fd=new WeakMap,I0=new WeakMap,M0=new WeakMap,qp=new WeakMap,D0=new WeakMap,Ya=new WeakMap,Hc=new WeakMap,Hp=new WeakMap,Wc=new WeakMap,Xa=new WeakMap,tA=new WeakMap,Vc=new WeakMap,Wp=new WeakMap,L0=new WeakMap,Gc=new WeakMap,Bd=new WeakMap,Vp=new WeakMap,Kc=new WeakMap,$0=new WeakMap,Dr=new WeakMap,Pt=new WeakMap,tl=new WeakMap,Yc=new WeakMap,Xc=new WeakMap,F0=new WeakMap,Gp=new WeakMap,B0=new WeakMap,Jc=new WeakMap,Ja=new WeakMap,rl=new WeakMap,U0=new WeakMap,z0=new WeakMap,$s=new WeakMap,_e=new WeakSet,G_=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},OR=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of p(this,Xr).values())if(n.hasTextLayer(e))return n;return null},JW=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=D(this,_e,G_).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(p(this,Xa)||O(this,Xa,new mce(this)),p(this,Xa).show(n,i,this.direction==="ltr"))},QW=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){p(this,tl)&&((s=p(this,Xa))==null||s.hide(),O(this,tl,null),D(this,_e,ni).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===p(this,tl))return;const i=D(this,_e,G_).call(this,e).closest(".textLayer");if(!i){p(this,tl)&&((a=p(this,Xa))==null||a.hide(),O(this,tl,null),D(this,_e,ni).call(this,{hasSelectedText:!1}));return}if((o=p(this,Xa))==null||o.hide(),O(this,tl,t),D(this,_e,ni).call(this,{hasSelectedText:!0}),!(p(this,Dr)!==Xe.HIGHLIGHT&&p(this,Dr)!==Xe.NONE)&&(p(this,Dr)===Xe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),O(this,Wc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=p(this,Dr)===Xe.HIGHLIGHT?D(this,_e,OR).call(this,i):null;if(l==null||l.toggleDrawing(),p(this,Wp)){const c=new AbortController,d=this.combinedSignal(c),f=m=>{m.type==="pointerup"&&m.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),m.type==="pointerup"&&D(this,_e,Qv).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:d}),window.addEventListener("blur",f,{signal:d})}else l==null||l.toggleDrawing(!0),D(this,_e,Qv).call(this,"main_toolbar")}},Qv=function(e=""){p(this,Dr)===Xe.HIGHLIGHT?this.highlightSelection(e):p(this,I0)&&D(this,_e,JW).call(this)},ZW=function(){document.addEventListener("selectionchange",D(this,_e,QW).bind(this),{signal:this._signal})},eV=function(){if(p(this,Hc))return;O(this,Hc,new AbortController);const e=this.combinedSignal(p(this,Hc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},tV=function(){var e;(e=p(this,Hc))==null||e.abort(),O(this,Hc,null)},NR=function(){if(p(this,Gc))return;O(this,Gc,new AbortController);const e=this.combinedSignal(p(this,Gc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},rV=function(){var e;(e=p(this,Gc))==null||e.abort(),O(this,Gc,null)},nV=function(){if(p(this,Uc))return;O(this,Uc,new AbortController);const e=this.combinedSignal(p(this,Uc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},iV=function(){var e;(e=p(this,Uc))==null||e.abort(),O(this,Uc,null)},sV=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},ni=function(e){Object.entries(e).some(([n,i])=>p(this,B0)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(p(this,B0),e)}),p(this,Dr)===Xe.HIGHLIGHT&&e.hasSelectedEditor===!1&&D(this,_e,Ko).call(this,[[lt.HIGHLIGHT_FREE,!0]]))},Ko=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},aV=async function(){if(!p(this,Vc)){O(this,Vc,!0);const e=[];for(const t of p(this,Xr).values())e.push(t.enable());await Promise.all(e);for(const t of p(this,br).values())t.enable()}},oV=function(){if(this.unselectAll(),p(this,Vc)){O(this,Vc,!1);for(const e of p(this,Xr).values())e.disable();for(const e of p(this,br).values())e.disable()}},RR=function(e){const t=p(this,Xr).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},lV=function(){let e=null;for(e of p(this,Pt));return e},Zv=function(){if(p(this,br).size===0)return!0;if(p(this,br).size===1)for(const e of p(this,br).values())return e.isEmpty();return!1},jR=function(e){for(const t of p(this,Pt))t.unselect();p(this,Pt).clear();for(const t of e)t.isEmpty()||(p(this,Pt).add(t),t.select());D(this,_e,ni).call(this,{hasSelectedEditor:this.hasSelection})},he(xp,"TRANSLATE_SMALL",1),he(xp,"TRANSLATE_BIG",10);let sf=xp;var on,Qa,pa,Kp,Za,qi,Yp,eo,xi,nl,Ud,to,Qc,Oa,ey,K_;const ii=class ii{constructor(e){I(this,Oa);I(this,on,null);I(this,Qa,!1);I(this,pa,null);I(this,Kp,null);I(this,Za,null);I(this,qi,null);I(this,Yp,!1);I(this,eo,null);I(this,xi,null);I(this,nl,null);I(this,Ud,null);I(this,to,!1);O(this,xi,e),O(this,to,e._uiManager.useNewAltTextFlow),p(ii,Qc)||O(ii,Qc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ii._l10n??(ii._l10n=e)}async render(){const e=O(this,pa,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=O(this,Kp,document.createElement("span"));e.append(t),p(this,to)?(e.classList.add("new"),e.setAttribute("data-l10n-id",p(ii,Qc).missing),t.setAttribute("data-l10n-id",p(ii,Qc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=p(this,xi)._uiManager._signal;e.addEventListener("contextmenu",Xs,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),p(this,xi)._uiManager.editAltText(p(this,xi)),p(this,to)&&p(this,xi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:p(this,Oa,ey)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(O(this,Yp,!0),i(s))},{signal:n}),await D(this,Oa,K_).call(this),e}finish(){p(this,pa)&&(p(this,pa).focus({focusVisible:p(this,Yp)}),O(this,Yp,!1))}isEmpty(){return p(this,to)?p(this,on)===null:!p(this,on)&&!p(this,Qa)}hasData(){return p(this,to)?p(this,on)!==null||!!p(this,nl):this.isEmpty()}get guessedText(){return p(this,nl)}async setGuessedText(e){p(this,on)===null&&(O(this,nl,e),O(this,Ud,await ii._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),D(this,Oa,K_).call(this))}toggleAltTextBadge(e=!1){var t;if(!p(this,to)||p(this,on)){(t=p(this,eo))==null||t.remove(),O(this,eo,null);return}if(!p(this,eo)){const n=O(this,eo,document.createElement("div"));n.className="noAltTextBadge",p(this,xi).div.append(n)}p(this,eo).classList.toggle("hidden",!e)}serialize(e){let t=p(this,on);return!e&&p(this,nl)===t&&(t=p(this,Ud)),{altText:t,decorative:p(this,Qa),guessedText:p(this,nl),textWithDisclaimer:p(this,Ud)}}get data(){return{altText:p(this,on),decorative:p(this,Qa)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&(O(this,nl,n),O(this,Ud,i)),!(p(this,on)===e&&p(this,Qa)===t)&&(s||(O(this,on,e),O(this,Qa,t)),D(this,Oa,K_).call(this))}toggle(e=!1){p(this,pa)&&(!e&&p(this,qi)&&(clearTimeout(p(this,qi)),O(this,qi,null)),p(this,pa).disabled=!e)}shown(){p(this,xi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:p(this,Oa,ey)}})}destroy(){var e,t;(e=p(this,pa))==null||e.remove(),O(this,pa,null),O(this,Kp,null),O(this,Za,null),(t=p(this,eo))==null||t.remove(),O(this,eo,null)}};on=new WeakMap,Qa=new WeakMap,pa=new WeakMap,Kp=new WeakMap,Za=new WeakMap,qi=new WeakMap,Yp=new WeakMap,eo=new WeakMap,xi=new WeakMap,nl=new WeakMap,Ud=new WeakMap,to=new WeakMap,Qc=new WeakMap,Oa=new WeakSet,ey=function(){return p(this,on)&&"added"||p(this,on)===null&&this.guessedText&&"review"||"missing"},K_=async function(){var i,s,a;const e=p(this,pa);if(!e)return;if(p(this,to)){if(e.classList.toggle("done",!!p(this,on)),e.setAttribute("data-l10n-id",p(ii,Qc)[p(this,Oa,ey)]),(i=p(this,Kp))==null||i.setAttribute("data-l10n-id",p(ii,Qc)[`${p(this,Oa,ey)}-label`]),!p(this,on)){(s=p(this,Za))==null||s.remove();return}}else{if(!p(this,on)&&!p(this,Qa)){e.classList.remove("done"),(a=p(this,Za))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=p(this,Za);if(!t){O(this,Za,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${p(this,xi).id}`;const o=100,l=p(this,xi)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(p(this,qi)),O(this,qi,null)},{once:!0}),e.addEventListener("mouseenter",()=>{O(this,qi,setTimeout(()=>{O(this,qi,null),p(this,Za).classList.add("show"),p(this,xi)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;p(this,qi)&&(clearTimeout(p(this,qi)),O(this,qi,null)),(c=p(this,Za))==null||c.classList.remove("show")},{signal:l})}p(this,Qa)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=p(this,on)),t.parentNode||e.append(t);const n=p(this,xi).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},I(ii,Qc,null),he(ii,"_l10n",null);let q1=ii;var Sn,Fs,zd,Gt,q0,qd,ma,Hd,Wd,Vd,H0,IR;class f_{constructor(e){I(this,H0);I(this,Sn,null);I(this,Fs,null);I(this,zd,!1);I(this,Gt,null);I(this,q0,null);I(this,qd,null);I(this,ma,null);I(this,Hd,null);I(this,Wd,!1);I(this,Vd,null);O(this,Gt,e)}renderForToolbar(){const e=O(this,Fs,document.createElement("button"));return e.className="comment",D(this,H0,IR).call(this,e,!1)}renderForStandalone(){const e=O(this,Sn,document.createElement("button"));e.className="annotationCommentButton";const t=p(this,Gt).commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(p(this,Gt)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=p(this,Gt).commentButtonColor;i&&(n.backgroundColor=i)}return D(this,H0,IR).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=p(this,Sn)??p(this,Fs))==null||e.focus()},0)}onUpdatedColor(){if(!p(this,Sn))return;const e=p(this,Gt).commentButtonColor;e&&(p(this,Sn).style.backgroundColor=e),p(this,Gt)._uiManager.updatePopupColor(p(this,Gt))}get commentButtonWidth(){var e;return(((e=p(this,Sn))==null?void 0:e.getBoundingClientRect().width)??0)/p(this,Gt).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(p(this,Vd))return p(this,Vd);if(!p(this,Sn))return null;const{x:e,y:t,height:n}=p(this,Sn).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=p(this,Gt).parent.boundingClientRect;return[(e-i)/a,(t+n-s)/o]}set commentPopupPositionInLayer(e){O(this,Vd,e)}hasDefaultPopupPosition(){return p(this,Vd)===null}removeStandaloneCommentButton(){var e;(e=p(this,Sn))==null||e.remove(),O(this,Sn,null)}removeToolbarCommentButton(){var e;(e=p(this,Fs))==null||e.remove(),O(this,Fs,null)}setCommentButtonStates({selected:e,hasPopup:t}){p(this,Sn)&&(p(this,Sn).classList.toggle("selected",e),p(this,Sn).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let n,i;if(t)[n,i]=t;else{[n,i]=p(this,Gt).commentButtonPosition;const{width:d,height:f,x:m,y:g}=p(this,Gt);n=m+n*d,i=g+i*f}const s=p(this,Gt).parent.boundingClientRect,{x:a,y:o,width:l,height:c}=s;p(this,Gt)._uiManager.editComment(p(this,Gt),a+n*l,o+i*c,{...e,parentDimensions:s})}finish(){p(this,Fs)&&(p(this,Fs).focus({focusVisible:p(this,zd)}),O(this,zd,!1))}isDeleted(){return p(this,Wd)||p(this,ma)===""}isEmpty(){return p(this,ma)===null}hasBeenEdited(){return this.isDeleted()||p(this,ma)!==p(this,q0)}serialize(){return this.data}get data(){return{text:p(this,ma),richText:p(this,qd),date:p(this,Hd),deleted:this.isDeleted()}}set data(e){if(e!==p(this,ma)&&O(this,qd,null),e===null){O(this,ma,""),O(this,Wd,!0);return}O(this,ma,e),O(this,Hd,new Date),O(this,Wd,!1)}setInitialText(e,t=null){O(this,q0,e),this.data=e,O(this,Hd,null),O(this,qd,t)}shown(){}destroy(){var e,t;(e=p(this,Fs))==null||e.remove(),O(this,Fs,null),(t=p(this,Sn))==null||t.remove(),O(this,Sn,null),O(this,ma,""),O(this,qd,null),O(this,Hd,null),O(this,Gt,null),O(this,zd,!1),O(this,Wd,!1)}}Sn=new WeakMap,Fs=new WeakMap,zd=new WeakMap,Gt=new WeakMap,q0=new WeakMap,qd=new WeakMap,ma=new WeakMap,Hd=new WeakMap,Wd=new WeakMap,Vd=new WeakMap,H0=new WeakSet,IR=function(e,t){if(!p(this,Gt)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[p(this,Gt)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=p(this,Gt)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",Xs,{signal:n}),t&&(e.addEventListener("focusin",s=>{p(this,Gt)._focusEventsAllowed=!1,Er(s)},{capture:!0,signal:n}),e.addEventListener("focusout",s=>{p(this,Gt)._focusEventsAllowed=!0,Er(s)},{capture:!0,signal:n})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),e===p(this,Fs)?this.edit():p(this,Gt).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(O(this,zd,!0),i(s))},{signal:n}),e.addEventListener("pointerenter",()=>{p(this,Gt).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{p(this,Gt).toggleComment(!1,!1)},{signal:n}),e};var Xp,Gd,W0,V0,G0,K0,Y0,il,Kd,sl,Yd,al,Fu,cV,uV,dV;const dD=class dD{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){I(this,Fu);I(this,Xp);I(this,Gd,!1);I(this,W0,null);I(this,V0);I(this,G0);I(this,K0);I(this,Y0);I(this,il,null);I(this,Kd);I(this,sl,null);I(this,Yd);I(this,al,null);O(this,Xp,e),O(this,W0,n),O(this,V0,t),O(this,G0,i),O(this,K0,s),O(this,Y0,a),O(this,Yd,new AbortController),O(this,Kd,AbortSignal.any([o,p(this,Yd).signal])),e.addEventListener("touchstart",D(this,Fu,cV).bind(this),{passive:!1,signal:p(this,Kd)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ko.pixelRatio}destroy(){var e,t;(e=p(this,Yd))==null||e.abort(),O(this,Yd,null),(t=p(this,il))==null||t.abort(),O(this,il,null)}};Xp=new WeakMap,Gd=new WeakMap,W0=new WeakMap,V0=new WeakMap,G0=new WeakMap,K0=new WeakMap,Y0=new WeakMap,il=new WeakMap,Kd=new WeakMap,sl=new WeakMap,Yd=new WeakMap,al=new WeakMap,Fu=new WeakSet,cV=function(e){var i,s,a;if((i=p(this,V0))!=null&&i.call(this))return;if(e.touches.length===1){if(p(this,il))return;const o=O(this,il,new AbortController),l=AbortSignal.any([p(this,Kd),o.signal]),c=p(this,Xp),d={capture:!0,signal:l,passive:!1},f=m=>{var g;m.pointerType==="touch"&&((g=p(this,il))==null||g.abort(),O(this,il,null))};c.addEventListener("pointerdown",m=>{m.pointerType==="touch"&&(Er(m),f(m))},d),c.addEventListener("pointerup",f,d),c.addEventListener("pointercancel",f,d);return}if(!p(this,al)){O(this,al,new AbortController);const o=AbortSignal.any([p(this,Kd),p(this,al).signal]),l=p(this,Xp),c={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",D(this,Fu,uV).bind(this),c);const d=D(this,Fu,dV).bind(this);l.addEventListener("touchend",d,c),l.addEventListener("touchcancel",d,c),c.capture=!0,l.addEventListener("pointerdown",Er,c),l.addEventListener("pointermove",Er,c),l.addEventListener("pointercancel",Er,c),l.addEventListener("pointerup",Er,c),(s=p(this,G0))==null||s.call(this)}if(Er(e),e.touches.length!==2||(a=p(this,W0))!=null&&a.call(this)){O(this,sl,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),O(this,sl,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},uV=function(e){var C;if(!p(this,sl)||e.touches.length!==2)return;Er(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=n,l=p(this,sl),{touch0X:c,touch0Y:d,touch1X:f,touch1Y:m}=l,g=f-c,x=m-d,y=a-i,b=o-s,_=Math.hypot(y,b)||1,E=Math.hypot(g,x)||1;if(!p(this,Gd)&&Math.abs(E-_)<=dD.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!p(this,Gd)){O(this,Gd,!0);return}const A=[(i+a)/2,(s+o)/2];(C=p(this,K0))==null||C.call(this,A,E,_)},dV=function(e){var t;e.touches.length>=2||(p(this,al)&&(p(this,al).abort(),O(this,al,null),(t=p(this,Y0))==null||t.call(this)),p(this,sl)&&(Er(e),O(this,sl,null),O(this,Gd,!1)))};let H1=dD;var Xd,ga,ar,Ft,ol,Jp,Zc,X0,An,Jd,ll,Bs,eu,J0,Qd,Hi,Q0,Zd,cl,ro,Qp,Zp,Us,eh,Z0,rA,Fe,MR,eb,DR,Y_,hV,fV,LR,X_,$R,pV,mV,gV,FR,vV,BR,yV,bV,wV,UR,ty;const Ye=class Ye{constructor(e){I(this,Fe);I(this,Xd,null);I(this,ga,null);I(this,ar,null);I(this,Ft,null);I(this,ol,null);I(this,Jp,!1);I(this,Zc,null);I(this,X0,"");I(this,An,null);I(this,Jd,null);I(this,ll,null);I(this,Bs,null);I(this,eu,null);I(this,J0,"");I(this,Qd,!1);I(this,Hi,null);I(this,Q0,!1);I(this,Zd,!1);I(this,cl,!1);I(this,ro,null);I(this,Qp,0);I(this,Zp,0);I(this,Us,null);I(this,eh,null);he(this,"isSelected",!1);he(this,"_isCopy",!1);he(this,"_editToolbar",null);he(this,"_initialOptions",Object.create(null));he(this,"_initialData",null);he(this,"_isVisible",!0);he(this,"_uiManager",null);he(this,"_focusEventsAllowed",!0);I(this,Z0,!1);I(this,rA,Ye._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ye.prototype._resizeWithKeyboard,t=sf.TRANSLATE_SMALL,n=sf.TRANSLATE_BIG;return Ge(this,"_resizerKeyboardManager",new Nw([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ye.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ge(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new yce({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ye._l10n??(Ye._l10n=e),Ye._l10nResizer||(Ye._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ye._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ye._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){zt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return p(this,Z0)}set _isDraggable(e){var t;O(this,Z0,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=p(this,rA)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(D(this,Fe,ty).call(this),(t=p(this,Bs))==null||t.remove(),O(this,Bs,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(p(this,Qd)?O(this,Qd,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}translate(e,t){D(this,Fe,MR).call(this,this.parentDimensions,e,t)}translateInPage(e,t){p(this,Hi)||O(this,Hi,[this.x,this.y,this.width,this.height]),D(this,Fe,MR).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){p(this,Hi)||O(this,Hi,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:d}=n;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!p(this,Hi)&&(p(this,Hi)[0]!==this.x||p(this,Hi)[1]!==this.y)}get _hasBeenResized(){return!!p(this,Hi)&&(p(this,Hi)[2]!==this.width||p(this,Hi)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ye,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=n,l*=i,s*=n,a*=i,this._mustFixPosition)switch(e){case 0:s=ci(s,0,n-o),a=ci(a,0,i-l);break;case 90:s=ci(s,0,n-l),a=ci(a,o,i);break;case 180:s=ci(s,o,n),a=ci(a,l,i);break;case 270:s=ci(s,l,n),a=ci(a,0,i-o);break}this.x=s/=n,this.y=a/=i;const[c,d]=this.getBaseTranslation();s+=c,a+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return D(n=Ye,eb,DR).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return D(n=Ye,eb,DR).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=p(this,ar))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||p(this,Zd))return this._editToolbar;this._editToolbar=new kR(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=p(this,ar))==null||t.destroy()}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return p(this,ar)||(q1.initialize(Ye._l10n),O(this,ar,new q1(this)),p(this,Xd)&&(p(this,ar).data=p(this,Xd),O(this,Xd,null))),p(this,ar)}get altTextData(){var e;return(e=p(this,ar))==null?void 0:e.data}set altTextData(e){p(this,ar)&&(p(this,ar).data=e)}get guessedAltText(){var e;return(e=p(this,ar))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=p(this,ar))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=p(this,ar))==null?void 0:t.serialize(e)}hasAltText(){return!!p(this,ar)&&!p(this,ar).isEmpty()}hasAltTextData(){var e;return((e=p(this,ar))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=p(this,Ft))==null||e.focusButton()}addCommentButton(){return this.canAddComment?p(this,Ft)||O(this,Ft,new f_(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(p(this,ol)){this._uiManager.isEditingMode()&&p(this,ol).classList.remove("hidden");return}this.hasComment&&(O(this,ol,p(this,Ft).renderForStandalone()),this.div.append(p(this,ol)))}}removeStandaloneCommentButton(){p(this,Ft).removeStandaloneCommentButton(),O(this,ol,null)}hideStandaloneCommentButton(){var e;(e=p(this,ol))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:i}}=p(this,Ft);return{text:t,richText:e,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){p(this,Ft)||O(this,Ft,new f_(this)),p(this,Ft).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(p(this,Ft)||O(this,Ft,new f_(this)),p(this,Ft).setInitialText(e,n),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=p(this,Ft))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=p(this,Ft))==null?void 0:e.isDeleted()}get hasComment(){return!!p(this,Ft)&&!p(this,Ft).isEmpty()&&!p(this,Ft).isDeleted()}async editComment(e){p(this,Ft)||O(this,Ft,new f_(this)),p(this,Ft).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){p(this,Ft).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){p(this,Ft).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=p(this,Jp)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),D(this,Fe,BR).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),YW(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(p(this,eh)||O(this,eh,new H1({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:D(this,Fe,pV).bind(this),onPinching:D(this,Fe,mV).bind(this),onPinchEnd:D(this,Fe,gV).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=en.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(O(this,Qd,!0),this._isDraggable){D(this,Fe,vV).call(this,e);return}D(this,Fe,FR).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){p(this,ro)&&clearTimeout(p(this,ro)),O(this,ro,setTimeout(()=>{var e;O(this,ro,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,d=t/i,f=this.x*s,m=this.y*a,g=this.width*s,x=this.height*a;switch(n){case 0:return[f+c+o,a-m-d-x+l,f+c+g+o,a-m-d+l];case 90:return[f+d+o,a-m+c+l,f+d+x+o,a-m+c+g+l];case 180:return[f-c-g+o,a-m+d+l,f-c+o,a-m+d+x+l];case 270:return[f-d-x+o,a-m-c-g+l,f-d+o,a-m-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,a]=e,o=s-n,l=a-i;switch(this.rotation){case 0:return[n,t-a,o,l];case 90:return[n,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Ye._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=p(this,Ft))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:c,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:n||d,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),O(this,Zd,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),O(this,Zd,!1),!0):!1}isInEditMode(){return p(this,Zd)}shouldGetKeyboardEvents(){return p(this,cl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&n>0}rebuild(){D(this,Fe,BR).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var n;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((n=this._initialData)==null?void 0:n.popupRef)||""}}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,O(i,Xd,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,c,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,n;if((e=p(this,eu))==null||e.abort(),O(this,eu,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),p(this,ro)&&(clearTimeout(p(this,ro)),O(this,ro,null)),D(this,Fe,ty).call(this),this.removeEditToolbar(),p(this,Us)){for(const i of p(this,Us).values())clearTimeout(i);O(this,Us,null)}this.parent=null,(t=p(this,eh))==null||t.destroy(),O(this,eh,null),(n=p(this,Bs))==null||n.remove(),O(this,Bs,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(D(this,Fe,hV).call(this),p(this,An).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,i,s,a]=this.getPDFRect();return[Ye._round(n+(s-n)*e),Ye._round(i+(a-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return p(this,Ft).commentPopupPositionInLayer}set commentPopupPosition(e){p(this,Ft).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return p(this,Ft).hasDefaultPopupPosition()}get commentButtonWidth(){return p(this,Ft).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=p(this,Ft))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),O(this,ll,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=p(this,An).children;if(!p(this,ga)){O(this,ga,Array.from(t));const a=D(this,Fe,yV).bind(this),o=D(this,Fe,bV).bind(this),l=this._uiManager._signal;for(const c of p(this,ga)){const d=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",D(this,Fe,wV).bind(this,d),{signal:l}),c.setAttribute("data-l10n-id",Ye._l10nResizer[d])}}const n=p(this,ga)[0];let i=0;for(const a of t){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(p(this,ga).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)p(this,An).append(p(this,An).firstElementChild);else if(s>i)for(let o=0;o<s-i;o++)p(this,An).firstElementChild.before(p(this,An).lastElementChild);let a=0;for(const o of t){const c=p(this,ga)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Ye._l10nResizer[c])}}D(this,Fe,UR).call(this,0),O(this,cl,!0),p(this,An).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){p(this,cl)&&D(this,Fe,$R).call(this,p(this,J0),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){D(this,Fe,ty).call(this),this.div.focus()}select(){var e,t,n;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(n=p(this,ar))==null||n.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,n,i,s;this.isSelected&&(this.isSelected=!1,(e=p(this,An))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=p(this,ar))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return p(this,Q0)}set isEditing(e){O(this,Q0,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){p(this,Us)||O(this,Us,new Map);const{action:n}=e;let i=p(this,Us).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),p(this,Us).delete(n),p(this,Us).size===0&&O(this,Us,null)},Ye._telemetryTimeout),p(this,Us).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),O(this,Jp,!1)}disable(){this.div&&(this.div.tabIndex=-1),O(this,Jp,!0)}updateFakeAnnotationElement(e){if(!p(this,Bs)&&!this.deleted){O(this,Bs,e.addFakeAnnotation(this));return}if(this.deleted){p(this,Bs).remove(),O(this,Bs,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&p(this,Bs).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Xd=new WeakMap,ga=new WeakMap,ar=new WeakMap,Ft=new WeakMap,ol=new WeakMap,Jp=new WeakMap,Zc=new WeakMap,X0=new WeakMap,An=new WeakMap,Jd=new WeakMap,ll=new WeakMap,Bs=new WeakMap,eu=new WeakMap,J0=new WeakMap,Qd=new WeakMap,Hi=new WeakMap,Q0=new WeakMap,Zd=new WeakMap,cl=new WeakMap,ro=new WeakMap,Qp=new WeakMap,Zp=new WeakMap,Us=new WeakMap,eh=new WeakMap,Z0=new WeakMap,rA=new WeakMap,Fe=new WeakSet,MR=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},eb=new WeakSet,DR=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Y_=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},hV=function(){if(p(this,An))return;O(this,An,document.createElement("div")),p(this,An).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");p(this,An).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",D(this,Fe,fV).bind(this,n),{signal:t}),i.addEventListener("contextmenu",Xs,{signal:t}),i.tabIndex=-1}this.div.prepend(p(this,An))},fV=function(e,t){var d;t.preventDefault();const{isMac:n}=en.platform;if(t.button!==0||t.ctrlKey&&n)return;(d=p(this,ar))==null||d.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,O(this,Jd,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",D(this,Fe,$R).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Er,{passive:!1,signal:a}),window.addEventListener("contextmenu",Xs,{signal:a}),O(this,ll,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var f;s.abort(),this.parent.togglePointerEvents(!0),(f=p(this,ar))==null||f.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,D(this,Fe,X_).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},LR=function(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},X_=function(){if(!p(this,ll))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=p(this,ll);O(this,ll,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===n&&l===i||this.addCommands({cmd:D(this,Fe,LR).bind(this,s,a,o,l),undo:D(this,Fe,LR).bind(this,e,t,n,i),mustExec:!0})},$R=function(e,t){const[n,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=Ye.MIN_SIZE/n,d=Ye.MIN_SIZE/i,f=D(this,Fe,Y_).call(this,this.rotation),m=(H,G)=>[f[0]*H+f[2]*G,f[1]*H+f[3]*G],g=D(this,Fe,Y_).call(this,360-this.rotation),x=(H,G)=>[g[0]*H+g[2]*G,g[1]*H+g[3]*G];let y,b,_=!1,E=!1;switch(e){case"topLeft":_=!0,y=(H,G)=>[0,0],b=(H,G)=>[H,G];break;case"topMiddle":y=(H,G)=>[H/2,0],b=(H,G)=>[H/2,G];break;case"topRight":_=!0,y=(H,G)=>[H,0],b=(H,G)=>[0,G];break;case"middleRight":E=!0,y=(H,G)=>[H,G/2],b=(H,G)=>[0,G/2];break;case"bottomRight":_=!0,y=(H,G)=>[H,G],b=(H,G)=>[0,0];break;case"bottomMiddle":y=(H,G)=>[H/2,G],b=(H,G)=>[H/2,0];break;case"bottomLeft":_=!0,y=(H,G)=>[0,G],b=(H,G)=>[H,0];break;case"middleLeft":E=!0,y=(H,G)=>[0,G/2],b=(H,G)=>[H,G/2];break}const A=y(o,l),C=b(o,l);let k=m(...C);const P=Ye._round(s+k[0]),j=Ye._round(a+k[1]);let M=1,$=1,U,F;if(t.fromKeyboard)({deltaX:U,deltaY:F}=t);else{const{screenX:H,screenY:G}=t,[B,ee]=p(this,Jd);[U,F]=this.screenToPageTranslation(H-B,G-ee),p(this,Jd)[0]=H,p(this,Jd)[1]=G}if([U,F]=x(U/n,F/i),_){const H=Math.hypot(o,l);M=$=Math.max(Math.min(Math.hypot(C[0]-A[0]-U,C[1]-A[1]-F)/H,1/o,1/l),c/o,d/l)}else E?M=ci(Math.abs(C[0]-A[0]-U),c,1)/o:$=ci(Math.abs(C[1]-A[1]-F),d,1)/l;const z=Ye._round(o*M),V=Ye._round(l*$);k=m(...b(z,V));const X=P-k[0],J=j-k[1];p(this,Hi)||O(this,Hi,[this.x,this.y,this.width,this.height]),this.width=z,this.height=V,this.x=X,this.y=J,this.setDims(),this.fixAndSetPosition(),this._onResizing()},pV=function(){var e;O(this,ll,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=p(this,ar))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},mV=function(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const a=D(this,Fe,Y_).call(this,this.rotation),o=(P,j)=>[a[0]*P+a[2]*j,a[1]*P+a[3]*j],[l,c]=this.parentDimensions,d=this.x,f=this.y,m=this.width,g=this.height,x=Ye.MIN_SIZE/l,y=Ye.MIN_SIZE/c;s=Math.max(Math.min(s,1/m,1/g),x/m,y/g);const b=Ye._round(m*s),_=Ye._round(g*s);if(b===m&&_===g)return;p(this,Hi)||O(this,Hi,[d,f,m,g]);const E=o(m/2,g/2),A=Ye._round(d+E[0]),C=Ye._round(f+E[1]),k=o(b/2,_/2);this.x=A-k[0],this.y=C-k[1],this.width=b,this.height=_,this.setDims(),this.fixAndSetPosition(),this._onResizing()},gV=function(){var e;(e=p(this,ar))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),D(this,Fe,X_).call(this)},FR=function(e){const{isMac:t}=en.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},vV=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=c=>{i.abort(),O(this,Zc,null),O(this,Qd,!1),this._uiManager.endDragSession()||D(this,Fe,FR).call(this,c),n&&this._onStopDragging()};t&&(O(this,Qp,e.clientX),O(this,Zp,e.clientY),O(this,Zc,e.pointerId),O(this,X0,e.pointerType),window.addEventListener("pointermove",c=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:f,pointerId:m}=c;if(m!==p(this,Zc)){Er(c);return}const[g,x]=this.screenToPageTranslation(d-p(this,Qp),f-p(this,Zp));O(this,Qp,d),O(this,Zp,f),this._uiManager.dragSelectedEditors(g,x)},a),window.addEventListener("touchmove",Er,a),window.addEventListener("pointerdown",c=>{c.pointerType===p(this,X0)&&(p(this,eh)||c.isPrimary)&&o(c),Er(c)},a));const l=c=>{if(!p(this,Zc)||p(this,Zc)===c.pointerId){o(c);return}Er(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},BR=function(){if(p(this,eu)||!this.div)return;O(this,eu,new AbortController);const e=this._uiManager.combinedSignal(p(this,eu));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},yV=function(e){Ye._resizerKeyboardManager.exec(this,e)},bV=function(e){var t;p(this,cl)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==p(this,An)&&D(this,Fe,ty).call(this)},wV=function(e){O(this,J0,p(this,cl)?e:"")},UR=function(e){if(p(this,ga))for(const t of p(this,ga))t.tabIndex=e},ty=function(){O(this,cl,!1),D(this,Fe,UR).call(this,-1),D(this,Fe,X_).call(this)},I(Ye,eb),he(Ye,"_l10n",null),he(Ye,"_l10nResizer",null),he(Ye,"_borderLineWidth",-1),he(Ye,"_colorManager",new PR),he(Ye,"_zIndex",1),he(Ye,"_telemetryTimeout",1e3);let Yt=Ye;class yce extends Yt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const qB=3285377520,Ts=4294901760,Ha=65535;class xV{constructor(e){this.h1=e?e&4294967295:qB,this.h2=e?e&4294967295:qB}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let y=0,b=e.length;y<b;y++){const _=e.charCodeAt(y);_<=255?t[n++]=_:(t[n++]=_>>>8,t[n++]=_&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,c=this.h1,d=this.h2;const f=3432918353,m=461845907,g=f&Ha,x=m&Ha;for(let y=0;y<i;y++)y&1?(o=a[y],o=o*f&Ts|o*g&Ha,o=o<<15|o>>>17,o=o*m&Ts|o*x&Ha,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[y],l=l*f&Ts|l*g&Ha,l=l<<15|l>>>17,l=l*m&Ts|l*x&Ha,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*f&Ts|o*g&Ha,o=o<<15|o>>>17,o=o*m&Ts|o*x&Ha,i&1?c^=o:d^=o}this.h1=c,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ts|e*36045&Ha,t=t*4283543511&Ts|((t<<16|e>>>16)*2950163797&Ts)>>>16,e^=t>>>1,e=e*444984403&Ts|e*60499&Ha,t=t*3301882366&Ts|((t<<16|e>>>16)*3120437893&Ts)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const zR=Object.freeze({map:null,hash:"",transfer:void 0});var th,rh,ul,En,nA,_V;class KI{constructor(){I(this,nA);I(this,th,!1);I(this,rh,null);I(this,ul,null);I(this,En,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=p(this,En).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return p(this,En).get(e)}remove(e){const t=p(this,En).get(e);if(t!==void 0&&(t instanceof Yt&&p(this,ul).delete(t.annotationElementId),p(this,En).delete(e),p(this,En).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of p(this,En).values())if(n instanceof Yt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=p(this,En).get(e);let i=!1;if(n!==void 0)for(const[s,a]of Object.entries(t))n[s]!==a&&(i=!0,n[s]=a);else i=!0,p(this,En).set(e,t);i&&D(this,nA,_V).call(this),t instanceof Yt&&((p(this,ul)||O(this,ul,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return p(this,En).has(e)}get size(){return p(this,En).size}resetModified(){p(this,th)&&(O(this,th,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new SV(this)}get serializable(){if(p(this,En).size===0)return zR;const e=new Map,t=new xV,n=[],i=Object.create(null);let s=!1;for(const[a,o]of p(this,En)){const l=o instanceof Yt?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:zR}get editorStats(){let e=null;const t=new Map;let n=0,i=0;for(const s of p(this,En).values()){if(!(s instanceof Yt)){s.popup&&(s.popup.deleted?i+=1:n+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(n+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[c,d]of Object.entries(a)){if(c==="type")continue;let f=l.get(c);f||(f=new Map,l.set(c,f));const m=f.get(d)??0;f.set(d,m+1)}}if((i>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:n}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){O(this,rh,null)}updateEditor(e,t){var i;const n=(i=p(this,ul))==null?void 0:i.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=p(this,ul))==null?void 0:t.get(e))||null}get modifiedIds(){if(p(this,rh))return p(this,rh);const e=[];if(p(this,ul))for(const t of p(this,ul).values())t.serialize()&&e.push(t.annotationElementId);return O(this,rh,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return p(this,En).entries()}}th=new WeakMap,rh=new WeakMap,ul=new WeakMap,En=new WeakMap,nA=new WeakSet,_V=function(){p(this,th)||(O(this,th,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var tb;class SV extends KI{constructor(t){super();I(this,tb);const{map:n,hash:i,transfer:s}=t.serializable,a=structuredClone(n,s?{transfer:s}:null);O(this,tb,{map:a,hash:i,transfer:s})}get print(){zt("Should not call PrintAnnotationStorage.print")}get serializable(){return p(this,tb)}get modifiedIds(){return Ge(this,"modifiedIds",{ids:new Set,hash:""})}}tb=new WeakMap;var em;class bce{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){I(this,em,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),p(this,em).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||p(this,em).has(e.loadedName))){if(ct(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),p(this,em).add(i),n==null||n(e)}catch{Ve(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}zt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Ve(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ge(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ge(this,"isSyncFontLoadingSupported",li||en.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(ct(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ge(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(C,k){return C.charCodeAt(k)<<24|C.charCodeAt(k+1)<<16|C.charCodeAt(k+2)<<8|C.charCodeAt(k+3)&255}function i(C,k,P,j){const M=C.substring(0,k),$=C.substring(k+P);return M+j+$}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function d(C,k){if(++c>30){Ve("Load test font never loaded."),k();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(d.bind(null,C,k))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=i(m,976,f.length,f);const x=16,y=1482184792;let b=n(m,x);for(s=0,a=f.length-3;s<a;s+=4)b=b-y+n(f,s)|0;s<f.length&&(b=b-y+n(f+"XXX",s)|0),m=i(m,x,4,Zle(b));const _=`url(data:font/opentype;base64,${btoa(m)});`,E=`@font-face {font-family:"${f}";src:${_}}`;this.insertRule(E);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const C of[e.loadedName,f]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=C,A.append(k)}this._document.body.append(A),d(f,()=>{A.remove(),t.complete()})}}em=new WeakMap;var Rt;class wce{constructor(e,t=null,n,i){I(this,Rt);this.compiledGlyphs=Object.create(null),O(this,Rt,e),this._inspectFont=t,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${BW(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(a){Ve(`getPathGenerator - ignoring character: "${a}".`)}const s=qW(i==null?void 0:i.path);return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}get black(){return p(this,Rt).black}get bold(){return p(this,Rt).bold}get disableFontFace(){return p(this,Rt).disableFontFace??!1}set disableFontFace(e){Ge(this,"disableFontFace",!!e)}get fontExtraProperties(){return p(this,Rt).fontExtraProperties??!1}get isInvalidPDFjsFont(){return p(this,Rt).isInvalidPDFjsFont}get isType3Font(){return p(this,Rt).isType3Font}get italic(){return p(this,Rt).italic}get missingFile(){return p(this,Rt).missingFile}get remeasure(){return p(this,Rt).remeasure}get vertical(){return p(this,Rt).vertical}get ascent(){return p(this,Rt).ascent}get defaultWidth(){return p(this,Rt).defaultWidth}get descent(){return p(this,Rt).descent}get bbox(){return p(this,Rt).bbox}set bbox(e){Ge(this,"bbox",e)}get fontMatrix(){return p(this,Rt).fontMatrix}get fallbackName(){return p(this,Rt).fallbackName}get loadedName(){return p(this,Rt).loadedName}get mimetype(){return p(this,Rt).mimetype}get name(){return p(this,Rt).name}get data(){return p(this,Rt).data}clearData(){p(this,Rt).clearData()}get cssFontInfo(){return p(this,Rt).cssFontInfo}get systemFontInfo(){return p(this,Rt).systemFontInfo}get defaultVMetrics(){return p(this,Rt).defaultVMetrics}}Rt=new WeakMap;var tm,rm,rb,nm,J_;const _p=class _p{constructor(e){I(this,nm);I(this,tm);I(this,rm);I(this,rb);O(this,tm,e),O(this,rm,new DataView(p(this,tm))),O(this,rb,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let i=0;for(const c of _p.strings){const d=t.encode(e[c]);n[c]=d,i+=4+d.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const c of _p.strings){const d=n[c],f=d.length;o.setUint32(l,f),a.set(d,l+4),l+=4+f}return ct(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return D(this,nm,J_).call(this,0)}get fontWeight(){return D(this,nm,J_).call(this,1)}get italicAngle(){return D(this,nm,J_).call(this,2)}};tm=new WeakMap,rm=new WeakMap,rb=new WeakMap,nm=new WeakSet,J_=function(e){ct(e<_p.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=p(this,rm).getUint32(t)+4;const n=p(this,rm).getUint32(t);return p(this,rb).decode(new Uint8Array(p(this,tm),t+4,n))},he(_p,"strings",["fontFamily","fontWeight","italicAngle"]);let W1=_p;var tu,no,nh,ih,ry;const Sp=class Sp{constructor(e){I(this,ih);I(this,tu);I(this,no);I(this,nh);O(this,tu,e),O(this,no,new DataView(p(this,tu))),O(this,nh,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let i=0;for(const m of Sp.strings){const g=t.encode(e[m]);n[m]=g,i+=4+g.length}i+=4;let s,a,o=1+i;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),d=new DataView(l);let f=0;d.setUint8(f++,e.guessFallback?1:0),d.setUint32(f,0),f+=4,i=0;for(const m of Sp.strings){const g=n[m],x=g.length;i+=4+x,d.setUint32(f,x),c.set(g,f+4),f+=4+x}return d.setUint32(f-i-4,i),e.style&&(d.setUint32(f,s.length),c.set(s,f+4),f+=4+s.length,d.setUint32(f,a.length),c.set(a,f+4),f+=4+a.length),ct(f<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(f)}get guessFallback(){return p(this,no).getUint8(0)!==0}get css(){return D(this,ih,ry).call(this,0)}get loadedName(){return D(this,ih,ry).call(this,1)}get baseFontName(){return D(this,ih,ry).call(this,2)}get src(){return D(this,ih,ry).call(this,3)}get style(){let e=1;e+=4+p(this,no).getUint32(e);const t=p(this,no).getUint32(e),n=p(this,nh).decode(new Uint8Array(p(this,tu),e+4,t));e+=4+t;const i=p(this,no).getUint32(e),s=p(this,nh).decode(new Uint8Array(p(this,tu),e+4,i));return{style:n,weight:s}}};tu=new WeakMap,no=new WeakMap,nh=new WeakMap,ih=new WeakSet,ry=function(e){ct(e<Sp.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=p(this,no).getUint32(t)+4;const n=p(this,no).getUint32(t);return p(this,nh).decode(new Uint8Array(p(this,tu),t+4,n))},he(Sp,"strings",["css","loadedName","baseFontName","src"]);let V1=Sp;var im,sm,am,om,Wi,io,nb,jt,Ar,ua,Q_,ny;const Qe=class Qe{constructor({data:e,extra:t}){I(this,Ar);I(this,io);I(this,nb);I(this,jt);O(this,io,e),O(this,nb,new TextDecoder),O(this,jt,new DataView(p(this,io))),t&&Object.assign(this,t)}get black(){return D(this,Ar,ua).call(this,0)}get bold(){return D(this,Ar,ua).call(this,1)}get disableFontFace(){return D(this,Ar,ua).call(this,2)}get fontExtraProperties(){return D(this,Ar,ua).call(this,3)}get isInvalidPDFjsFont(){return D(this,Ar,ua).call(this,4)}get isType3Font(){return D(this,Ar,ua).call(this,5)}get italic(){return D(this,Ar,ua).call(this,6)}get missingFile(){return D(this,Ar,ua).call(this,7)}get remeasure(){return D(this,Ar,ua).call(this,8)}get vertical(){return D(this,Ar,ua).call(this,9)}get ascent(){return D(this,Ar,Q_).call(this,0)}get defaultWidth(){return D(this,Ar,Q_).call(this,1)}get descent(){return D(this,Ar,Q_).call(this,2)}get bbox(){let e=p(Qe,sm);if(p(this,jt).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<4;i++)n.push(p(this,jt).getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=p(Qe,am);if(p(this,jt).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<6;i++)n.push(p(this,jt).getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=p(Qe,om);if(p(this,jt).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<3;i++)n.push(p(this,jt).getInt16(e,!0)),e+=2;return n}get fallbackName(){return D(this,Ar,ny).call(this,0)}get loadedName(){return D(this,Ar,ny).call(this,1)}get mimetype(){return D(this,Ar,ny).call(this,2)}get name(){return D(this,Ar,ny).call(this,3)}get data(){let e=p(Qe,Wi);const t=p(this,jt).getUint32(e);e+=4+t;const n=p(this,jt).getUint32(e);e+=4+n;const i=p(this,jt).getUint32(e);e+=4+i;const s=p(this,jt).getUint32(e);if(s!==0)return new Uint8Array(p(this,io),e+4,s)}clearData(){let e=p(Qe,Wi);const t=p(this,jt).getUint32(e);e+=4+t;const n=p(this,jt).getUint32(e);e+=4+n;const i=p(this,jt).getUint32(e);e+=4+i;const s=p(this,jt).getUint32(e);new Uint8Array(p(this,io),e+4,s).fill(0),p(this,jt).setUint32(e,0)}get cssFontInfo(){let e=p(Qe,Wi);const t=p(this,jt).getUint32(e);e+=4+t;const n=p(this,jt).getUint32(e);e+=4+n;const i=p(this,jt).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(p(this,io),e+4,i)),new W1(s.buffer)}get systemFontInfo(){let e=p(Qe,Wi);const t=p(this,jt).getUint32(e);e+=4+t;const n=p(this,jt).getUint32(e);if(n===0)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(p(this,io),e+4,n)),new V1(i.buffer)}static write(e){const t=e.systemFontInfo?V1.write(e.systemFontInfo):null,n=e.cssFontInfo?W1.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const y of Qe.strings)s[y]=i.encode(e[y]),a+=4+s[y].length;const o=p(Qe,Wi)+4+a+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),d=new DataView(l);let f=0;const m=Qe.bools.length;let g=0,x=0;for(let y=0;y<m;y++){const b=e[Qe.bools[y]];g|=(b===void 0?0:b?2:1)<<x,x+=2,(x===8||y===m-1)&&(d.setUint8(f++,g),g=0,x=0)}ct(f===p(Qe,im),"FontInfo.write: Boolean properties offset mismatch");for(const y of Qe.numbers)d.setFloat64(f,e[y]),f+=8;if(ct(f===p(Qe,sm),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(f++,4);for(const y of e.bbox)d.setInt16(f,y,!0),f+=2}else d.setUint8(f++,0),f+=8;if(ct(f===p(Qe,am),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(f++,6);for(const y of e.fontMatrix)d.setFloat64(f,y,!0),f+=8}else d.setUint8(f++,0),f+=48;if(ct(f===p(Qe,om),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(f++,1);for(const y of e.defaultVMetrics)d.setInt16(f,y,!0),f+=2}else d.setUint8(f++,0),f+=6;ct(f===p(Qe,Wi),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(p(Qe,Wi),0),f+=4;for(const y of Qe.strings){const b=s[y],_=b.length;d.setUint32(f,_),c.set(b,f+4),f+=4+_}if(d.setUint32(p(Qe,Wi),f-p(Qe,Wi)-4),!t)d.setUint32(f,0),f+=4;else{const y=t.byteLength;d.setUint32(f,y),ct(f+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(t),f+4),f+=4+y}if(!n)d.setUint32(f,0),f+=4;else{const y=n.byteLength;d.setUint32(f,y),ct(f+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(n),f+4),f+=4+y}return e.data===void 0?(d.setUint32(f,0),f+=4):(d.setUint32(f,e.data.length),c.set(e.data,f+4),f+=4+e.data.length),ct(f<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(f)}};im=new WeakMap,sm=new WeakMap,am=new WeakMap,om=new WeakMap,Wi=new WeakMap,io=new WeakMap,nb=new WeakMap,jt=new WeakMap,Ar=new WeakSet,ua=function(e){ct(e<Qe.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,i=p(this,jt).getUint8(t)>>n&3;return i===0?void 0:i===2},Q_=function(e){return ct(e<Qe.numbers.length,"Invalid number index"),p(this,jt).getFloat64(p(Qe,im)+e*8)},ny=function(e){ct(e<Qe.strings.length,"Invalid string index");let t=p(Qe,Wi)+4;for(let s=0;s<e;s++)t+=p(this,jt).getUint32(t)+4;const n=p(this,jt).getUint32(t),i=new Uint8Array(n);return i.set(new Uint8Array(p(this,io),t+4,n)),p(this,nb).decode(i)},he(Qe,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),he(Qe,"numbers",["ascent","defaultWidth","descent"]),he(Qe,"strings",["fallbackName","loadedName","mimetype","name"]),I(Qe,im,Math.ceil(Qe.bools.length*2/8)),I(Qe,sm,p(Qe,im)+Qe.numbers.length*8),I(Qe,am,p(Qe,sm)+1+8),I(Qe,om,p(Qe,am)+1+48),I(Qe,Wi,p(Qe,om)+1+6);let qR=Qe;var ib,sb,ab,ob,lb,cb,ub,db;const Vt=class Vt{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,n=null,i=[],s=[],a=[],o=[],l=null,c=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,n=e[2],a=e[3],t===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],n=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(i.length/2),f=Math.floor(s.length/3),m=a.length,g=o.length;let x=0;for(const k of o)x+=1,x=Math.ceil(x/4)*4,x+=4+k.coords.length*4,x+=4+k.colors.length*4,k.verticesPerRow!==void 0&&(x+=4);const y=20+d*8+f*3+m*8+(n?16:0)+(c?3:0)+x,b=new ArrayBuffer(y),_=new DataView(b),E=new Uint8Array(b);_.setUint8(p(Vt,ib),t),_.setUint8(p(Vt,sb),n?1:0),_.setUint8(p(Vt,ab),c?1:0),_.setUint8(p(Vt,ob),l),_.setUint32(p(Vt,lb),d,!0),_.setUint32(p(Vt,cb),f,!0),_.setUint32(p(Vt,ub),m,!0),_.setUint32(p(Vt,db),g,!0);let A=20;new Float32Array(b,A,d*2).set(i),A+=d*8,E.set(s,A),A+=f*3;for(const[k,P]of a)_.setFloat32(A,k,!0),A+=4,_.setUint32(A,parseInt(P.slice(1),16),!0),A+=4;if(n)for(const k of n)_.setFloat32(A,k,!0),A+=4;c&&(E.set(c,A),A+=3);for(let k=0;k<o.length;k++){const P=o[k];_.setUint8(A,P.type),A+=1,A=Math.ceil(A/4)*4,_.setUint32(A,P.coords.length,!0),A+=4,new Int32Array(b,A,P.coords.length).set(P.coords),A+=P.coords.length*4,_.setUint32(A,P.colors.length,!0),A+=4,new Int32Array(b,A,P.colors.length).set(P.colors),A+=P.colors.length*4,P.verticesPerRow!==void 0&&(_.setUint32(A,P.verticesPerRow,!0),A+=4)}return b}getIR(){const e=this.view,t=this.data[p(Vt,ib)],n=!!this.data[p(Vt,sb)],i=!!this.data[p(Vt,ab)],s=e.getUint32(p(Vt,lb),!0),a=e.getUint32(p(Vt,cb),!0),o=e.getUint32(p(Vt,ub),!0),l=e.getUint32(p(Vt,db),!0);let c=20;const d=new Float32Array(this.buffer,c,s*2);c+=s*8;const f=new Uint8Array(this.buffer,c,a*3);c+=a*3;const m=[];for(let b=0;b<o;++b){const _=e.getFloat32(c,!0);c+=4;const E=e.getUint32(c,!0);c+=4,m.push([_,`#${E.toString(16).padStart(6,"0")}`])}let g=null;if(n){g=[];for(let b=0;b<4;++b)g.push(e.getFloat32(c,!0)),c+=4}let x=null;i&&(x=new Uint8Array(this.buffer,c,3),c+=3);const y=[];for(let b=0;b<l;++b){const _=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const E=e.getUint32(c,!0);c+=4;const A=new Int32Array(this.buffer,c,E);c+=E*4;const C=e.getUint32(c,!0);c+=4;const k=new Int32Array(this.buffer,c,C);c+=C*4;const P={type:_,coords:A,colors:k};_===xR.LATTICE&&(P.verticesPerRow=e.getUint32(c,!0),c+=4),y.push(P)}if(t===1)return["RadialAxial","axial",g,m,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",g,m,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(t===3){const b=this.data[p(Vt,ob)];let _=null;if(d.length>0){let E=d[0],A=d[0],C=d[1],k=d[1];for(let P=0;P<d.length;P+=2){const j=d[P],M=d[P+1];E=E>j?j:E,C=C>M?M:C,A=A<j?j:A,k=k<M?M:k}_=[E,C,A,k]}return["Mesh",b,d,f,y,_,g,x]}throw new Error(`Unsupported pattern kind: ${t}`)}};ib=new WeakMap,sb=new WeakMap,ab=new WeakMap,ob=new WeakMap,lb=new WeakMap,cb=new WeakMap,ub=new WeakMap,db=new WeakMap,I(Vt,ib,0),I(Vt,sb,1),I(Vt,ab,2),I(Vt,ob,3),I(Vt,lb,4),I(Vt,cb,8),I(Vt,ub,12),I(Vt,db,16);let HR=Vt;var lm;class xce{constructor(e){I(this,lm);O(this,lm,e)}static write(e){let t,n;return en.isFloat16ArraySupported?(n=new ArrayBuffer(e.length*2),t=new Float16Array(n)):(n=new ArrayBuffer(e.length*4),t=new Float32Array(n)),t.set(e),n}get path(){return en.isFloat16ArraySupported?new Float16Array(p(this,lm)):new Float32Array(p(this,lm))}}lm=new WeakMap;function _ce(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(li)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Sce(r){if(li&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return Cw(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function p_(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const WR=r=>typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0,Ace=r=>typeof r=="object"&&typeof(r==null?void 0:r.name)=="string",Ece=ice.bind(null,WR,Ace);var dl,iA;class kce{constructor(){I(this,dl,new Map);I(this,iA,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};p(this,iA).then(()=>{for(const[i]of p(this,dl))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Ve("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}p(this,dl).set(t,i)}removeEventListener(e,t){const n=p(this,dl).get(t);n==null||n(),p(this,dl).delete(t)}terminate(){for(const[,e]of p(this,dl))e==null||e();p(this,dl).clear()}}dl=new WeakMap,iA=new WeakMap;const m_={DATA:1,ERROR:2},Ir={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function HB(){}function bi(r){if(r instanceof Iu||r instanceof _R||r instanceof DB||r instanceof U1||r instanceof IC)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||zt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Iu(r.message);case"InvalidPDFException":return new _R(r.message);case"PasswordException":return new DB(r.message,r.code);case"ResponseException":return new U1(r.message,r.status,r.missing);case"UnknownErrorException":return new IC(r.message,r.details)}return new IC(r.message,r.toString())}var cm,Ys,AV,EV,kV,Z_;class iy{constructor(e,t,n){I(this,Ys);I(this,cm,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",D(this,Ys,AV).bind(this),{signal:p(this,cm).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),d.promise},pull:c=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:Ir.PULL,streamId:s,desiredSize:c.desiredSize}),d.promise},cancel:c=>{ct(c instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Ir.CANCEL,streamId:s,reason:bi(c)}),d.promise}},n)}destroy(){var e;(e=p(this,cm))==null||e.abort(),O(this,cm,null)}}cm=new WeakMap,Ys=new WeakSet,AV=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){D(this,Ys,kV).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===m_.DATA)i.resolve(e.data);else if(e.callback===m_.ERROR)i.reject(bi(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:n,targetName:i,callback:m_.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:i,callback:m_.ERROR,callbackId:e.callbackId,reason:bi(a)})});return}if(e.streamId){D(this,Ys,EV).call(this,e);return}t(e.data)},EV=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,d=1,f){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=d,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:Ir.ENQUEUE,streamId:t,chunk:c},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Ir.CLOSE,streamId:t}),delete a.streamSinks[t])},error(c){ct(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Ir.ERROR,streamId:t,reason:bi(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Ir.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:Ir.START_COMPLETE,streamId:t,reason:bi(c)})})},kV=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Ir.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(bi(e.reason));break;case Ir.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(bi(e.reason));break;case Ir.PULL:if(!o){s.postMessage({sourceName:n,targetName:i,stream:Ir.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||HB).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Ir.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:Ir.PULL_COMPLETE,streamId:t,reason:bi(c)})});break;case Ir.ENQUEUE:if(ct(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Ir.CLOSE:if(ct(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),D(this,Ys,Z_).call(this,a,t);break;case Ir.ERROR:ct(a,"error should have stream controller"),a.controller.error(bi(e.reason)),D(this,Ys,Z_).call(this,a,t);break;case Ir.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(bi(e.reason)),D(this,Ys,Z_).call(this,a,t);break;case Ir.CANCEL:if(!o)break;const l=bi(e.reason);Promise.try(o.onCancel||HB,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Ir.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:Ir.CANCEL_COMPLETE,streamId:t,reason:bi(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Z_=async function(e,t){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var hb;class CV{constructor({enableHWA:e=!1}){I(this,hb,!1);O(this,hb,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!p(this,hb)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){zt("Abstract method `_createCanvas` called.")}}hb=new WeakMap;class Cce extends CV{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class TV{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){zt("Abstract method `_fetch` called.")}}class WB extends TV{async _fetch(e){const t=await Tw(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Cw(t)}}class PV{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(e=!1){}}var sh,um,hl,fl,Wn,ah,oh,Ee,Un,sy,cp,e1,up,OV,VR,dp,ay,oy,GR,ly;class Tce extends PV{constructor({docId:t,ownerDocument:n=globalThis.document}){super();I(this,Ee);I(this,sh);I(this,um);I(this,hl);I(this,fl);I(this,Wn);I(this,ah);I(this,oh,0);O(this,fl,t),O(this,Wn,n)}addFilter(t){if(!t)return"none";let n=p(this,Ee,Un).get(t);if(n)return n;const[i,s,a]=D(this,Ee,e1).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(n=p(this,Ee,Un).get(o),n)return p(this,Ee,Un).set(t,n),n;const l=`g_${p(this,fl)}_transfer_map_${Hr(this,oh)._++}`,c=D(this,Ee,up).call(this,l);p(this,Ee,Un).set(t,c),p(this,Ee,Un).set(o,c);const d=D(this,Ee,dp).call(this,l);return D(this,Ee,oy).call(this,i,s,a,d),c}addHCMFilter(t,n){var x;const i=`${t}-${n}`,s="base";let a=p(this,Ee,sy).get(s);if((a==null?void 0:a.key)===i||(a?((x=a.filter)==null||x.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},p(this,Ee,sy).set(s,a)),!t||!n))return a.url;const o=D(this,Ee,ly).call(this,t);t=Se.makeHexColor(...o);const l=D(this,Ee,ly).call(this,n);if(n=Se.makeHexColor(...l),p(this,Ee,cp).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return a.url;const c=new Array(256);for(let y=0;y<=255;y++){const b=y/255;c[y]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=c.join(","),f=`g_${p(this,fl)}_hcm_filter`,m=a.filter=D(this,Ee,dp).call(this,f);D(this,Ee,oy).call(this,d,d,d,m),D(this,Ee,VR).call(this,m);const g=(y,b)=>{const _=o[y]/255,E=l[y]/255,A=new Array(b+1);for(let C=0;C<=b;C++)A[C]=_+C/b*(E-_);return A.join(",")};return D(this,Ee,oy).call(this,g(0,5),g(1,5),g(2,5),m),a.url=D(this,Ee,up).call(this,f),a.url}addAlphaFilter(t){let n=p(this,Ee,Un).get(t);if(n)return n;const[i]=D(this,Ee,e1).call(this,[t]),s=`alpha_${i}`;if(n=p(this,Ee,Un).get(s),n)return p(this,Ee,Un).set(t,n),n;const a=`g_${p(this,fl)}_alpha_map_${Hr(this,oh)._++}`,o=D(this,Ee,up).call(this,a);p(this,Ee,Un).set(t,o),p(this,Ee,Un).set(s,o);const l=D(this,Ee,dp).call(this,a);return D(this,Ee,GR).call(this,i,l),o}addLuminosityFilter(t){let n=p(this,Ee,Un).get(t||"luminosity");if(n)return n;let i,s;if(t?([i]=D(this,Ee,e1).call(this,[t]),s=`luminosity_${i}`):s="luminosity",n=p(this,Ee,Un).get(s),n)return p(this,Ee,Un).set(t,n),n;const a=`g_${p(this,fl)}_luminosity_map_${Hr(this,oh)._++}`,o=D(this,Ee,up).call(this,a);p(this,Ee,Un).set(t,o),p(this,Ee,Un).set(s,o);const l=D(this,Ee,dp).call(this,a);return D(this,Ee,OV).call(this,l),t&&D(this,Ee,GR).call(this,i,l),o}addHighlightHCMFilter(t,n,i,s,a){var E;const o=`${n}-${i}-${s}-${a}`;let l=p(this,Ee,sy).get(t);if((l==null?void 0:l.key)===o||(l?((E=l.filter)==null||E.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},p(this,Ee,sy).set(t,l)),!n||!i))return l.url;const[c,d]=[n,i].map(D(this,Ee,ly).bind(this));let f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),m=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[g,x]=[s,a].map(D(this,Ee,ly).bind(this));m<f&&([f,m,g,x]=[m,f,x,g]),p(this,Ee,cp).style.color="";const y=(A,C,k)=>{const P=new Array(256),j=(m-f)/k,M=A/255,$=(C-A)/(255*k);let U=0;for(let F=0;F<=k;F++){const z=Math.round(f+F*j),V=M+F*$;for(let X=U;X<=z;X++)P[X]=V;U=z+1}for(let F=U;F<256;F++)P[F]=P[U-1];return P.join(",")},b=`g_${p(this,fl)}_hcm_${t}_filter`,_=l.filter=D(this,Ee,dp).call(this,b);return D(this,Ee,VR).call(this,_),D(this,Ee,oy).call(this,y(g[0],x[0],5),y(g[1],x[1],5),y(g[2],x[2],5),_),l.url=D(this,Ee,up).call(this,b),l.url}destroy(t=!1){var n,i,s,a;t&&((n=p(this,ah))!=null&&n.size)||((i=p(this,hl))==null||i.parentNode.parentNode.remove(),O(this,hl,null),(s=p(this,um))==null||s.clear(),O(this,um,null),(a=p(this,ah))==null||a.clear(),O(this,ah,null),O(this,oh,0))}}sh=new WeakMap,um=new WeakMap,hl=new WeakMap,fl=new WeakMap,Wn=new WeakMap,ah=new WeakMap,oh=new WeakMap,Ee=new WeakSet,Un=function(){return p(this,um)||O(this,um,new Map)},sy=function(){return p(this,ah)||O(this,ah,new Map)},cp=function(){if(!p(this,hl)){const t=p(this,Wn).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=p(this,Wn).createElementNS(Go,"svg");i.setAttribute("width",0),i.setAttribute("height",0),O(this,hl,p(this,Wn).createElementNS(Go,"defs")),t.append(i),i.append(p(this,hl)),p(this,Wn).body.append(t)}return p(this,hl)},e1=function(t){if(t.length===1){const c=t[0],d=new Array(256);for(let m=0;m<256;m++)d[m]=c[m]/255;const f=d.join(",");return[f,f,f]}const[n,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=n[c]/255,o[c]=i[c]/255,l[c]=s[c]/255;return[a.join(","),o.join(","),l.join(",")]},up=function(t){if(p(this,sh)===void 0){O(this,sh,"");const n=p(this,Wn).URL;n!==p(this,Wn).baseURI&&(jA(n)?Ve('#createUrl: ignore "data:"-URL for performance reasons.'):O(this,sh,LW(n,"")))}return`url(${p(this,sh)}#${t})`},OV=function(t){const n=p(this,Wn).createElementNS(Go,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},VR=function(t){const n=p(this,Wn).createElementNS(Go,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},dp=function(t){const n=p(this,Wn).createElementNS(Go,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),p(this,Ee,cp).append(n),n},ay=function(t,n,i){const s=p(this,Wn).createElementNS(Go,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},oy=function(t,n,i,s){const a=p(this,Wn).createElementNS(Go,"feComponentTransfer");s.append(a),D(this,Ee,ay).call(this,a,"feFuncR",t),D(this,Ee,ay).call(this,a,"feFuncG",n),D(this,Ee,ay).call(this,a,"feFuncB",i)},GR=function(t,n){const i=p(this,Wn).createElementNS(Go,"feComponentTransfer");n.append(i),D(this,Ee,ay).call(this,i,"feFuncA",t)},ly=function(t){return p(this,Ee,cp).style.color=t,Ow(getComputedStyle(p(this,Ee,cp)).getPropertyValue("color"))};class NV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){zt("Abstract method `_fetch` called.")}}class VB extends NV{async _fetch(e){const t=await Tw(e,"arraybuffer");return new Uint8Array(t)}}class RV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){zt("Abstract method `_fetch` called.")}}class GB extends RV{async _fetch(e){const t=await Tw(e,"arraybuffer");return new Uint8Array(t)}}li&&Ve("Please use the `legacy` build in Node.js environments.");async function YI(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class Pce extends PV{}class Oce extends CV{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Nce extends TV{async _fetch(e){return YI(e)}}class Rce extends NV{async _fetch(e){return YI(e)}}class jce extends RV{async _fetch(e){return YI(e)}}const Zf="__forcedDependency",{floor:KB,ceil:YB}=Math;function g_(r,e,t,n,i,s){r[e*4+0]=Math.min(r[e*4+0],t),r[e*4+1]=Math.min(r[e*4+1],n),r[e*4+2]=Math.max(r[e*4+2],i),r[e*4+3]=Math.max(r[e*4+3],s)}const KR=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var dm,ru;class Ice{constructor(e,t){I(this,dm);I(this,ru);O(this,dm,e),O(this,ru,t)}get length(){return p(this,dm).length}isEmpty(e){return p(this,dm)[e]===KR}minX(e){return p(this,ru)[e*4+0]/256}minY(e){return p(this,ru)[e*4+1]/256}maxX(e){return(p(this,ru)[e*4+2]+1)/256}maxY(e){return(p(this,ru)[e*4+3]+1)/256}}dm=new WeakMap,ru=new WeakMap;const v_=(r,e)=>{if(!r)return;let t=r.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},r.set(e,t)),t};var _i,Si,lh,va,ch,pl,Ot,It,ml,Ai,fb,hm,uh,dh,gl,Vn,so,pb,YR;class Mce{constructor(e,t,n=!1){I(this,pb);I(this,_i,{__proto__:null});I(this,Si,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Zf]:[]});I(this,lh,new Map);I(this,va,[]);I(this,ch,[]);I(this,pl,[[1,0,0,1,0,0]]);I(this,Ot,[-1/0,-1/0,1/0,1/0]);I(this,It,new Float64Array([1/0,1/0,-1/0,-1/0]));I(this,ml,-1);I(this,Ai,new Set);I(this,fb,new Map);I(this,hm,new Map);I(this,uh);I(this,dh);I(this,gl);I(this,Vn);I(this,so);O(this,uh,e.width),O(this,dh,e.height),D(this,pb,YR).call(this,t),n&&O(this,so,new Map)}growOperationsCount(e){e>=p(this,Vn).length&&D(this,pb,YR).call(this,e,p(this,Vn))}save(e){return O(this,_i,{__proto__:p(this,_i)}),O(this,Si,{__proto__:p(this,Si),transform:{__proto__:p(this,Si).transform},moveText:{__proto__:p(this,Si).moveText},sameLineText:{__proto__:p(this,Si).sameLineText},[Zf]:{__proto__:p(this,Si)[Zf]}}),O(this,Ot,{__proto__:p(this,Ot)}),p(this,va).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(p(this,_i));if(t===null)return this;O(this,_i,t),O(this,Si,Object.getPrototypeOf(p(this,Si))),O(this,Ot,Object.getPrototypeOf(p(this,Ot)));const n=p(this,va).pop();return n!==void 0&&((i=v_(p(this,so),e))==null||i.dependencies.add(n),p(this,Vn)[e]=p(this,Vn)[n]),this}recordOpenMarker(e){return p(this,va).push(e),this}getOpenMarker(){return p(this,va).length===0?null:p(this,va).at(-1)}recordCloseMarker(e){var n;const t=p(this,va).pop();return t!==void 0&&((n=v_(p(this,so),e))==null||n.dependencies.add(t),p(this,Vn)[e]=p(this,Vn)[t]),this}beginMarkedContent(e){return p(this,ch).push(e),this}endMarkedContent(e){var n;const t=p(this,ch).pop();return t!==void 0&&((n=v_(p(this,so),e))==null||n.dependencies.add(t),p(this,Vn)[e]=p(this,Vn)[t]),this}pushBaseTransform(e){return p(this,pl).push(Se.multiplyByDOMMatrix(p(this,pl).at(-1),e.getTransform())),this}popBaseTransform(){return p(this,pl).length>1&&p(this,pl).pop(),this}recordSimpleData(e,t){return p(this,_i)[e]=t,this}recordIncrementalData(e,t){return p(this,Si)[e].push(t),this}resetIncrementalData(e,t){return p(this,Si)[e].length=0,this}recordNamedData(e,t){return p(this,lh).set(e,t),this}recordSimpleDataFromNamed(e,t,n){p(this,_i)[e]=p(this,lh).get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Zf,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in p(this,_i)&&this.recordFutureForcedDependency(t,p(this,_i)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of p(this,Ai))this.recordFutureForcedDependency(Zf,e);return this}resetBBox(e){return p(this,ml)!==e&&(O(this,ml,e),p(this,It)[0]=1/0,p(this,It)[1]=1/0,p(this,It)[2]=-1/0,p(this,It)[3]=-1/0),this}recordClipBox(e,t,n,i,s,a){const o=Se.multiplyByDOMMatrix(p(this,pl).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Se.axialAlignedBoundingBox([n,s,i,a],o,l);const c=Se.intersect(p(this,Ot),l);return c?(p(this,Ot)[0]=c[0],p(this,Ot)[1]=c[1],p(this,Ot)[2]=c[2],p(this,Ot)[3]=c[3]):(p(this,Ot)[0]=p(this,Ot)[1]=1/0,p(this,Ot)[2]=p(this,Ot)[3]=-1/0),this}recordBBox(e,t,n,i,s,a){const o=p(this,Ot);if(o[0]===1/0)return this;const l=Se.multiplyByDOMMatrix(p(this,pl).at(-1),t.getTransform());if(o[0]===-1/0)return Se.axialAlignedBoundingBox([n,s,i,a],l,p(this,It)),this;const c=[1/0,1/0,-1/0,-1/0];return Se.axialAlignedBoundingBox([n,s,i,a],l,c),p(this,It)[0]=Math.min(p(this,It)[0],Math.max(c[0],o[0])),p(this,It)[1]=Math.min(p(this,It)[1],Math.max(c[1],o[1])),p(this,It)[2]=Math.max(p(this,It)[2],Math.min(c[2],o[2])),p(this,It)[3]=Math.max(p(this,It)[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,t,n,i=1,s=0,a=0,o){const l=n.bbox;let c,d;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&p(this,hm).get(n),c!==!1&&(d=[0,0,0,0],Se.axialAlignedBoundingBox(l,n.fontMatrix,d),(i!==1||s!==0||a!==0)&&Se.scaleMinMax([i,0,0,-i,s,a],d),c)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const f=o();return l&&d&&c===void 0&&(c=d[0]<=s-f.actualBoundingBoxLeft&&d[2]>=s+f.actualBoundingBoxRight&&d[1]<=a-f.actualBoundingBoxAscent&&d[3]>=a+f.actualBoundingBoxDescent,p(this,hm).set(n,c),c)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-f.actualBoundingBoxLeft,s+f.actualBoundingBoxRight,a-f.actualBoundingBoxAscent,a+f.actualBoundingBoxDescent)}recordFullPageBBox(e){return p(this,It)[0]=Math.max(0,p(this,Ot)[0]),p(this,It)[1]=Math.max(0,p(this,Ot)[1]),p(this,It)[2]=Math.min(p(this,uh),p(this,Ot)[2]),p(this,It)[3]=Math.min(p(this,dh),p(this,Ot)[3]),this}getSimpleIndex(e){return p(this,_i)[e]}recordDependencies(e,t){const n=p(this,Ai),i=p(this,_i),s=p(this,Si);for(const a of t)a in p(this,_i)?n.add(i[a]):a in s&&s[a].forEach(n.add,n);return this}recordNamedDependency(e,t){return p(this,lh).has(t)&&p(this,Ai).add(p(this,lh).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Zf]),p(this,so)){const n=v_(p(this,so),e),{dependencies:i}=n;p(this,Ai).forEach(i.add,i),p(this,va).forEach(i.add,i),p(this,ch).forEach(i.add,i),i.delete(e),n.isRenderingOperation=!0}if(p(this,ml)===e){const n=KB(p(this,It)[0]*256/p(this,uh)),i=KB(p(this,It)[1]*256/p(this,dh)),s=YB(p(this,It)[2]*256/p(this,uh)),a=YB(p(this,It)[3]*256/p(this,dh));g_(p(this,gl),e,n,i,s,a);for(const o of p(this,Ai))o!==e&&g_(p(this,gl),o,n,i,s,a);for(const o of p(this,va))o!==e&&g_(p(this,gl),o,n,i,s,a);for(const o of p(this,ch))o!==e&&g_(p(this,gl),o,n,i,s,a);t||(p(this,Ai).clear(),O(this,ml,-1))}return this}recordShowTextOperation(e,t=!1){const n=Array.from(p(this,Ai));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return p(this,ml)===e&&(O(this,ml,-1),p(this,Ot)[0]=Math.max(p(this,Ot)[0],p(this,It)[0]),p(this,Ot)[1]=Math.max(p(this,Ot)[1],p(this,It)[1]),p(this,Ot)[2]=Math.min(p(this,Ot)[2],p(this,It)[2]),p(this,Ot)[3]=Math.min(p(this,Ot)[3],p(this,It)[3]),t||p(this,Ai).clear()),this}_takePendingDependencies(){const e=p(this,Ai);return O(this,Ai,new Set),e}_extractOperation(e){const t=p(this,fb).get(e);return p(this,fb).delete(e),t}_pushPendingDependencies(e){for(const t of e)p(this,Ai).add(t)}take(){return p(this,hm).clear(),new Ice(p(this,Vn),p(this,gl))}takeDebugMetadata(){return p(this,so)}}_i=new WeakMap,Si=new WeakMap,lh=new WeakMap,va=new WeakMap,ch=new WeakMap,pl=new WeakMap,Ot=new WeakMap,It=new WeakMap,ml=new WeakMap,Ai=new WeakMap,fb=new WeakMap,hm=new WeakMap,uh=new WeakMap,dh=new WeakMap,gl=new WeakMap,Vn=new WeakMap,so=new WeakMap,pb=new WeakSet,YR=function(e,t){const n=new ArrayBuffer(e*4);O(this,gl,new Uint8ClampedArray(n)),O(this,Vn,new Uint32Array(n)),t&&t.length>0?(p(this,Vn).set(t),p(this,Vn).fill(KR,t.length)):p(this,Vn).fill(KR)};var Bt,wr,ya,fm,pm;const hD=class hD{constructor(e,t,n){I(this,Bt);I(this,wr);I(this,ya);I(this,fm,0);I(this,pm,0);if(e instanceof hD&&p(e,ya)===!!n)return e;O(this,Bt,e),O(this,wr,t),O(this,ya,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Hr(this,pm)._++,p(this,Bt).save(p(this,wr)),this}restore(e){return p(this,pm)>0&&(p(this,Bt).restore(p(this,wr)),Hr(this,pm)._--),this}recordOpenMarker(e){return Hr(this,fm)._++,this}getOpenMarker(){return p(this,fm)>0?p(this,wr):p(this,Bt).getOpenMarker()}recordCloseMarker(e){return Hr(this,fm)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return p(this,Bt).pushBaseTransform(e),this}popBaseTransform(){return p(this,Bt).popBaseTransform(),this}recordSimpleData(e,t){return p(this,Bt).recordSimpleData(e,p(this,wr)),this}recordIncrementalData(e,t){return p(this,Bt).recordIncrementalData(e,p(this,wr)),this}resetIncrementalData(e,t){return p(this,Bt).resetIncrementalData(e,p(this,wr)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return p(this,Bt).recordSimpleDataFromNamed(e,t,p(this,wr)),this}recordFutureForcedDependency(e,t){return p(this,Bt).recordFutureForcedDependency(e,p(this,wr)),this}inheritSimpleDataAsFutureForcedDependencies(e){return p(this,Bt).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return p(this,Bt).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return p(this,ya)||p(this,Bt).resetBBox(p(this,wr)),this}recordClipBox(e,t,n,i,s,a){return p(this,ya)||p(this,Bt).recordClipBox(p(this,wr),t,n,i,s,a),this}recordBBox(e,t,n,i,s,a){return p(this,ya)||p(this,Bt).recordBBox(p(this,wr),t,n,i,s,a),this}recordCharacterBBox(e,t,n,i,s,a,o){return p(this,ya)||p(this,Bt).recordCharacterBBox(p(this,wr),t,n,i,s,a,o),this}recordFullPageBBox(e){return p(this,ya)||p(this,Bt).recordFullPageBBox(p(this,wr)),this}getSimpleIndex(e){return p(this,Bt).getSimpleIndex(e)}recordDependencies(e,t){return p(this,Bt).recordDependencies(p(this,wr),t),this}recordNamedDependency(e,t){return p(this,Bt).recordNamedDependency(p(this,wr),t),this}recordOperation(e){return p(this,Bt).recordOperation(p(this,wr),!0),this}recordShowTextOperation(e){return p(this,Bt).recordShowTextOperation(p(this,wr),!0),this}bboxToClipBoxDropOperation(e){return p(this,ya)||p(this,Bt).bboxToClipBoxDropOperation(p(this,wr),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Bt=new WeakMap,wr=new WeakMap,ya=new WeakMap,fm=new WeakMap,pm=new WeakMap;let G1=hD;const Ps={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Pn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function XR(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),r.clip(i)}class XI{isModifyingCurrentTransform(){return!1}getPattern(){zt("Abstract method `getPattern` called.")}}class Dce extends XI{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,t=null){let n,i=this._p0,s=this._p1;if(t&&(i=i.slice(),s=s.slice(),Se.applyTransform(i,t),Se.applyTransform(s,t)),this._type==="axial")n=e.createLinearGradient(i[0],i[1],s[0],s[1]);else if(this._type==="radial"){let a=this._r0,o=this._r1;if(t){const l=new Float32Array(2);Se.singularValueDecompose2dScale(t,l),a*=l[0],o*=l[0]}n=e.createRadialGradient(i[0],i[1],a,s[0],s[1],o)}for(const a of this._colorStops)n.addColorStop(a[0],a[1]);return n}getPattern(e,t,n,i){let s;if(i===Pn.STROKE||i===Pn.FILL){if(this.isOriginBased()){let m=Se.transform(n,t.baseTransform);this.matrix&&(m=Se.transform(m,this.matrix));const g=.001,x=Math.hypot(m[0],m[1]),y=Math.hypot(m[2],m[3]),b=(m[0]*m[2]+m[1]*m[3])/(x*y);if(Math.abs(b)<g)if(this.isRadial()){if(Math.abs(x-y)<g)return this._createGradient(e,m)}else return this._createGradient(e,m)}const a=t.current.getClippedPathBoundingBox(i,fr(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=t.cachedCanvases.getCanvas("pattern",o,l),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),n=Se.transform(n,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),XR(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(c.canvas,"no-repeat");const f=new DOMMatrix(n);s.setTransform(f)}else XR(e,this._bbox),s=this._createGradient(e);return s}}function LC(r,e,t,n,i,s,a,o){const l=e.coords,c=e.colors,d=r.data,f=r.width*4;let m;l[t+1]>l[n+1]&&(m=t,t=n,n=m,m=s,s=a,a=m),l[n+1]>l[i+1]&&(m=n,n=i,i=m,m=a,a=o,o=m),l[t+1]>l[n+1]&&(m=t,t=n,n=m,m=s,s=a,a=m);const g=(l[t]+e.offsetX)*e.scaleX,x=(l[t+1]+e.offsetY)*e.scaleY,y=(l[n]+e.offsetX)*e.scaleX,b=(l[n+1]+e.offsetY)*e.scaleY,_=(l[i]+e.offsetX)*e.scaleX,E=(l[i+1]+e.offsetY)*e.scaleY;if(x>=E)return;const A=c[s],C=c[s+1],k=c[s+2],P=c[a],j=c[a+1],M=c[a+2],$=c[o],U=c[o+1],F=c[o+2],z=Math.round(x),V=Math.round(E);let X,J,H,G,B,ee,ne,q;for(let Y=z;Y<=V;Y++){if(Y<b){const oe=Y<x?0:(x-Y)/(x-b);X=g-(g-y)*oe,J=A-(A-P)*oe,H=C-(C-j)*oe,G=k-(k-M)*oe}else{let oe;Y>E?oe=1:b===E?oe=0:oe=(b-Y)/(b-E),X=y-(y-_)*oe,J=P-(P-$)*oe,H=j-(j-U)*oe,G=M-(M-F)*oe}let re;Y<x?re=0:Y>E?re=1:re=(x-Y)/(x-E),B=g-(g-_)*re,ee=A-(A-$)*re,ne=C-(C-U)*re,q=k-(k-F)*re;const ue=Math.round(Math.min(X,B)),me=Math.round(Math.max(X,B));let ge=f*Y+ue*4;for(let oe=ue;oe<=me;oe++)re=(X-oe)/(X-B),re<0?re=0:re>1&&(re=1),d[ge++]=J-(J-ee)*re|0,d[ge++]=H-(H-ne)*re|0,d[ge++]=G-(G-q)*re|0,d[ge++]=255}}function Lce(r,e,t){const n=e.coords,i=e.colors;let s,a;switch(e.type){case xR.LATTICE:const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(s=0;s<l;s++){let d=s*o;for(let f=0;f<c;f++,d++)LC(r,t,n[d],n[d+1],n[d+o],i[d],i[d+1],i[d+o]),LC(r,t,n[d+o+1],n[d+1],n[d+o],i[d+o+1],i[d+1],i[d+o])}break;case xR.TRIANGLES:for(s=0,a=n.length;s<a;s+=3)LC(r,t,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class $ce extends XI{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),g=c/f,x=d/m,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/g,scaleY:1/x},b=f+4,_=m+4,E=n.getCanvas("mesh",b,_),A=E.context,C=A.createImageData(f,m);if(t){const P=C.data;for(let j=0,M=P.length;j<M;j+=4)P[j]=t[0],P[j+1]=t[1],P[j+2]=t[2],P[j+3]=255}for(const P of this._figures)Lce(C,P,y);return A.putImageData(C,2,2),{canvas:E.canvas,offsetX:o-2*g,offsetY:l-2*x,scaleX:g,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){XR(e,this._bbox);const s=new Float32Array(2);if(i===Pn.SHADING)Se.singularValueDecompose2dScale(fr(e),s);else if(this.matrix){Se.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Se.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else Se.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,i===Pn.SHADING?null:this._background,t.cachedCanvases);return i!==Pn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class Fce extends XI{getPattern(){return"hotpink"}}function Bce(r){switch(r[0]){case"RadialAxial":return new Dce(r);case"Mesh":return new $ce(r);case"Dummy":return new Fce}throw new Error(`Unknown IR type: ${r[0]}`)}const XB={COLORED:1,UNCOLORED:2},sA=class sA{constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e,t){var ee,ne;const{bbox:n,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:d}=this;c=Math.abs(c),d=Math.abs(d),RA("TilingType: "+a);const f=n[0],m=n[1],g=n[2],x=n[3],y=g-f,b=x-m,_=new Float32Array(2);Se.singularValueDecompose2dScale(this.matrix,_);const[E,A]=_;Se.singularValueDecompose2dScale(this.baseTransform,_);const C=E*_[0],k=A*_[1];let P=y,j=b,M=!1,$=!1;const U=Math.ceil(c*C),F=Math.ceil(d*k),z=Math.ceil(y*C),V=Math.ceil(b*k);U>=z?P=c:M=!0,F>=V?j=d:$=!0;const X=this.getSizeAndScale(P,this.ctx.canvas.width,C),J=this.getSizeAndScale(j,this.ctx.canvas.height,k),H=e.cachedCanvases.getCanvas("pattern",X.size,J.size),G=H.context,B=l.createCanvasGraphics(G,t);if(B.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(B,s,o),G.translate(-X.scale*f,-J.scale*m),B.transform(0,X.scale,0,0,J.scale,0,0),G.save(),(ee=B.dependencyTracker)==null||ee.save(),this.clipBbox(B,f,m,g,x),B.baseTransform=fr(B.ctx),B.executeOperatorList(i),B.endDrawing(),(ne=B.dependencyTracker)==null||ne.restore(),G.restore(),M||$){const q=H.canvas;M&&(P=c),$&&(j=d);const Y=this.getSizeAndScale(P,this.ctx.canvas.width,C),re=this.getSizeAndScale(j,this.ctx.canvas.height,k),ue=Y.size,me=re.size,ge=e.cachedCanvases.getCanvas("pattern-workaround",ue,me),oe=ge.context,we=M?Math.floor(y/c):0,le=$?Math.floor(b/d):0;for(let pe=0;pe<=we;pe++)for(let be=0;be<=le;be++)oe.drawImage(q,ue*pe,me*be,ue,me,0,0,ue,me);return{canvas:ge.canvas,scaleX:Y.scale,scaleY:re.scale,offsetX:f,offsetY:m}}return{canvas:H.canvas,scaleX:X.scale,scaleY:J.scale,offsetX:f,offsetY:m}}getSizeAndScale(e,t,n){const i=Math.max(sA.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const a=i-t,o=s-n;e.ctx.rect(t,n,a,o),Se.axialAlignedBoundingBox([t,n,i,s],fr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case XB.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case XB.UNCOLORED:i.fillStyle=i.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new Qle(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i,s){let a=n;i!==Pn.SHADING&&(a=Se.transform(a,t.baseTransform),this.matrix&&(a=Se.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};he(sA,"MAX_PATTERN_SIZE",3e3);let JR=sA;function Uce({src:r,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=en.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],d=n>>3,f=n&7,m=r.length;t=new Uint32Array(t.buffer);let g=0;for(let x=0;x<i;x++){for(const b=e+d;e<b;e++){const _=e<m?r[e]:255;t[g++]=_&128?c:l,t[g++]=_&64?c:l,t[g++]=_&32?c:l,t[g++]=_&16?c:l,t[g++]=_&8?c:l,t[g++]=_&4?c:l,t[g++]=_&2?c:l,t[g++]=_&1?c:l}if(f===0)continue;const y=e<m?r[e++]:255;for(let b=0;b<f;b++)t[g++]=y&1<<7-b?c:l}return{srcPos:e,destPos:g}}const JB=16,QB=100,zce=15,ZB=10,Ti=16,$C=new DOMMatrix,cs=new Float32Array(2),vp=new Float32Array([1/0,1/0,-1/0,-1/0]);function qce(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,i,s,a,o){e.transform(t,n,i,s,a,o),this.__originalTransform(t,n,i,s,a,o)},r.setTransform=function(t,n,i,s,a,o){e.setTransform(t,n,i,s,a,o),this.__originalSetTransform(t,n,i,s,a,o)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,i,s,a,o){e.bezierCurveTo(t,n,i,s,a,o),this.__originalBezierCurveTo(t,n,i,s,a,o)},r.rect=function(t,n,i,s){e.rect(t,n,i,s),this.__originalRect(t,n,i,s)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Hce{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function y_(r,e,t,n,i,s,a,o,l,c){const[d,f,m,g,x,y]=fr(r);if(f===0&&m===0){const E=a*d+x,A=Math.round(E),C=o*g+y,k=Math.round(C),P=(a+l)*d+x,j=Math.abs(Math.round(P)-A)||1,M=(o+c)*g+y,$=Math.abs(Math.round(M)-k)||1;return r.setTransform(Math.sign(d),0,0,Math.sign(g),A,k),r.drawImage(e,t,n,i,s,0,0,j,$),r.setTransform(d,f,m,g,x,y),[j,$]}if(d===0&&g===0){const E=o*m+x,A=Math.round(E),C=a*f+y,k=Math.round(C),P=(o+c)*m+x,j=Math.abs(Math.round(P)-A)||1,M=(a+l)*f+y,$=Math.abs(Math.round(M)-k)||1;return r.setTransform(0,Math.sign(f),Math.sign(m),0,A,k),r.drawImage(e,t,n,i,s,0,0,$,j),r.setTransform(d,f,m,g,x,y),[$,j]}r.drawImage(e,t,n,i,s,a,o,l,c);const b=Math.hypot(d,f),_=Math.hypot(m,g);return[b*l,_*c]}class e5{constructor(e,t,n){he(this,"alphaIsShape",!1);he(this,"fontSize",0);he(this,"fontSizeScale",1);he(this,"textMatrix",null);he(this,"textMatrixScale",1);he(this,"fontMatrix",wR);he(this,"leading",0);he(this,"x",0);he(this,"y",0);he(this,"lineX",0);he(this,"lineY",0);he(this,"charSpacing",0);he(this,"wordSpacing",0);he(this,"textHScale",1);he(this,"textRenderingMode",Vr.FILL);he(this,"textRise",0);he(this,"fillColor","#000000");he(this,"strokeColor","#000000");he(this,"patternFill",!1);he(this,"patternStroke",!1);he(this,"fillAlpha",1);he(this,"strokeAlpha",1);he(this,"lineWidth",1);he(this,"activeSMask",null);he(this,"transferMaps","none");n==null||n(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=vp.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Pn.FILL,t=null){const n=this.minMax.slice();if(e===Pn.STROKE){t||zt("Stroke bounding box must include transform."),Se.singularValueDecompose2dScale(t,cs);const i=cs[0]*this.lineWidth/2,s=cs[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const e=Se.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(vp,0)}getClippedPathBoundingBox(e=Pn.FILL,t=null){return Se.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function t5(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%Ti,s=(t-i)/Ti,a=i===0?s:s+1,o=r.createImageData(n,Ti);let l=0,c;const d=e.data,f=o.data;let m,g,x,y;if(e.kind===H_.GRAYSCALE_1BPP){const b=d.byteLength,_=new Uint32Array(f.buffer,0,f.byteLength>>2),E=_.length,A=n+7>>3,C=4294967295,k=en.isLittleEndian?4278190080:255;for(m=0;m<a;m++){for(x=m<s?Ti:i,c=0,g=0;g<x;g++){const P=b-l;let j=0;const M=P>A?n:P*8-7,$=M&-8;let U=0,F=0;for(;j<$;j+=8)F=d[l++],_[c++]=F&128?C:k,_[c++]=F&64?C:k,_[c++]=F&32?C:k,_[c++]=F&16?C:k,_[c++]=F&8?C:k,_[c++]=F&4?C:k,_[c++]=F&2?C:k,_[c++]=F&1?C:k;for(;j<M;j++)U===0&&(F=d[l++],U=128),_[c++]=F&U?C:k,U>>=1}for(;c<E;)_[c++]=0;r.putImageData(o,0,m*Ti)}}else if(e.kind===H_.RGBA_32BPP){for(g=0,y=n*Ti*4,m=0;m<s;m++)f.set(d.subarray(l,l+y)),l+=y,r.putImageData(o,0,g),g+=Ti;m<a&&(y=n*i*4,f.set(d.subarray(l,l+y)),r.putImageData(o,0,g))}else if(e.kind===H_.RGB_24BPP)for(x=Ti,y=n*x,m=0;m<a;m++){for(m>=s&&(x=i,y=n*x),c=0,g=y;g--;)f[c++]=d[l++],f[c++]=d[l++],f[c++]=d[l++],f[c++]=255;r.putImageData(o,0,m*Ti)}else throw new Error(`bad image kind: ${e.kind}`)}function r5(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%Ti,s=(t-i)/Ti,a=i===0?s:s+1,o=r.createImageData(n,Ti);let l=0;const c=e.data,d=o.data;for(let f=0;f<a;f++){const m=f<s?Ti:i;({srcPos:l}=Uce({src:c,srcPos:l,dest:d,width:n,height:m,nonBlackColor:0})),r.putImageData(o,0,f*Ti)}}function Mv(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function b_(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function n5(r,e){if(e)return!0;Se.singularValueDecompose2dScale(r,cs);const t=Math.fround(ko.pixelRatio*Mu.PDF_TO_CSS_UNITS);return cs[0]<=t&&cs[1]<=t}const Wce=["butt","round","square"],Vce=["miter","round","bevel"],Gce={},i5={};var Ia,QR,ZR,e2;const fD=class fD{constructor(e,t,n,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,d){I(this,Ia);this.ctx=e,this.current=new e5(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new Hce(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,n=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...fr(this.compositeCtx))}this.ctx.save(),b_(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=fr(this.ctx)}executeOperatorList(e,t,n,i,s){var _;const a=e.argsArray,o=e.fnArray;let l=t||0;const c=a.length;if(c===l)return l;const d=c-l>ZB&&typeof n=="function",f=d?Date.now()+zce:0;let m=0;const g=this.commonObjs,x=this.objs;let y,b;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if(!s||s(l))if(y=o[l],b=a[l]??null,y!==qy.dependency)b===null?this[y](l):this[y](l,...b);else for(const E of b){(_=this.dependencyTracker)==null||_.recordNamedData(E,l);const A=E.startsWith("g_")?g:x;if(!A.has(E))return A.get(E,n),l}if(l++,l===c)return l;if(d&&++m>ZB){if(Date.now()>f)return n(),l;m=0}}}endDrawing(){D(this,Ia,QR).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),D(this,Ia,ZR).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=n,l=i,c="prescale1",d,f;for(;s>2&&o>1||a>2&&l>1;){let m=o,g=l;s>2&&o>1&&(m=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/m),a>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/g),d=this.cachedCanvases.getCanvas(c,m,g),f=d.context,f.clearRect(0,0,m,g),f.drawImage(e,0,0,o,l,0,0,m,g),e=d.canvas,o=m,l=g,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var U,F;const n=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=fr(n);let c,d,f,m;if((t.bitmap||t.data)&&t.count>1){const z=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(z),c||(c=new Map,this._cachedBitmapsMap.set(z,c));const V=c.get(d);if(V&&!o){const X=Math.round(Math.min(l[0],l[2])+l[4]),J=Math.round(Math.min(l[1],l[3])+l[5]);return(U=this.dependencyTracker)==null||U.recordDependencies(e,Ps.transformAndFill),{canvas:V,offsetX:X,offsetY:J}}f=V}f||(m=this.cachedCanvases.getCanvas("maskCanvas",i,s),r5(m.context,t));let g=Se.transform(l,[1/i,0,0,-1/s,0,0]);g=Se.transform(g,[1,0,0,1,0,-s]);const x=vp.slice();Se.axialAlignedBoundingBox([0,0,i,s],g,x);const[y,b,_,E]=x,A=Math.round(_-y)||1,C=Math.round(E-b)||1,k=this.cachedCanvases.getCanvas("fillCanvas",A,C),P=k.context,j=y,M=b;P.translate(-j,-M),P.transform(...g),f||(f=this._scaleImage(m.canvas,qa(P)),f=f.img,c&&o&&c.set(d,f)),P.imageSmoothingEnabled=n5(fr(P),t.interpolate),y_(P,f,0,0,f.width,f.height,0,0,i,s),P.globalCompositeOperation="source-in";const $=Se.transform(qa(P),[1,0,0,1,-j,-M]);return P.fillStyle=o?a.getPattern(n,this,$,Pn.FILL,e):a,P.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,k.canvas)),(F=this.dependencyTracker)==null||F.recordDependencies(e,Ps.transformAndFill),{canvas:k.canvas,offsetX:Math.round(j),offsetY:Math.round(M)}}setLineWidth(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineCap",e),this.ctx.lineCap=Wce[t]}setLineJoin(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Vce[t]}setMiterLimit(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var n,i,s,a,o;for(const[l,c]of t)switch(l){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(n=this.dependencyTracker)==null||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),Mv(this.suspendedCtx,a),qce(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Mv(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,n,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,a,o,l,c,d,f){let m=e.canvas,g=l-d,x=c-f;if(a)if(g<0||x<0||g+n>m.width||x+i>m.height){const b=this.cachedCanvases.getCanvas("maskExtension",n,i),_=b.context;_.drawImage(m,-g,-x),_.globalCompositeOperation="destination-atop",_.fillStyle=a,_.fillRect(0,0,n,i),_.globalCompositeOperation="source-over",m=b.canvas,g=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(g,x,n,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(g,x,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(l,c,n,i),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(m,g,x,n,i,l,c,n,i),t.restore()}save(e){var n;this.inSMaskMode&&Mv(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(n=this.dependencyTracker)==null||n.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Mv(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,n,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,i){let[s]=n;if(!i){s||(s=n[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===qy.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=n[0]=qW(s)),Se.axialAlignedBoundingBox(i,fr(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,qa(i),Pn.STROKE,e),o){const l=new Path2D;l.addPath(t,i.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,Ps.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Pn.STROKE,fr(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){var c,d,f;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const m=s.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=s.getPattern(i,this,qa(i),Pn.FILL,e),m){const g=new Path2D;g.addPath(t,i.getTransform().invertSelf().multiplySelf(m)),t=g}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,Ps.fill),o&&(i.restore(),(f=this.dependencyTracker)==null||f.restore(e)),n&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var n;this.ctx.fill(t),(n=this.dependencyTracker)==null||n.recordDependencies(e,Ps.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=Gce}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=i5}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=n.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:d}of t)d&&i.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){var f,m;(f=this.dependencyTracker)==null||f.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||wR,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ve("Invalid font matrix for font "+t),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((m=i.systemFontInfo)==null?void 0:m.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let d=n;n<JB?d=JB:n>QB&&(d=QB),this.current.fontSizeScale=n/d,this.ctx.font=`${c} ${l} ${d}px ${o}`}setTextRenderingMode(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,n,i,s,a){var _,E,A,C;const o=this.ctx,l=this.current,c=l.font,d=l.textRenderingMode,f=l.fontSize/l.fontSizeScale,m=d&Vr.FILL_STROKE_MASK,g=!!(d&Vr.ADD_TO_PATH_FLAG),x=l.patternFill&&!c.missingFile,y=l.patternStroke&&!c.missingFile;let b;if((c.disableFontFace||g||x||y)&&!c.missingFile&&(b=c.getPathGenerator(this.commonObjs,t)),b&&(c.disableFontFace||x||y)){o.save(),o.translate(n,i),o.scale(f,-f),(_=this.dependencyTracker)==null||_.recordCharacterBBox(e,o,c);let k;if(m===Vr.FILL||m===Vr.FILL_STROKE)if(s){k=o.getTransform(),o.setTransform(...s);const P=D(this,Ia,e2).call(this,b,k,s);o.fill(P)}else o.fill(b);if(m===Vr.STROKE||m===Vr.FILL_STROKE)if(a){k||(k=o.getTransform()),o.setTransform(...a);const{a:P,b:j,c:M,d:$}=k,U=Se.inverseTransform(a),F=Se.transform([P,j,M,$,0,0],U);Se.singularValueDecompose2dScale(F,cs),o.lineWidth*=Math.max(cs[0],cs[1])/f,o.stroke(D(this,Ia,e2).call(this,b,k,a))}else o.lineWidth/=f,o.stroke(b);o.restore()}else(m===Vr.FILL||m===Vr.FILL_STROKE)&&(o.fillText(t,n,i),(E=this.dependencyTracker)==null||E.recordCharacterBBox(e,o,c,f,n,i,()=>o.measureText(t))),(m===Vr.STROKE||m===Vr.FILL_STROKE)&&(this.dependencyTracker&&((A=this.dependencyTracker)==null||A.recordCharacterBBox(e,o,c,f,n,i,()=>o.measureText(t)).recordDependencies(e,Ps.stroke)),o.strokeText(t,n,i));g&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:fr(o),x:n,y:i,fontSize:f,path:b}),(C=this.dependencyTracker)==null||C.recordCharacterBBox(e,o,c,f,n,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return Ge(this,"isFontSubpixelAAEnabled",n)}showText(e,t){var F,z,V,X;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Ps.showText).resetBBox(e),this.current.textRenderingMode&Vr.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(e,t),(F=this.dependencyTracker)==null||F.recordShowTextOperation(e);return}const s=n.fontSize;if(s===0){(z=this.dependencyTracker)==null||z.recordOperation(e);return}const a=this.ctx,o=n.fontSizeScale,l=n.charSpacing,c=n.wordSpacing,d=n.fontDirection,f=n.textHScale*d,m=t.length,g=i.vertical,x=g?1:-1,y=i.defaultVMetrics,b=s*n.fontMatrix[0],_=n.textRenderingMode===Vr.FILL&&!i.disableFontFace&&!n.patternFill;a.save(),n.textMatrix&&a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),d>0?a.scale(f,-1):a.scale(f,1);let E,A;const C=n.textRenderingMode&Vr.FILL_STROKE_MASK,k=C===Vr.FILL||C===Vr.FILL_STROKE,P=C===Vr.STROKE||C===Vr.FILL_STROKE;if(k&&n.patternFill){a.save();const J=n.fillColor.getPattern(a,this,qa(a),Pn.FILL,e);E=fr(a),a.restore(),a.fillStyle=J}if(P&&n.patternStroke){a.save();const J=n.strokeColor.getPattern(a,this,qa(a),Pn.STROKE,e);A=fr(a),a.restore(),a.strokeStyle=J}let j=n.lineWidth;const M=n.textMatrixScale;if(M===0||j===0?P&&(j=this.getSinglePixelWidth()):j/=M,o!==1&&(a.scale(o,o),j/=o),a.lineWidth=j,i.isInvalidPDFjsFont){const J=[];let H=0;for(const B of t)J.push(B.unicode),H+=B.width;const G=J.join("");if(a.fillText(G,0,0),this.dependencyTracker!==null){const B=a.measureText(G);this.dependencyTracker.recordBBox(e,this.ctx,-B.actualBoundingBoxLeft,B.actualBoundingBoxRight,-B.actualBoundingBoxAscent,B.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=H*b*f,a.restore(),this.compose();return}let $=0,U;for(U=0;U<m;++U){const J=t[U];if(typeof J=="number"){$+=x*J*s/1e3;continue}let H=!1;const G=(J.isSpace?c:0)+l,B=J.fontChar,ee=J.accent;let ne,q,Y=J.width;if(g){const me=J.vmetric||y,ge=-(J.vmetric?me[1]:Y*.5)*b,oe=me[2]*b;Y=me?-me[0]:Y,ne=ge/o,q=($+oe)/o}else ne=$/o,q=0;let re;if(i.remeasure&&Y>0){re=a.measureText(B);const me=re.width*1e3/s*o;if(Y<me&&this.isFontSubpixelAAEnabled){const ge=Y/me;H=!0,a.save(),a.scale(ge,1),ne/=ge}else Y!==me&&(ne+=(Y-me)/2e3*s/o)}if(this.contentVisible&&(J.isInFont||i.missingFile)){if(_&&!ee)a.fillText(B,ne,q),(V=this.dependencyTracker)==null||V.recordCharacterBBox(e,a,re?{bbox:null}:i,s/o,ne,q,()=>re??a.measureText(B));else if(this.paintChar(e,B,ne,q,E,A),ee){const me=ne+s*ee.offset.x/o,ge=q-s*ee.offset.y/o;this.paintChar(e,ee.fontChar,me,ge,E,A)}}const ue=g?Y*b-G*d:Y*b+G*d;$+=ue,H&&a.restore()}g?n.y-=$:n.x+=$*f,a.restore(),this.compose(),(X=this.dependencyTracker)==null||X.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,d=i.wordSpacing,f=i.textHScale*o,m=i.fontMatrix||wR,g=t.length,x=i.textRenderingMode===Vr.INVISIBLE;let y,b,_,E;if(x||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(f,o);const A=this.dependencyTracker;for(this.dependencyTracker=A?new G1(A,e):null,y=0;y<g;++y){if(b=t[y],typeof b=="number"){E=l*b*a/1e3,this.ctx.translate(E,0),i.x+=E*f;continue}const C=(b.isSpace?d:0)+c,k=s.charProcOperatorList[b.operatorListId];k?this.contentVisible&&(this.save(),n.scale(a,a),n.transform(...m),this.executeOperatorList(k),this.restore()):Ve(`Type3 character "${b.operatorListId}" is not available.`);const P=[b.width,0];Se.applyTransform(P,m),_=P[0]*a+C,n.translate(_,0),i.x+=_*f}n.restore(),A&&(this.dependencyTracker=A)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,i,s,a,o){var c;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const i=this.baseTransform||fr(this.ctx),s={createCanvasGraphics:(a,o)=>new fD(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new G1(this.dependencyTracker,o,!0):null)};n=new JR(t,this.ctx,s,i)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=Bce(this.getObject(e,t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(e,t){var a;if(!this.contentVisible)return;const n=this.ctx;this.save(e);const i=this._getPattern(e,t);n.fillStyle=i.getPattern(n,this,qa(n),Pn.SHADING,e);const s=qa(n);if(s){const{width:o,height:l}=n.canvas,c=vp.slice();Se.axialAlignedBoundingBox([0,0,o,l],s,c);const[d,f,m,g]=c;this.ctx.fillRect(d,f,m-d,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Ps.transform).recordDependencies(e,Ps.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){zt("Should not call beginInlineImage")}beginImageData(){zt("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=fr(this.ctx),n)){Se.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[s,a,o,l]=n,c=new Path2D;c.rect(s,a,o-s,l-a),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var A;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||RA("TODO: Support non-isolated groups."),t.knockout&&Ve("Knockout groups not supported.");const i=fr(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=vp.slice();Se.axialAlignedBoundingBox(t.bbox,fr(n),s);const a=[0,0,n.canvas.width,n.canvas.height];s=Se.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,d]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(f,c,d),g=m.context;g.translate(-o,-l),g.transform(...i);let x=new Path2D;const[y,b,_,E]=t.bbox;if(x.rect(y,b,_-y,E-b),t.matrix){const C=new Path2D;C.addPath(x,new DOMMatrix(t.matrix)),x=C}g.clip(x),t.smask&&this.smaskStack.push({canvas:m.canvas,context:g,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(o,l),n.save()),Mv(n,g),this.ctx=g,(A=this.dependencyTracker)==null||A.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=fr(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=vp.slice();Se.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],a,o),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,i,s,a){if(D(this,Ia,QR).call(this),b_(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],l=n[3]-n[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=l,Se.singularValueDecompose2dScale(fr(this.ctx),cs);const{viewportScale:c}=this,d=Math.ceil(o*this.outputScaleX*c),f=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:m,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(t,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(cs[0],0,0,-cs[1],0,l*cs[1]),b_(this.ctx)}else{b_(this.ctx),this.endPath(e);const c=new Path2D;c.rect(n[0],n[1],o,l),this.ctx.clip(c)}}this.current=new e5(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),D(this,Ia,ZR).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const i=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,i=0,s=0,a,o){var f,m,g;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const c=fr(l);l.transform(n,i,s,a,0,0);const d=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]),(f=this.dependencyTracker)==null||f.resetBBox(e);for(let x=0,y=o.length;x<y;x+=2){const b=Se.transform(c,[n,i,s,a,o[x],o[x+1]]);l.drawImage(d.canvas,b[4],b[5]),(m=this.dependencyTracker)==null||m.recordBBox(e,this.ctx,b[4],b[4]+d.canvas.width,b[5],b[5]+d.canvas.height)}l.restore(),this.compose(),(g=this.dependencyTracker)==null||g.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,Ps.transformAndFill);for(const c of t){const{data:d,width:f,height:m,transform:g}=c,x=this.cachedCanvases.getCanvas("maskCanvas",f,m),y=x.context;y.save();const b=this.getObject(e,d,c);r5(y,b),y.globalCompositeOperation="source-in",y.fillStyle=s?i.getPattern(y,this,qa(n),Pn.FILL,e):i,y.fillRect(0,0,f,m),y.restore(),n.save(),n.transform(...g),n.scale(1,-1),y_(n,x.canvas,0,0,f,m,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,n,0,f,0,m),n.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){Ve("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,i,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){Ve("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let d=0,f=s.length;d<f;d+=2)c.push({transform:[n,0,0,i,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var c;if(!this.contentVisible)return;const n=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/n,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",n,i).context;t5(f,t),o=this.applyTransferMapsToCanvas(f)}const l=this._scaleImage(o,qa(s));s.imageSmoothingEnabled=n5(fr(s),t.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,s,0,n,-i,0).recordDependencies(e,Ps.imageXObject).recordOperation(e),y_(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const c=t.width,d=t.height,m=this.cachedCanvases.getCanvas("inlineImage",c,d).context;t5(m,t),s=this.applyTransferMapsToCanvas(m)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const c of n)i.save(),i.transform(...c.transform),i.scale(1,-1),y_(i,s,c.x,c.y,c.w,c.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Ps.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){var n;(n=this.dependencyTracker)==null||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===i5?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=fr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/c;else{const d=l*e,f=c*e;a=d<1?1/d:1,o=f<1?1/f:1}}else{const l=Math.abs(t*s-n*i),c=Math.hypot(t,n),d=Math.hypot(i,s);if(e===0)a=d/l,o=c/l;else{const f=e*l;a=d>f?d/f:1,o=c>f?c/f:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){n.lineWidth=(i||1)*s,n.stroke(e);return}const o=n.getLineDash();t&&n.save(),n.scale(s,a),$C.a=1/s,$C.d=1/a;const l=new Path2D;if(l.addPath(e,$C),o.length>0){const c=Math.max(s,a);n.setLineDash(o.map(d=>d/c)),n.lineDashOffset/=c}n.lineWidth=i||1,n.stroke(l),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Ia=new WeakSet,QR=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ZR=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},e2=function(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i};let Tp=fD;for(const r in qy)Tp.prototype[r]!==void 0&&(Tp.prototype[qy[r]]=Tp.prototype[r]);var mb,gb;class yo{static get workerPort(){return p(this,mb)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");O(this,mb,e)}static get workerSrc(){return p(this,gb)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");O(this,gb,e)}}mb=new WeakMap,gb=new WeakMap,I(yo,mb,null),I(yo,gb,"");var mm,vb;class Kce{constructor({parsedData:e,rawData:t}){I(this,mm);I(this,vb);O(this,mm,e),O(this,vb,t)}getRaw(){return p(this,vb)}get(e){return p(this,mm).get(e)??null}[Symbol.iterator](){return p(this,mm).entries()}}mm=new WeakMap,vb=new WeakMap;const hp=Symbol("INTERNAL");var yb,bb,wb,gm;class Yce{constructor(e,{name:t,intent:n,usage:i,rbGroups:s}){I(this,yb,!1);I(this,bb,!1);I(this,wb,!1);I(this,gm,!0);O(this,yb,!!(e&os.DISPLAY)),O(this,bb,!!(e&os.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(p(this,wb))return p(this,gm);if(!p(this,gm))return!1;const{print:e,view:t}=this.usage;return p(this,yb)?(t==null?void 0:t.viewState)!=="OFF":p(this,bb)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==hp&&zt("Internal method `_setVisible` called."),O(this,wb,n),O(this,gm,t)}}yb=new WeakMap,bb=new WeakMap,wb=new WeakMap,gm=new WeakMap;var nu,Mt,vm,ym,xb,t2;class Xce{constructor(e,t=os.DISPLAY){I(this,xb);I(this,nu,null);I(this,Mt,new Map);I(this,vm,null);I(this,ym,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,O(this,ym,e.order);for(const n of e.groups)p(this,Mt).set(n.id,new Yce(t,n));if(e.baseState==="OFF")for(const n of p(this,Mt).values())n._setVisible(hp,!1);for(const n of e.on)p(this,Mt).get(n)._setVisible(hp,!0);for(const n of e.off)p(this,Mt).get(n)._setVisible(hp,!1);O(this,vm,this.getHash())}}isVisible(e){if(p(this,Mt).size===0)return!0;if(!e)return RA("Optional content group not defined."),!0;if(e.type==="OCG")return p(this,Mt).has(e.id)?p(this,Mt).get(e.id).visible:(Ve(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return D(this,xb,t2).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!p(this,Mt).has(t))return Ve(`Optional content group not found: ${t}`),!0;if(p(this,Mt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!p(this,Mt).has(t))return Ve(`Optional content group not found: ${t}`),!0;if(!p(this,Mt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!p(this,Mt).has(t))return Ve(`Optional content group not found: ${t}`),!0;if(!p(this,Mt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!p(this,Mt).has(t))return Ve(`Optional content group not found: ${t}`),!0;if(p(this,Mt).get(t).visible)return!1}return!0}return Ve(`Unknown optional content policy ${e.policy}.`),!0}return Ve(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var s;const i=p(this,Mt).get(e);if(!i){Ve(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=p(this,Mt).get(o))==null||s._setVisible(hp,!1,!0));i._setVisible(hp,!!t,!0),O(this,nu,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=p(this,Mt).get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}O(this,nu,null)}get hasInitialVisibility(){return p(this,vm)===null||this.getHash()===p(this,vm)}getOrder(){return p(this,Mt).size?p(this,ym)?p(this,ym).slice():[...p(this,Mt).keys()]:null}getGroup(e){return p(this,Mt).get(e)||null}getHash(){if(p(this,nu)!==null)return p(this,nu);const e=new xV;for(const[t,n]of p(this,Mt))e.update(`${t}:${n.visible}`);return O(this,nu,e.hexdigest())}[Symbol.iterator](){return p(this,Mt).entries()}}nu=new WeakMap,Mt=new WeakMap,vm=new WeakMap,ym=new WeakMap,xb=new WeakSet,t2=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=D(this,xb,t2).call(this,s);else if(p(this,Mt).has(s))a=p(this,Mt).get(s).visible;else return Ve(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class Jce{constructor(e,{disableRange:t=!1,disableStream:n=!1}){ct(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});ct(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,s;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ct(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Qce(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Zce(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Qce{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=GI(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Zce{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function eue(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=c(d),s(d)}if(t=a(r),t){const d=c(t);return s(d)}if(t=n("filename","i").exec(r),t){t=t[1];let d=o(t);return d=c(d),s(d)}function n(d,f){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(d,f){if(d){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const m=new TextDecoder(d,{fatal:!0}),g=Cw(f);f=m.decode(g),e=!1}catch{}}return f}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const f=[];let m;const g=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=g.exec(d))!==null;){let[,y,b,_]=m;if(y=parseInt(y,10),y in f){if(y===0)break;continue}f[y]=[b,_]}const x=[];for(let y=0;y<f.length&&y in f;++y){let[b,_]=f[y];_=o(_),b&&(_=unescape(_),y===0&&(_=l(_))),x.push(_)}return x.join("")}function o(d){if(d.startsWith('"')){const f=d.slice(1).split('\\"');for(let m=0;m<f.length;++m){const g=f[m].indexOf('"');g!==-1&&(f[m]=f[m].slice(0,g),f.length=m+1),f[m]=f[m].replaceAll(/\\(.)/g,"$1")}d=f.join('"')}return d}function l(d){const f=d.indexOf("'");if(f===-1)return d;const m=d.slice(0,f),x=d.slice(f+1).replace(/^[^']*'/,"");return i(m,x)}function c(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,m,g,x){if(g==="q"||g==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,b){return String.fromCharCode(parseInt(b,16))}),i(m,x);try{x=atob(x)}catch{}return i(m,x)})}return""}function jV(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function IA(r){var e;return((e=URL.parse(r))==null?void 0:e.origin)??null}function IV({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function MV(r){const e=r.get("Content-Disposition");if(e){let t=eue(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(GI(t))return t}return null}function Rw(r,e){return new U1(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function DV(r){return r===200||r===206}function LV(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function $V(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Ve(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class tue{constructor(e){he(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=jV(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ct(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new rue(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new nue(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class rue{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,LV(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=IA(s.url),!DV(s.status))throw Rw(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=IV({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=MV(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Iu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:$V(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class nue{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const a=i.url;fetch(a,LV(s,this._withCredentials,this._abortController)).then(o=>{const l=IA(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!DV(o.status))throw Rw(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:$V(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const FC=200,BC=206;function iue(r){const e=r.response;return typeof e!="string"?e:Cw(e).buffer}class sue{constructor({url:e,httpHeaders:t,withCredentials:n}){he(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=jV(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=BC):i.expectedStatus=FC,t.responseType="arraybuffer",ct(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const s=i.status||FC;if(!(s===FC&&n.expectedStatus===BC)&&s!==n.expectedStatus){n.onError(i.status);return}const o=iue(i);if(s===BC){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?n.onDone({begin:parseInt(c[1],10),chunk:o}):(Ve('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class aue{constructor(e){this._source=e,this._manager=new sue(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ct(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new oue(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new lue(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class oue{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=IA(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=IV({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=MV(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Rw(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class lue{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=IA((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Rw(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const cue=/^[a-z][a-z0-9\-+.]+:/i;function uue(r){if(cue.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class due{constructor(e){this.source=e,this.url=uue(e.url),ct(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ct(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new hue(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new fue(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class hue{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Rw(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Iu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class fue{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Dv=Symbol("INITIAL_DATA");var Vi,_b,r2;class FV{constructor(){I(this,_b);I(this,Vi,Object.create(null))}get(e,t=null){if(t){const i=D(this,_b,r2).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=p(this,Vi)[e];if(!n||n.data===Dv)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=p(this,Vi)[e];return!!t&&t.data!==Dv}delete(e){const t=p(this,Vi)[e];return!t||t.data===Dv?!1:(delete p(this,Vi)[e],!0)}resolve(e,t=null){const n=D(this,_b,r2).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in p(this,Vi)){const{data:n}=p(this,Vi)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}O(this,Vi,Object.create(null))}*[Symbol.iterator](){for(const e in p(this,Vi)){const{data:t}=p(this,Vi)[e];t!==Dv&&(yield[e,t])}}}Vi=new WeakMap,_b=new WeakSet,r2=function(e){var t;return(t=p(this,Vi))[e]||(t[e]={...Promise.withResolvers(),data:Dv})};const pue=1e5,s5=30;var Y8,iu,Gi,Sb,Ab,hh,vl,Eb,kb,fh,Cb,bm,su,wm,Tb,xm,ph,Pb,Ob,_m,mh,Nb,Sm,Am,Ql,BV,UV,n2,gs,t1,i2,zV,qV;const _n=class _n{constructor({textContentSource:e,container:t,viewport:n}){I(this,Ql);I(this,iu,Promise.withResolvers());I(this,Gi,null);I(this,Sb,!1);I(this,Ab,!!((Y8=globalThis.FontInspector)!=null&&Y8.enabled));I(this,hh,null);I(this,vl,null);I(this,Eb,0);I(this,kb,0);I(this,fh,null);I(this,Cb,null);I(this,bm,0);I(this,su,0);I(this,wm,Object.create(null));I(this,Tb,[]);I(this,xm,null);I(this,ph,[]);I(this,Pb,new WeakMap);I(this,Ob,null);var l;if(e instanceof ReadableStream)O(this,xm,e);else if(typeof e=="object")O(this,xm,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');O(this,Gi,O(this,Cb,t)),O(this,su,n.scale*ko.pixelRatio),O(this,bm,n.rotation),O(this,vl,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=n.rawDims;O(this,Ob,[1,0,0,-1,-a,o+s]),O(this,kb,i),O(this,Eb,s),D(l=_n,gs,zV).call(l),t.style.setProperty("--min-font-size",p(_n,Sm)),nf(t,n),p(this,iu).promise.finally(()=>{p(_n,Am).delete(this),O(this,vl,null),O(this,wm,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=en.platform;return Ge(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{p(this,fh).read().then(({value:t,done:n})=>{if(n){p(this,iu).resolve();return}p(this,hh)??O(this,hh,t.lang),Object.assign(p(this,wm),t.styles),D(this,Ql,BV).call(this,t.items),e()},p(this,iu).reject)};return O(this,fh,p(this,xm).getReader()),p(_n,Am).add(this),e(),p(this,iu).promise}update({viewport:e,onBefore:t=null}){var s;const n=e.scale*ko.pixelRatio,i=e.rotation;if(i!==p(this,bm)&&(t==null||t(),O(this,bm,i),nf(p(this,Cb),{rotation:i})),n!==p(this,su)){t==null||t(),O(this,su,n);const a={div:null,properties:null,ctx:D(s=_n,gs,t1).call(s,p(this,hh))};for(const o of p(this,ph))a.properties=p(this,Pb).get(o),a.div=o,D(this,Ql,n2).call(this,a)}}cancel(){var t;const e=new Iu("TextLayer task cancelled.");(t=p(this,fh))==null||t.cancel(e).catch(()=>{}),O(this,fh,null),p(this,iu).reject(e)}get textDivs(){return p(this,ph)}get textContentItemsStr(){return p(this,Tb)}static cleanup(){if(!(p(this,Am).size>0)){p(this,_m).clear();for(const{canvas:e}of p(this,mh).values())e.remove();p(this,mh).clear()}}};iu=new WeakMap,Gi=new WeakMap,Sb=new WeakMap,Ab=new WeakMap,hh=new WeakMap,vl=new WeakMap,Eb=new WeakMap,kb=new WeakMap,fh=new WeakMap,Cb=new WeakMap,bm=new WeakMap,su=new WeakMap,wm=new WeakMap,Tb=new WeakMap,xm=new WeakMap,ph=new WeakMap,Pb=new WeakMap,Ob=new WeakMap,_m=new WeakMap,mh=new WeakMap,Nb=new WeakMap,Sm=new WeakMap,Am=new WeakMap,Ql=new WeakSet,BV=function(e){var i,s;if(p(this,Sb))return;(s=p(this,vl)).ctx??(s.ctx=D(i=_n,gs,t1).call(i,p(this,hh)));const t=p(this,ph),n=p(this,Tb);for(const a of e){if(t.length>pue){Ve("Ignoring additional textDivs for performance reasons."),O(this,Sb,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=p(this,Gi);O(this,Gi,document.createElement("span")),p(this,Gi).classList.add("markedContent"),a.id&&p(this,Gi).setAttribute("id",`${a.id}`),o.append(p(this,Gi))}else a.type==="endMarkedContent"&&O(this,Gi,p(this,Gi).parentNode);continue}n.push(a.str),D(this,Ql,UV).call(this,a)}},UV=function(e){var x;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};p(this,ph).push(t);const i=Se.transform(p(this,Ob),e.transform);let s=Math.atan2(i[1],i[0]);const a=p(this,wm)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=p(this,Ab)&&a.fontSubstitution||a.fontFamily;o=_n.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*D(x=_n,gs,qV).call(x,o,a,p(this,hh));let d,f;s===0?(d=i[4],f=i[5]-c):(d=i[4]+c*Math.sin(s),f=i[5]-c*Math.cos(s));const m=t.style;m.left=`${(100*d/p(this,kb)).toFixed(2)}%`,m.top=`${(100*f/p(this,Eb)).toFixed(2)}%`,m.setProperty("--font-height",`${l.toFixed(2)}px`),m.fontFamily=o,n.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,p(this,Ab)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);y!==b&&Math.max(y,b)/Math.min(y,b)>1.5&&(g=!0)}if(g&&(n.canvasWidth=a.vertical?e.height:e.width),p(this,Pb).set(t,n),p(this,vl).div=t,p(this,vl).properties=n,D(this,Ql,n2).call(this,p(this,vl)),n.hasText&&p(this,Gi).append(t),n.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),p(this,Gi).append(y)}},n2=function(e){var a;const{div:t,properties:n,ctx:i}=e,{style:s}=t;if(n.canvasWidth!==0&&n.hasText){const{fontFamily:o}=s,{canvasWidth:l,fontSize:c}=n;D(a=_n,gs,i2).call(a,i,c*p(this,su),o);const{width:d}=i.measureText(t.textContent);d>0&&s.setProperty("--scale-x",l*p(this,su)/d)}n.angle!==0&&s.setProperty("--rotate",`${n.angle}deg`)},gs=new WeakSet,t1=function(e=null){let t=p(this,mh).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),p(this,mh).set(e,t),p(this,Nb).set(t,{size:0,family:""})}return t},i2=function(e,t,n){const i=p(this,Nb).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},zV=function(){if(p(this,Sm)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),O(this,Sm,e.getBoundingClientRect().height),e.remove()},qV=function(e,t,n){const i=p(this,_m).get(e);if(i)return i;const s=D(this,gs,t1).call(this,n);s.canvas.width=s.canvas.height=s5,D(this,gs,i2).call(this,s,s5,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(en.platform.isFirefox&&Ve("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),p(this,_m).set(e,c),c},I(_n,gs),I(_n,_m,new Map),I(_n,mh,new Map),I(_n,Nb,new WeakMap),I(_n,Sm,null),I(_n,Am,new Set);let Wy=_n;const mue=100;function HV(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new s2,{docId:t}=e,n=r.url?_ce(r.url):null,i=r.data?Sce(r.data):null,s=r.httpHeaders||null,a=r.withCredentials===!0,o=r.password??null,l=r.range instanceof WV?r.range:null,c=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let d=r.worker instanceof Vy?r.worker:null;const f=r.verbosity,m=typeof r.docBaseUrl=="string"&&!jA(r.docBaseUrl)?r.docBaseUrl:null,g=p_(r.cMapUrl),x=r.cMapPacked!==!1,y=r.CMapReaderFactory||(li?Nce:WB),b=p_(r.iccUrl),_=p_(r.standardFontDataUrl),E=r.StandardFontDataFactory||(li?Rce:VB),A=p_(r.wasmUrl),C=r.WasmFactory||(li?jce:GB),k=r.stopAtErrors!==!0,P=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,j=r.isEvalSupported!==!1,M=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!li,$=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!li&&(en.platform.isFirefox||!globalThis.chrome),U=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,F=typeof r.disableFontFace=="boolean"?r.disableFontFace:li,z=r.fontExtraProperties===!0,V=r.enableXfa===!0,X=r.ownerDocument||globalThis.document,J=r.disableRange===!0,H=r.disableStream===!0,G=r.disableAutoFetch===!0,B=r.pdfBug===!0,ee=r.CanvasFactory||(li?Oce:Cce),ne=r.FilterFactory||(li?Pce:Tce),q=r.enableHWA===!0,Y=r.useWasm!==!1,re=l?l.length:r.length??NaN,ue=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!li&&!F,me=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(y===WB&&E===VB&&C===GB&&g&&_&&A&&Xv(g,document.baseURI)&&Xv(_,document.baseURI)&&Xv(A,document.baseURI)),ge=null;Yle(f);const oe={canvasFactory:new ee({ownerDocument:X,enableHWA:q}),filterFactory:new ne({docId:t,ownerDocument:X}),cMapReaderFactory:me?null:new y({baseUrl:g,isCompressed:x}),standardFontDataFactory:me?null:new E({baseUrl:_}),wasmFactory:me?null:new C({baseUrl:A})};d||(d=Vy.create({verbosity:f,port:yo.workerPort}),e._worker=d);const we={docId:t,apiVersion:"5.4.530",data:i,password:o,disableAutoFetch:G,rangeChunkSize:c,length:re,docBaseUrl:m,enableXfa:V,evaluatorOptions:{maxImageSize:P,disableFontFace:F,ignoreErrors:k,isEvalSupported:j,isOffscreenCanvasSupported:M,isImageDecoderSupported:$,canvasMaxAreaInBytes:U,fontExtraProperties:z,useSystemFonts:ue,useWasm:Y,useWorkerFetch:me,cMapUrl:g,iccUrl:b,standardFontDataUrl:_,wasmUrl:A}},le={ownerDocument:X,pdfBug:B,styleElement:ge,loadingParams:{disableAutoFetch:G,enableXfa:V}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const pe=d.messageHandler.sendWithPromise("GetDocRequest",we,i?[i.buffer]:null);let be;if(l)be=new Jce(l,{disableRange:J,disableStream:H});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const ae=Xv(n)?tue:li?due:aue;be=new ae({url:n,length:re,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:J,disableStream:H})}return pe.then(ae=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const We=new iy(t,ae,d.port),De=new yue(We,e,be,le,oe,q);e._transport=De,We.send("Ready",null)})}).catch(e._capability.reject),e}var aA;const oA=class oA{constructor(){he(this,"_capability",Promise.withResolvers());he(this,"_transport",null);he(this,"_worker",null);he(this,"docId",`d${Hr(oA,aA)._++}`);he(this,"destroyed",!1);he(this,"onPassword",null);he(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};aA=new WeakMap,I(oA,aA,0);let s2=oA;var gh,Rb,jb,Ib,Mb;class WV{constructor(e,t,n=!1,i=null){I(this,gh,Promise.withResolvers());I(this,Rb,[]);I(this,jb,[]);I(this,Ib,[]);I(this,Mb,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){p(this,Mb).push(e)}addProgressListener(e){p(this,Ib).push(e)}addProgressiveReadListener(e){p(this,jb).push(e)}addProgressiveDoneListener(e){p(this,Rb).push(e)}onDataRange(e,t){for(const n of p(this,Mb))n(e,t)}onDataProgress(e,t){p(this,gh).promise.then(()=>{for(const n of p(this,Ib))n(e,t)})}onDataProgressiveRead(e){p(this,gh).promise.then(()=>{for(const t of p(this,jb))t(e)})}onDataProgressiveDone(){p(this,gh).promise.then(()=>{for(const e of p(this,Rb))e()})}transportReady(){p(this,gh).resolve()}requestDataRange(e,t){zt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}gh=new WeakMap,Rb=new WeakMap,jb=new WeakMap,Ib=new WeakMap,Mb=new WeakMap;class gue{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ge(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var yl,vh,cy;class vue{constructor(e,t,n,i=!1){I(this,vh);I(this,yl,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new $B:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new FV,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new Pw({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ge(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:i="display",annotationMode:s=Mc.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:f=null,isEditing:m=!1,recordOperations:g=!1,operationsFilter:x=null}){var $,U,F;($=this._stats)==null||$.time("Overall");const y=this._transport.getRenderingIntent(i,s,f,m),{renderingIntent:b,cacheKey:_}=y;O(this,yl,!1),l||(l=this._transport.getOptionalContentConfig(b));let E=this._intentStates.get(_);E||(E=Object.create(null),this._intentStates.set(_,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const A=!!(b&os.PRINT);E.displayReadyCapability||(E.displayReadyCapability=Promise.withResolvers(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(U=this._stats)==null||U.time("Page Request"),this._pumpOperatorList(y));const C=!!(this._pdfBug&&((F=globalThis.StepperManager)!=null&&F.enabled)),k=!this.recordedBBoxes&&(g||C),P=z=>{var V,X;if(E.renderTasks.delete(j),k){const J=(V=j.gfx)==null?void 0:V.dependencyTracker.take();J&&(j.stepper&&j.stepper.setOperatorBBoxes(J,j.gfx.dependencyTracker.takeDebugMetadata()),g&&(this.recordedBBoxes=J))}A&&O(this,yl,!0),D(this,vh,cy).call(this),z?(j.capability.reject(z),this._abortOperatorList({intentState:E,reason:z instanceof Error?z:new Error(z)})):j.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(X=globalThis.Stats)!=null&&X.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},j=new a2({callback:P,params:{canvas:t,canvasContext:e,dependencyTracker:k?new Mce(t,E.operatorList.length,C):null,viewport:n,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:x});(E.renderTasks||(E.renderTasks=new Set)).add(j);const M=j.task;return Promise.all([E.displayReadyCapability.promise,l]).then(([z,V])=>{var X;if(this.destroyed){P();return}if((X=this._stats)==null||X.time("Rendering"),!(V.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");j.initializeGraphics({transparency:z,optionalContentConfig:V}),j.operatorListChanged()}).catch(P),M}getOperatorList({intent:e="display",annotationMode:t=Mc.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var c;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,n,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Hy.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function s(){a.read().then(function({value:l,done:c}){if(c){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),O(this,yl,!1),Promise.all(e)}cleanup(e=!1){O(this,yl,!0);const t=D(this,vh,cy).call(this);return e&&t&&this._stats&&(this._stats=new $B),t}_startRenderPage(e,t){var i,s;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&D(this,vh,cy).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:a}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(t);c.streamReader=l;const d=()=>{l.read().then(({value:f,done:m})=>{if(m){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,c),d())},f=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const m of c.renderTasks)m.operatorListChanged();D(this,vh,cy).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(f);else if(c.opListReadCapability)c.opListReadCapability.reject(f);else throw f}})};d()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof VI){let i=mue;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Iu(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}yl=new WeakMap,vh=new WeakSet,cy=function(){if(!p(this,yl)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),O(this,yl,!1),!0};var au,ba,bl,yh,lA,bh,wh,di,r1,VV,GV,uy,Em,n1;const sr=class sr{constructor({name:e=null,port:t=null,verbosity:n=Xle()}={}){I(this,di);I(this,au,Promise.withResolvers());I(this,ba,null);I(this,bl,null);I(this,yh,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(p(sr,wh).has(t))throw new Error("Cannot use more than one PDFWorker per port.");p(sr,wh).set(t,this),D(this,di,VV).call(this,t)}else D(this,di,GV).call(this)}get promise(){return p(this,au).promise}get port(){return p(this,bl)}get messageHandler(){return p(this,ba)}destroy(){var e,t;this.destroyed=!0,(e=p(this,yh))==null||e.terminate(),O(this,yh,null),p(sr,wh).delete(p(this,bl)),O(this,bl,null),(t=p(this,ba))==null||t.destroy(),O(this,ba,null)}static create(e){const t=p(this,wh).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new sr(e)}static get workerSrc(){if(yo.workerSrc)return yo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ge(this,"_setupFakeWorkerGlobal",(async()=>p(this,Em,n1)?p(this,Em,n1):(await import(this.workerSrc)).WorkerMessageHandler)())}};au=new WeakMap,ba=new WeakMap,bl=new WeakMap,yh=new WeakMap,lA=new WeakMap,bh=new WeakMap,wh=new WeakMap,di=new WeakSet,r1=function(){p(this,au).resolve(),p(this,ba).send("configure",{verbosity:this.verbosity})},VV=function(e){O(this,bl,e),O(this,ba,new iy("main","worker",e)),p(this,ba).on("ready",()=>{}),D(this,di,r1).call(this)},GV=function(){if(p(sr,bh)||p(sr,Em,n1)){D(this,di,uy).call(this);return}let{workerSrc:e}=sr;try{sr._isSameOrigin(window.location,e)||(e=sr._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new iy("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?p(this,au).reject(new Error("Worker was destroyed")):D(this,di,uy).call(this)},s=new AbortController;t.addEventListener("error",()=>{p(this,yh)||i()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}O(this,ba,n),O(this,bl,t),O(this,yh,t),D(this,di,r1).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{D(this,di,uy).call(this)}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{RA("The worker has been disabled.")}D(this,di,uy).call(this)},uy=function(){p(sr,bh)||(Ve("Setting up fake worker."),O(sr,bh,!0)),sr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){p(this,au).reject(new Error("Worker was destroyed"));return}const t=new kce;O(this,bl,t);const n=`fake${Hr(sr,lA)._++}`,i=new iy(n+"_worker",n,t);e.setup(i,t),O(this,ba,new iy(n,n+"_worker",t)),D(this,di,r1).call(this)}).catch(e=>{p(this,au).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Em=new WeakSet,n1=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},I(sr,Em),I(sr,lA,0),I(sr,bh,!1),I(sr,wh,new WeakMap),li&&(O(sr,bh,!0),yo.workerSrc||(yo.workerSrc="./pdf.worker.mjs")),sr._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const i=new URL(t,n);return n.origin===i.origin},sr._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},sr.fromPort=e=>{if(lce("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return sr.create(e)};let Vy=sr;var wl,ao,km,Cm,xl,xh,dy;class yue{constructor(e,t,n,i,s,a){I(this,xh);I(this,wl,new Map);I(this,ao,new Map);I(this,km,new Map);I(this,Cm,new Map);I(this,xl,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new FV,this.fontLoader=new bce({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Ge(this,"annotationStorage",new KI)}getRenderingIntent(e,t=Mc.ENABLE,n=null,i=!1,s=!1){let a=os.DISPLAY,o=zR;switch(e){case"any":a=os.ANY;break;case"display":break;case"print":a=os.PRINT;break;default:Ve(`getRenderingIntent - invalid intent: ${e}`)}const l=a&os.PRINT&&n instanceof SV?n:this.annotationStorage;switch(t){case Mc.DISABLE:a+=os.ANNOTATIONS_DISABLE;break;case Mc.ENABLE:break;case Mc.ENABLE_FORMS:a+=os.ANNOTATIONS_FORMS;break;case Mc.ENABLE_STORAGE:a+=os.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Ve(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=os.IS_EDITING),s&&(a+=os.OPLIST);const{ids:c,hash:d}=l.modifiedIds,f=[a,o.hash,d];return{renderingIntent:a,cacheKey:f.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=p(this,xl))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of p(this,ao).values())e.push(i._destroy());p(this,ao).clear(),p(this,km).clear(),p(this,Cm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),p(this,wl).clear(),this.filterFactory.destroy(),Wy.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Iu("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{ct(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}ct(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(n,i)=>{ct(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}ct(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new gue(n,this))}),e.on("DocException",n=>{t._capability.reject(bi(n))}),e.on("PasswordRequest",n=>{O(this,xl,Promise.withResolvers());try{if(!t.onPassword)throw bi(n);const i=s=>{s instanceof Error?p(this,xl).reject(s):p(this,xl).resolve({password:s})};t.onPassword(i,n.code)}catch(i){p(this,xl).reject(i)}return p(this,xl).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;p(this,ao).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in s){const m=s.error;Ve(`Error during font loading: ${m}`),this.commonObjs.resolve(n,m);break}const o=new qR(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(m,g)=>globalThis.FontInspector.fontAdded(m,g):null,c=new wce(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:d}=s;ct(d,"The imageRef must be defined.");for(const m of p(this,ao).values())for(const[,g]of m.objs)if((g==null?void 0:g.ref)===d)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":this.commonObjs.resolve(n,new xce(s));break;case"Image":this.commonObjs.resolve(n,s);break;case"Pattern":const f=new HR(s);this.commonObjs.resolve(n,f.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,a])=>{var l;if(this.destroyed)return;const o=p(this,ao).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ve("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=p(this,km).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&p(this,Cm).set(s.refStr,e);const a=new vue(t,s,this,this._params.pdfBug);return p(this,ao).set(t,a),a});return p(this,km).set(t,i),i}getPageIndex(e){return WR(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return D(this,xh,dy).call(this,"GetFieldObjects")}hasJSActions(){return D(this,xh,dy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return D(this,xh,dy).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return D(this,xh,dy).call(this,"GetOptionalContentConfig").then(t=>new Xce(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=p(this,wl).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new Kce(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:i[2]}});return p(this,wl).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of p(this,ao).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),p(this,wl).clear(),this.filterFactory.destroy(!0),Wy.cleanup()}}cachedPageNumber(e){if(!WR(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return p(this,Cm).get(t)??null}}wl=new WeakMap,ao=new WeakMap,km=new WeakMap,Cm=new WeakMap,xl=new WeakMap,xh=new WeakSet,dy=function(e,t=null){const n=p(this,wl).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return p(this,wl).set(e,i),i};var ou;class bue{constructor(e){I(this,ou,null);he(this,"onContinue",null);he(this,"onError",null);O(this,ou,e)}get promise(){return p(this,ou).capability.promise}cancel(e=0){p(this,ou).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=p(this,ou).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=p(this,ou);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}ou=new WeakMap;var lu,_h;const Ed=class Ed{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:f=!1,pageColors:m=null,enableHWA:g=!1,operationsFilter:x=null}){I(this,lu,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=f,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new bue(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=g,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,c;if(this.cancelled)return;if(this._canvas){if(p(Ed,_h).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");p(Ed,_h).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Tp(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var n,i,s;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),p(this,lu)&&(window.cancelAnimationFrame(p(this,lu)),O(this,lu,null)),p(Ed,_h).delete(this._canvas),e||(e=new VI(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?O(this,lu,window.requestAnimationFrame(()=>{O(this,lu,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),p(Ed,_h).delete(this._canvas),this.callback())))}};lu=new WeakMap,_h=new WeakMap,I(Ed,_h,new WeakSet);let a2=Ed;const KV="5.4.530",wue="50cc4adac";var Ki,Sh,Tm,Jr,Db,Pm,_l,Lb,cu,wa,$b,Lt,o2,l2,c2,vd,YV,Oc;const wi=class wi{constructor({editor:e=null,uiManager:t=null}){I(this,Lt);I(this,Ki,null);I(this,Sh,null);I(this,Tm);I(this,Jr,null);I(this,Db,!1);I(this,Pm,!1);I(this,_l,null);I(this,Lb);I(this,cu,null);I(this,wa,null);var n,i;e?(O(this,Pm,!1),O(this,_l,e)):O(this,Pm,!0),O(this,wa,(e==null?void 0:e._uiManager)||t),O(this,Lb,p(this,wa)._eventBus),O(this,Tm,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((i=p(this,wa))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),p(wi,$b)||O(wi,$b,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ge(this,"_keyboardManager",new Nw([[["Escape","mac+Escape"],wi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],wi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],wi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],wi.prototype._moveToPrevious],[["Home","mac+Home"],wi.prototype._moveToBeginning],[["End","mac+End"],wi.prototype._moveToEnd]]))}renderButton(){const e=O(this,Ki,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",p(this,_l)&&(e.ariaControls=`${p(this,_l).id}_colorpicker_dropdown`);const t=p(this,wa)._signal;e.addEventListener("click",D(this,Lt,vd).bind(this),{signal:t}),e.addEventListener("keydown",D(this,Lt,c2).bind(this),{signal:t});const n=O(this,Sh,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=p(this,Tm),e.append(n),e}renderMainDropdown(){const e=O(this,Jr,D(this,Lt,o2).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===p(this,Ki)){D(this,Lt,vd).call(this,e);return}const t=e.target.getAttribute("data-color");t&&D(this,Lt,l2).call(this,t,e)}_moveToNext(e){var t,n;if(!p(this,Lt,Oc)){D(this,Lt,vd).call(this,e);return}if(e.target===p(this,Ki)){(t=p(this,Jr).firstElementChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=p(this,Jr))==null?void 0:t.firstElementChild)||e.target===p(this,Ki)){p(this,Lt,Oc)&&this._hideDropdownFromKeyboard();return}p(this,Lt,Oc)||D(this,Lt,vd).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!p(this,Lt,Oc)){D(this,Lt,vd).call(this,e);return}(t=p(this,Jr).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!p(this,Lt,Oc)){D(this,Lt,vd).call(this,e);return}(t=p(this,Jr).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=p(this,Jr))==null||e.classList.add("hidden"),p(this,Ki).ariaExpanded="false",(t=p(this,cu))==null||t.abort(),O(this,cu,null)}_hideDropdownFromKeyboard(){var e;if(!p(this,Pm)){if(!p(this,Lt,Oc)){(e=p(this,_l))==null||e.unselect();return}this.hideDropdown(),p(this,Ki).focus({preventScroll:!0,focusVisible:p(this,Db)})}}updateColor(e){if(p(this,Sh)&&(p(this,Sh).style.backgroundColor=e),!p(this,Jr))return;const t=p(this,wa).highlightColors.values();for(const n of p(this,Jr).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=p(this,Ki))==null||e.remove(),O(this,Ki,null),O(this,Sh,null),(t=p(this,Jr))==null||t.remove(),O(this,Jr,null)}};Ki=new WeakMap,Sh=new WeakMap,Tm=new WeakMap,Jr=new WeakMap,Db=new WeakMap,Pm=new WeakMap,_l=new WeakMap,Lb=new WeakMap,cu=new WeakMap,wa=new WeakMap,$b=new WeakMap,Lt=new WeakSet,o2=function(){const e=document.createElement("div"),t=p(this,wa)._signal;e.addEventListener("contextmenu",Xs,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),p(this,_l)&&(e.id=`${p(this,_l).id}_colorpicker_dropdown`);for(const[n,i]of p(this,wa).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",p(wi,$b)[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===p(this,Tm),s.addEventListener("click",D(this,Lt,l2).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",D(this,Lt,c2).bind(this),{signal:t}),e},l2=function(e,t){t.stopPropagation(),p(this,Lb).dispatch("switchannotationeditorparams",{source:this,type:lt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},c2=function(e){wi._keyboardManager.exec(this,e)},vd=function(e){if(p(this,Lt,Oc)){this.hideDropdown();return}if(O(this,Db,e.detail===0),p(this,cu)||(O(this,cu,new AbortController),window.addEventListener("pointerdown",D(this,Lt,YV).bind(this),{signal:p(this,wa).combinedSignal(p(this,cu))})),p(this,Ki).ariaExpanded="true",p(this,Jr)){p(this,Jr).classList.remove("hidden");return}const t=O(this,Jr,D(this,Lt,o2).call(this));p(this,Ki).append(t)},YV=function(e){var t;(t=p(this,Jr))!=null&&t.contains(e.target)||this.hideDropdown()},Oc=function(){return p(this,Jr)&&!p(this,Jr).classList.contains("hidden")},I(wi,$b,null);let K1=wi;var oo,Fb,Om,Bb;const kd=class kd{constructor(e){I(this,oo,null);I(this,Fb,null);I(this,Om,null);O(this,Fb,e),O(this,Om,e._uiManager),p(kd,Bb)||O(kd,Bb,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(p(this,oo))return p(this,oo);const{editorType:e,colorType:t,color:n}=p(this,Fb),i=O(this,oo,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",p(kd,Bb)[e]),i.addEventListener("input",()=>{p(this,Om).updateParams(t,i.value)},{signal:p(this,Om)._signal}),i}update(e){p(this,oo)&&(p(this,oo).value=e)}destroy(){var e;(e=p(this,oo))==null||e.remove(),O(this,oo,null)}hideDropdown(){}};oo=new WeakMap,Fb=new WeakMap,Om=new WeakMap,Bb=new WeakMap,I(kd,Bb,null);let Y1=kd;function a5(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Lv(r){return Math.max(0,Math.min(255,255*r))}class o5{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Lv(e),[e,e,e]}static G_HTML([e]){const t=a5(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Lv)}static RGB_HTML(e){return`#${e.map(a5).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[Lv(1-Math.min(1,e+i)),Lv(1-Math.min(1,n+i)),Lv(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,s=1-t,a=1-n,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class xue{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){zt("Abstract method `_createSVG` called.")}}class X1 extends xue{_createSVG(e){return document.createElementNS(Go,e)}}const _ue=9,af=new WeakSet,Sue=new Date().getTimezoneOffset()*60*1e3;class UC{static create(e){switch(e.data.annotationType){case Mr.LINK:return new JI(e);case Mr.TEXT:return new Eue(e);case Mr.WIDGET:switch(e.data.fieldType){case"Tx":return new kue(e);case"Btn":return e.data.radioButton?new QV(e):e.data.checkBox?new Tue(e):new Pue(e);case"Ch":return new Oue(e);case"Sig":return new Cue(e)}return new ff(e);case Mr.POPUP:return new d2(e);case Mr.FREETEXT:return new nG(e);case Mr.LINE:return new Rue(e);case Mr.SQUARE:return new jue(e);case Mr.CIRCLE:return new Iue(e);case Mr.POLYLINE:return new iG(e);case Mr.CARET:return new Due(e);case Mr.INK:return new QI(e);case Mr.POLYGON:return new Mue(e);case Mr.HIGHLIGHT:return new sG(e);case Mr.UNDERLINE:return new Lue(e);case Mr.SQUIGGLY:return new $ue(e);case Mr.STRIKEOUT:return new Fue(e);case Mr.STAMP:return new aG(e);case Mr.FILEATTACHMENT:return new Bue(e);default:return new vr(e)}}}var Ah,Nm,zs,Ub,u2;const pD=class pD{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){I(this,Ub);I(this,Ah,null);I(this,Nm,!1);I(this,zs,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return pD._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var n;const{data:e}=this,t=(n=this.annotationStorage)==null?void 0:n.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:i}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((n==null?void 0:n.length)>=1){for(const l of n)for(let c=0,d=l.length;c<d;c+=2)l[c+1]>a?(a=l[c+1],s=l[c]):l[c+1]===a&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/n,e[1]=100*(e[1]-a)/i,e}get commentText(){var t,n,i;const{data:e}=this;return((n=(t=this.annotationStorage.getRawValue(`${zy}${e.id}`))==null?void 0:t.popup)==null?void 0:n.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${zy}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=p(this,zs))==null?void 0:e.popup)||this.popup)==null||t.remove(),O(this,zs,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(p(this,Ah)||O(this,Ah,{rect:this.data.rect.slice(0)}));const{rect:t,popup:n}=e;t&&D(this,Ub,u2).call(this,t);let i=((s=p(this,zs))==null?void 0:s.popup)||this.popup;!i&&(n!=null&&n.text)&&(this._createPopup(n),i=p(this,zs).popup),i&&(i.updateEdited(e),n!=null&&n.deleted&&(i.remove(),O(this,zs,null),this.popup=null))}resetEdited(){var e;p(this,Ah)&&(D(this,Ub,u2).call(this,p(this,Ah).rect),(e=p(this,zs))==null||e.popup.resetEdited(),O(this,Ah,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof ff)&&!(this instanceof JI)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof d2){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(y>0||b>0){const E=`calc(${y}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;a.borderRadius=E}else if(this instanceof QV){const E=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=E}switch(t.borderStyle.style){case op.SOLID:a.borderStyle="solid";break;case op.DASHED:a.borderStyle="dashed";break;case op.BEVELED:Ve("Unimplemented border style: beveled");break;case op.INSET:Ve("Unimplemented border style: inset");break;case op.UNDERLINE:a.borderBottomStyle="solid";break}const _=t.borderColor||null;_?(O(this,Nm,!0),a.borderColor=Se.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):a.borderWidth=0}const c=Se.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:d,pageHeight:f,pageX:m,pageY:g}=i.rawDims;a.left=`${100*(c[0]-m)/d}%`,a.top=`${100*(c[1]-g)/f}%`;const{rotation:x}=t;return t.hasOwnCanvas||x===0?(a.width=`${100*o/d}%`,a.height=`${100*l/f}%`):this.setRotation(x,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/n}%`,t.style.height=`${100*a/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[n]=o5[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:o5[`${a}_rgb`](o)})};return Ge(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||n[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const a=n[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,b,_,E]=e.subarray(2,6);if(i===y&&s===b&&t===_&&n===E)return}const{style:a}=this.container;let o;if(p(this,Nm)){const{borderColor:y,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-n,{svgFactory:d}=this,f=d.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0),f.role="none";const m=d.createElement("defs");f.append(m);const g=d.createElement("clipPath"),x=`clippath_${this.data.id}`;g.setAttribute("id",x),g.setAttribute("clipPathUnits","objectBoundingBox"),m.append(g);for(let y=2,b=e.length;y<b;y+=8){const _=e[y],E=e[y+1],A=e[y+2],C=e[y+3],k=d.createElement("rect"),P=(A-t)/l,j=(s-E)/c,M=(_-A)/l,$=(E-C)/c;k.setAttribute("x",P),k.setAttribute("y",j),k.setAttribute("width",M),k.setAttribute("height",$),g.append(k),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${j}" width="${M}" height="${$}"/>`)}p(this,Nm)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${x})`}_createPopup(e=null){const{data:t}=this;let n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate),O(this,zs,new d2({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(p(this,zs)||this.popup||this.data.popupRef)}get extraPopupElement(){return p(this,zs)}render(){zt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!af.has(c)){Ve(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:c})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&af.has(i)&&n.push({id:a,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Ah=new WeakMap,Nm=new WeakMap,zs=new WeakMap,Ub=new WeakSet,u2=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let vr=pD;class Aue extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var ds,yd,XV,JV;class JI extends vr{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});I(this,ds);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),s=!0):t.attachment?(D(this,ds,XV).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(D(this,ds,JV).call(this,i,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(t,n,i=""){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&D(this,ds,yd).call(this),i&&(t.title=i)}_bindNamedAction(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(t.title=i),D(this,ds,yd).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}n.overlaidText&&(t.title=n.overlaidText),t.onclick||(t.onclick=()=>!1),D(this,ds,yd).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),D(this,ds,yd).call(this),!this._fieldObjects){Ve('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var f;i==null||i();const{fields:s,refs:a,include:o}=n,l=[];if(s.length!==0||a.length!==0){const m=new Set(a);for(const g of s){const x=this._fieldObjects[g]||[];for(const{id:y}of x)m.add(y)}for(const g of Object.values(this._fieldObjects))for(const x of g)m.has(x.id)===o&&l.push(x)}else for(const m of Object.values(this._fieldObjects))l.push(...m);const c=this.annotationStorage,d=[];for(const m of l){const{id:g}=m;switch(d.push(g),m.type){case"text":{const y=m.defaultValue||"";c.setValue(g,{value:y});break}case"checkbox":case"radiobutton":{const y=m.defaultValue===m.exportValues;c.setValue(g,{value:y});break}case"combobox":case"listbox":{const y=m.defaultValue||"";c.setValue(g,{value:y});break}default:continue}const x=document.querySelector(`[data-element-id="${g}"]`);if(x){if(!af.has(x)){Ve(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}ds=new WeakSet,yd=function(){this.container.setAttribute("data-internal-link","")},XV=function(t,n,i="",s=null){t.href=this.linkService.getAnchorUrl(""),n.description?t.title=n.description:i&&(t.title=i),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,s),!1},D(this,ds,yd).call(this)},JV=function(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(t.title=i),D(this,ds,yd).call(this)};class Eue extends vr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class ff extends vr{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return en.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,n,i){var s,a,o;for(const[l,c]of n)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Se.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||_ue,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(c/(jC*i))||1,f=c/d;a=Math.min(i,l(f/jC))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/jC))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Se.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class kue extends ff{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),s.setValue(a.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),af.add(n),this.contentElement=n,n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:f,datetimeType:m,timeStep:g}=this.data,x=!!m&&this.enableScripting;f&&(n.title=f),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",b=>{e.setValue(t,{value:b.target.value}),this.setPropertyOnSiblings(n,"value",b.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",b=>{const _=this.data.defaultFieldValue??"";n.value=d.userValue=_,d.formattedValue=null});let y=b=>{const{formattedValue:_}=d;_!=null&&(b.target.value=_),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",_=>{var A;if(d.focused)return;const{target:E}=_;if(x&&(E.type=m,g&&(E.step=g)),d.userValue){const C=d.userValue;if(x)if(m==="time"){const k=new Date(C),P=[k.getHours(),k.getMinutes(),k.getSeconds()];E.value=P.map(j=>j.toString().padStart(2,"0")).join(":")}else E.value=new Date(C-Sue).toISOString().split(m==="date"?"T":".",1)[0];else E.value=C}d.lastCommittedValue=E.value,d.commitKey=1,(A=this.data.actions)!=null&&A.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const E={value(A){d.userValue=A.detail.value??"",x||e.setValue(t,{value:d.userValue.toString()}),A.target.value=d.userValue},formattedValue(A){const{formattedValue:C}=A.detail;d.formattedValue=C,C!=null&&A.target!==document.activeElement&&(A.target.value=C);const k={formattedValue:C};x&&(k.value=C),e.setValue(t,k)},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{var j;const{charLimit:C}=A.detail,{target:k}=A;if(C===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",C);let P=d.userValue;!P||P.length<=C||(P=P.slice(0,C),k.value=d.userValue=P,e.setValue(t,{value:P}),(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(E,_)}),n.addEventListener("keydown",_=>{var C;d.commitKey=1;let E=-1;if(_.key==="Escape"?E=0:_.key==="Enter"&&!this.data.multiLine?E=2:_.key==="Tab"&&(d.commitKey=3),E===-1)return;const{value:A}=_.target;d.lastCommittedValue!==A&&(d.lastCommittedValue=A,d.userValue=A,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:E,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const b=y;y=null,n.addEventListener("blur",_=>{var C,k;if(!d.focused||!_.relatedTarget)return;(C=this.data.actions)!=null&&C.Blur||(d.focused=!1);const{target:E}=_;let{value:A}=E;if(x){if(A&&m==="time"){const P=A.split(":").map(j=>parseInt(j,10));A=new Date(2e3,0,1,P[0],P[1],P[2]||0).valueOf(),E.step=""}else A.includes("T")||(A=`${A}T00:00`),A=new Date(A).valueOf();E.type="text"}d.userValue=A,d.lastCommittedValue!==A&&((k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:d.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}})),b(_)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",_=>{var $;d.lastCommittedValue=null;const{data:E,target:A}=_,{value:C,selectionStart:k,selectionEnd:P}=A;let j=k,M=P;switch(_.inputType){case"deleteWordBackward":{const U=C.substring(0,k).match(/\w*[^\w]*$/);U&&(j-=U[0].length);break}case"deleteWordForward":{const U=C.substring(k).match(/^[^\w]*\w*/);U&&(M+=U[0].length);break}case"deleteContentBackward":k===P&&(j-=1);break;case"deleteContentForward":k===P&&(M+=1);break}_.preventDefault(),($=this.linkService.eventBus)==null||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,change:E||"",willCommit:!1,selStart:j,selEnd:M}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${_}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Cue extends ff{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Tue extends ff{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return af.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n)){const d=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=d),e.setValue(c.id,{value:d})}e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class QV extends ff{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(af.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n))e.setValue(c.id,{value:!1});e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const d=a===c.detail.value;for(const f of this._getElementsByName(c.target.name)){const m=d&&f.id===n;f.domElement&&(f.domElement.checked=m),e.setValue(f.id,{value:m})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Pue extends JI{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class Oue extends ff{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");af.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const f=this.data.defaultFieldValue;for(const m of i.options)m.selected=m.value===f});for(const d of this.data.options){const f=document.createElement("option");f.textContent=d.displayValue,f.value=d.exportValue,n.value.includes(d.exportValue)&&(f.setAttribute("selected",!0),s=!1),i.append(f)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const f=d?"value":"textContent",{options:m,multiple:g}=i;return g?Array.prototype.filter.call(m,x=>x.selected).map(x=>x[f]):m.selectedIndex===-1?null:m[m.selectedIndex][f]};let l=o(!1);const c=d=>{const f=d.target.options;return Array.prototype.map.call(f,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const f={value(m){a==null||a();const g=m.detail.value,x=new Set(Array.isArray(g)?g:[g]);for(const y of i.options)y.selected=x.has(y.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(m){i.multiple=!0},remove(m){const g=i.options,x=m.detail.remove;g[x].selected=!1,i.remove(x),g.length>0&&Array.prototype.findIndex.call(g,b=>b.selected)===-1&&(g[0].selected=!0),e.setValue(t,{value:o(!0),items:c(m)}),l=o(!1)},clear(m){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(m){const{index:g,displayValue:x,exportValue:y}=m.detail.insert,b=i.children[g],_=document.createElement("option");_.textContent=x,_.value=y,b?b.before(_):i.append(_),e.setValue(t,{value:o(!0),items:c(m)}),l=o(!1)},items(m){const{items:g}=m.detail;for(;i.length!==0;)i.remove(0);for(const x of g){const{displayValue:y,exportValue:b}=x,_=document.createElement("option");_.textContent=y,_.value=b,i.append(_)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:c(m)}),l=o(!1)},indices(m){const g=new Set(m.detail.indices);for(const x of m.target.options)x.selected=g.has(x.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(f,d)}),i.addEventListener("input",d=>{var g;const f=o(!0),m=o(!1);e.setValue(t,{value:f}),d.preventDefault(),(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:m,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var zb,h2;class d2 extends vr{constructor(t){const{data:n,elements:i,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&vr._hasPopupData(n)});I(this,zb);if(this.elements=i,a&&vr._hasPopupData(n)){const o=this.popup=D(this,zb,h2).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const n=this.popup=D(this,zb,h2).call(this),i=[];for(const s of this.elements)s.popup=n,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${gp}${s}`).join(",")),this.container}}zb=new WeakSet,h2=function(){return new Nue({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Yi,uu,cA,uA,Rm,jm,xr,lo,du,Eh,Im,Mm,co,Xi,Sl,Al,_r,El,hu,qb,kl,Dm,kh,fu,ln,pu,et,i1,f2,p2,m2,s1,g2,ZV,eG,tG,rG,a1,o1,v2;class Nue{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:f,commentManager:m=null}){I(this,et);I(this,Yi,null);I(this,uu,D(this,et,tG).bind(this));I(this,cA,D(this,et,v2).bind(this));I(this,uA,D(this,et,o1).bind(this));I(this,Rm,D(this,et,a1).bind(this));I(this,jm,null);I(this,xr,null);I(this,lo,null);I(this,du,null);I(this,Eh,null);I(this,Im,null);I(this,Mm,null);I(this,co,!1);I(this,Xi,null);I(this,Sl,null);I(this,Al,null);I(this,_r,null);I(this,El,null);I(this,hu,null);I(this,qb,null);I(this,kl,null);I(this,Dm,null);I(this,kh,null);I(this,fu,!1);I(this,ln,null);I(this,pu,null);O(this,xr,e),O(this,Dm,i),O(this,lo,a),O(this,kl,o),O(this,Im,l),O(this,jm,t),O(this,qb,c),O(this,Mm,d),O(this,Eh,n),O(this,Yi,m),O(this,ln,n[0]),O(this,du,z1.toDateObject(s)),this.trigger=n.flatMap(g=>g.getElementsToTriggerPopup()),m||(D(this,et,i1).call(this),p(this,xr).hidden=!0,f&&D(this,et,a1).call(this))}renderCommentButton(){if(p(this,_r)){p(this,_r).parentNode||p(this,ln).container.after(p(this,_r));return}if(p(this,El)||D(this,et,f2).call(this),!p(this,El))return;const{signal:e}=O(this,Sl,new AbortController),t=p(this,ln).hasOwnCommentButton,n=()=>{p(this,Yi).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{p(this,Yi).toggleCommentPopup(this,!1,!0,!t)},s=()=>{p(this,Yi).toggleCommentPopup(this,!1,!1)};if(t){O(this,_r,p(this,ln).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",p(this,uu),{signal:e}),a.addEventListener("click",n,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=O(this,_r,document.createElement("button"));a.className="annotationCommentButton";const o=p(this,ln).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),D(this,et,m2).call(this),D(this,et,p2).call(this),a.addEventListener("keydown",p(this,uu),{signal:e}),a.addEventListener("click",n,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=p(this,ln).commentData;return e?p(this,Im)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=p(this,_r))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:i,modificationDate:s}=p(this,ln).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:i,modificationDate:s}}get elementBeforePopup(){return p(this,_r)}get comment(){return p(this,pu)||O(this,pu,p(this,ln).commentText),p(this,pu)}set comment(e){e!==this.comment&&(p(this,ln).commentText=O(this,pu,e))}focus(){var e;(e=p(this,ln).container)==null||e.focus()}get parentBoundingClientRect(){return p(this,ln).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){p(this,_r)&&(p(this,_r).classList.toggle("selected",e),p(this,_r).ariaExpanded=t)}setSelectedCommentButton(e){p(this,_r).classList.toggle("selected",e)}get commentPopupPosition(){if(p(this,hu))return p(this,hu);const{x:e,y:t,height:n}=p(this,_r).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=p(this,ln).layer.getBoundingClientRect();return[(e-i)/a,(t+n-s)/o]}set commentPopupPosition(e){O(this,hu,e)}hasDefaultPopupPosition(){return p(this,hu)===null}get commentButtonPosition(){return p(this,El)}get commentButtonWidth(){return p(this,_r).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=p(this,hu)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;p(this,Yi).showDialog(null,this,s+t*o,a+n*l,{...e,parentDimensions:i})}render(){var n,i;if(p(this,Xi))return;const e=O(this,Xi,document.createElement("div"));if(e.className="popup",p(this,jm)){const s=e.style.outlineColor=Se.makeHexColor(...p(this,jm));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(n=p(this,Dm))!=null&&n.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=p(this,Dm)}if(e.append(t),p(this,du)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:p(this,du).valueOf()})),s.dateTime=p(this,du).toISOString(),t.append(s)}zW({html:p(this,et,s1)||p(this,lo).str,dir:(i=p(this,lo))==null?void 0:i.dir,className:"popupContent"},e),p(this,xr).append(e)}updateEdited({rect:e,popup:t,deleted:n}){var i;if(p(this,Yi)){n?(this.remove(),O(this,pu,null)):t&&(t.deleted?this.remove():(D(this,et,m2).call(this),O(this,pu,t.text))),e&&(O(this,El,null),D(this,et,f2).call(this),D(this,et,p2).call(this));return}if(n||t!=null&&t.deleted){this.remove();return}D(this,et,i1).call(this),p(this,kh)||O(this,kh,{contentsObj:p(this,lo),richText:p(this,kl)}),e&&O(this,Al,null),t&&t.text&&(O(this,kl,D(this,et,eG).call(this,t.text)),O(this,du,z1.toDateObject(t.date)),O(this,lo,null)),(i=p(this,Xi))==null||i.remove(),O(this,Xi,null)}resetEdited(){var e;p(this,kh)&&({contentsObj:Hr(this,lo)._,richText:Hr(this,kl)._}=p(this,kh),O(this,kh,null),(e=p(this,Xi))==null||e.remove(),O(this,Xi,null),O(this,Al,null))}remove(){var e,t,n;if((e=p(this,Sl))==null||e.abort(),O(this,Sl,null),(t=p(this,Xi))==null||t.remove(),O(this,Xi,null),O(this,fu,!1),O(this,co,!1),(n=p(this,_r))==null||n.remove(),O(this,_r,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){O(this,fu,this.isVisible),p(this,fu)&&(p(this,xr).hidden=!0)}maybeShow(){p(this,Yi)||(D(this,et,i1).call(this),p(this,fu)&&(p(this,Xi)||D(this,et,o1).call(this),O(this,fu,!1),p(this,xr).hidden=!1))}get isVisible(){return p(this,Yi)?!1:p(this,xr).hidden===!1}}Yi=new WeakMap,uu=new WeakMap,cA=new WeakMap,uA=new WeakMap,Rm=new WeakMap,jm=new WeakMap,xr=new WeakMap,lo=new WeakMap,du=new WeakMap,Eh=new WeakMap,Im=new WeakMap,Mm=new WeakMap,co=new WeakMap,Xi=new WeakMap,Sl=new WeakMap,Al=new WeakMap,_r=new WeakMap,El=new WeakMap,hu=new WeakMap,qb=new WeakMap,kl=new WeakMap,Dm=new WeakMap,kh=new WeakMap,fu=new WeakMap,ln=new WeakMap,pu=new WeakMap,et=new WeakSet,i1=function(){var t;if(p(this,Sl))return;O(this,Sl,new AbortController);const{signal:e}=p(this,Sl);for(const n of this.trigger)n.addEventListener("click",p(this,Rm),{signal:e}),n.addEventListener("pointerenter",p(this,uA),{signal:e}),n.addEventListener("pointerleave",p(this,cA),{signal:e}),n.classList.add("popupTriggerArea");for(const n of p(this,Eh))(t=n.container)==null||t.addEventListener("keydown",p(this,uu),{signal:e})},f2=function(){const e=p(this,Eh).find(t=>t.hasCommentButton);e&&O(this,El,e._normalizePoint(e.commentButtonPosition))},p2=function(){if(p(this,ln).extraPopupElement&&!p(this,ln).editor)return;p(this,_r)||this.renderCommentButton();const[e,t]=p(this,El),{style:n}=p(this,_r);n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`},m2=function(){p(this,ln).extraPopupElement||(p(this,_r)||this.renderCommentButton(),p(this,_r).style.backgroundColor=this.commentButtonColor||"")},s1=function(){const e=p(this,kl),t=p(this,lo);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&p(this,kl).html||null},g2=function(){var e,t,n;return((n=(t=(e=p(this,et,s1))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},ZV=function(){var e,t,n;return((n=(t=(e=p(this,et,s1))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},eG=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:p(this,et,ZV),fontSize:p(this,et,g2)?`calc(${p(this,et,g2)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return n},tG=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&p(this,co))&&D(this,et,a1).call(this)},rG=function(){if(p(this,Al)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=p(this,Im);let a=!!p(this,Mm),o=a?p(this,Mm):p(this,qb);for(const x of p(this,Eh))if(!o||Se.intersect(x.data.rect,o)!==null){o=x.data.rect,a=!0;break}const l=Se.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,f=l[0]+d,m=l[1];O(this,Al,[100*(f-i)/t,100*(m-s)/n]);const{style:g}=p(this,xr);g.left=`${p(this,Al)[0]}%`,g.top=`${p(this,Al)[1]}%`},a1=function(){if(p(this,Yi)){p(this,Yi).toggleCommentPopup(this,!1);return}O(this,co,!p(this,co)),p(this,co)?(D(this,et,o1).call(this),p(this,xr).addEventListener("click",p(this,Rm)),p(this,xr).addEventListener("keydown",p(this,uu))):(D(this,et,v2).call(this),p(this,xr).removeEventListener("click",p(this,Rm)),p(this,xr).removeEventListener("keydown",p(this,uu)))},o1=function(){p(this,Xi)||this.render(),this.isVisible?p(this,co)&&p(this,xr).classList.add("focused"):(D(this,et,rG).call(this),p(this,xr).hidden=!1,p(this,xr).style.zIndex=parseInt(p(this,xr).style.zIndex)+1e3)},v2=function(){p(this,xr).classList.remove("focused"),!(p(this,co)||!this.isVisible)&&(p(this,xr).hidden=!0,p(this,xr).style.zIndex=parseInt(p(this,xr).style.zIndex)-1e3)};class nG extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Xe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var Hb;class Rue extends vr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Hb,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=O(this,Hb,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return p(this,Hb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hb=new WeakMap;var Wb;class jue extends vr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Wb,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=O(this,Wb,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return p(this,Wb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wb=new WeakMap;var Vb;class Iue extends vr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Vb,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=O(this,Vb,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return p(this,Vb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vb=new WeakMap;var Gb;class iG extends vr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Gb,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!n)return this.container;const l=this.svgFactory.create(a,o,!0);let c=[];for(let f=0,m=n.length;f<m;f+=2){const g=n[f]-t[0],x=t[3]-n[f+1];c.push(`${g},${x}`)}c=c.join(" ");const d=O(this,Gb,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return p(this,Gb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gb=new WeakMap;class Mue extends iG{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Due extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var Kb,Ch,Yb,y2;class QI extends vr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Yb);I(this,Kb,null);I(this,Ch,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Xe.HIGHLIGHT:Xe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:c}=D(this,Yb,y2).call(this,n,t),d=this.svgFactory.create(l,c,!0),f=O(this,Kb,this.svgFactory.createElement("svg:g"));d.append(f),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let m=0,g=i.length;m<g;m++){const x=this.svgFactory.createElement(this.svgElementName);p(this,Ch).push(x),x.setAttribute("points",i[m].join(",")),f.append(x)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:i,rect:s}=t,a=p(this,Kb);if(n>=0&&a.setAttribute("stroke-width",n||1),i)for(let o=0,l=p(this,Ch).length;o<l;o++)p(this,Ch)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:c}=D(this,Yb,y2).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return p(this,Ch)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kb=new WeakMap,Ch=new WeakMap,Yb=new WeakSet,y2=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class sG extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Xe.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Lue extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class $ue extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Fue extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class aG extends vr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Xe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var Xb,Jb,b2;class Bue extends vr{constructor(t){var i;super(t,{isRenderable:!0});I(this,Jb);I(this,Xb,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",D(this,Jb,b2).bind(this)),O(this,Xb,i);const{isMac:s}=en.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&D(this,Jb,b2).call(this)}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return p(this,Xb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xb=new WeakMap,Jb=new WeakSet,b2=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Th,Ph,Lm,mu,Qb,Oh,Ji,Zb,ql,l1,x2;const mD=class mD{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:d}){I(this,ql);I(this,Th,null);I(this,Ph,null);I(this,Lm,null);I(this,mu,new Map);I(this,Qb,null);I(this,Oh,null);I(this,Ji,[]);I(this,Zb,!1);this.div=e,O(this,Th,t),O(this,Ph,n),O(this,Qb,o||null),O(this,Oh,c||null),O(this,Lm,d||new KI),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return p(this,mu).size>0}async render(e){var o;const{annotations:t}=e,n=this.div;nf(n,this.viewport);const i=new Map,s=[],a={data:null,layer:n,linkService:p(this,Oh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new X1,annotationStorage:p(this,Lm),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const c=l.annotationType===Mr.POPUP;if(c){const m=i.get(l.id);if(!m)continue;if(!this._commentManager){s.push(l);continue}a.elements=m}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=UC.create(a);if(!d.isRenderable)continue;if(!c&&(p(this,Ji).push(d),l.popupRef)){const m=i.get(l.popupRef);m?m.push(d):i.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),d._isEditable&&(p(this,mu).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}await D(this,ql,l1).call(this);for(const l of s){const c=a.elements=i.get(l.id);a.data=l;const d=UC.create(a);if(!d.isRenderable)continue;const f=d.render();d.contentElement.id=`${gp}${l.id}`,l.hidden&&(f.style.visibility="hidden"),c.at(-1).container.after(f)}D(this,ql,x2).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:p(this,Oh),svgFactory:new X1,parent:this};for(const n of e){n.borderStyle||(n.borderStyle=mD._defaultBorderStyle),t.data=n;const i=UC.create(t);i.isRenderable&&(i.render(),i.contentElement.id=`${gp}${n.id}`,p(this,Ji).push(i))}await D(this,ql,l1).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,nf(t,{rotation:e.rotation}),D(this,ql,x2).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(p(this,mu).values())}getEditableAnnotation(e){return p(this,mu).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:n,rotation:i}=e,s=new Aue({data:{id:n,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:p(this,Oh),annotationStorage:p(this,Lm)});return s.render(),s.contentElement.id=`${gp}${n}`,s.createOrUpdatePopup(),p(this,Ji).push(s),s}removeAnnotation(e){var i;const t=p(this,Ji).findIndex(s=>s.data.id===e);if(t<0)return;const[n]=p(this,Ji).splice(t,1);(i=p(this,Th))==null||i.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);D(this,ql,l1).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Ge(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:op.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Th=new WeakMap,Ph=new WeakMap,Lm=new WeakMap,mu=new WeakMap,Qb=new WeakMap,Oh=new WeakMap,Ji=new WeakMap,Zb=new WeakMap,ql=new WeakSet,l1=async function(){var n,i,s;if(p(this,Ji).length===0)return;this.div.replaceChildren();const e=[];if(!p(this,Zb)){O(this,Zb,!0);for(const{contentElement:a,data:{id:o}}of p(this,Ji)){const l=a.id=`${gp}${o}`;e.push((n=p(this,Qb))==null?void 0:n.getAriaAttributes(l).then(c=>{if(c)for(const[d,f]of c)a.setAttribute(d,f)}))}}p(this,Ji).sort(({data:{rect:[a,o,l,c]}},{data:{rect:[d,f,m,g]}})=>{if(a===l&&o===c)return 1;if(d===m&&f===g)return-1;const x=c,y=o,b=(o+c)/2,_=g,E=f,A=(f+g)/2;if(b>=_&&A<=y)return-1;if(A>=x&&b<=E)return 1;const C=(a+l)/2,k=(d+m)/2;return C-k});const t=document.createDocumentFragment();for(const a of p(this,Ji))t.append(a.container),this._commentManager?(s=((i=a.extraPopupElement)==null?void 0:i.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&t.append(a.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),p(this,Th))for(const a of p(this,Ji))p(this,Th).addPointerInTextLayer(a.contentElement,!1)},x2=function(){var t;if(!p(this,Ph))return;const e=this.div;for(const[n,i]of p(this,Ph)){const s=e.querySelector(`[data-annotation-id="${n}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=p(this,mu).get(n);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}p(this,Ph).clear()};let w2=mD;const w_=/\r\n?|\n/g;var Qi,ew,Nh,Zi,Br,oG,lG,cG,c1,Hl,u1,d1,uG,S2,dG;const tr=class tr extends Yt{constructor(t){super({...t,name:"freeTextEditor"});I(this,Br);I(this,Qi,"");I(this,ew,`${this.id}-editor`);I(this,Nh,null);I(this,Zi);he(this,"_colorPicker",null);this.color=t.color||tr._defaultColor||Yt._defaultLineColor,O(this,Zi,t.fontSize||tr._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=tr.prototype,n=a=>a.isEmpty(),i=sf.TRANSLATE_SMALL,s=sf.TRANSLATE_BIG;return Ge(this,"_keyboardManager",new Nw([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(t,n){Yt.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case lt.FREETEXT_SIZE:tr._defaultFontSize=n;break;case lt.FREETEXT_COLOR:tr._defaultColor=n;break}}updateParams(t,n){switch(t){case lt.FREETEXT_SIZE:D(this,Br,oG).call(this,n);break;case lt.FREETEXT_COLOR:D(this,Br,lG).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[lt.FREETEXT_SIZE,tr._defaultFontSize],[lt.FREETEXT_COLOR,tr._defaultColor||Yt._defaultLineColor]]}get propertiesToUpdate(){return[[lt.FREETEXT_SIZE,p(this,Zi)],[lt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Y1(this)),[["colorPicker",this._colorPicker]]}get colorType(){return lt.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-tr._internalPadding*t,-(tr._internalPadding+p(this,Zi))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),O(this,Nh,new AbortController);const t=this._uiManager.combinedSignal(p(this,Nh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",p(this,ew)),this._isDraggable=!0,(t=p(this,Nh))==null||t.abort(),O(this,Nh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=p(this,Qi),n=O(this,Qi,D(this,Br,cG).call(this).trimEnd());if(t===n)return;const i=s=>{if(O(this,Qi,s),!s){this.remove();return}D(this,Br,d1).call(this),this._uiManager.rebuild(this),D(this,Br,c1).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),D(this,Br,c1).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){tr._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",p(this,ew)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${p(this,Zi)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,f]=this.pageDimensions,[m,g]=this.pageTranslation;let x,y;switch(this.rotation){case 0:x=t+(o[0]-m)/d,y=n+this.height-(o[1]-g)/f;break;case 90:x=t+(o[0]-m)/d,y=n-(o[1]-g)/f,[l,c]=[c,-l];break;case 180:x=t-this.width+(o[0]-m)/d,y=n-(o[1]-g)/f,[l,c]=[-l,-c];break;case 270:x=t+(o[0]-m-this.height*f)/d,y=n+(o[1]-g-this.width*d)/f,[l,c]=[-c,l];break}this.setAt(x*s,y*a,l,c)}else this._moveAfterPaste(t,n);D(this,Br,d1).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var x,y,b;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=D(x=tr,Hl,S2).call(x,n.getData("text")||"").replaceAll(w_,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,d=[],f=[];if(l.nodeType===Node.TEXT_NODE){const _=l.parentElement;if(f.push(l.nodeValue.slice(c).replaceAll(w_,"")),_!==this.editorDiv){let E=d;for(const A of this.editorDiv.childNodes){if(A===_){E=f;continue}E.push(D(y=tr,Hl,u1).call(y,A))}}d.push(l.nodeValue.slice(0,c).replaceAll(w_,""))}else if(l===this.editorDiv){let _=d,E=0;for(const A of this.editorDiv.childNodes)E++===c&&(_=f),_.push(D(b=tr,Hl,u1).call(b,A))}O(this,Qi,`${d.join(`
`)}${s}${f.join(`
`)}`),D(this,Br,d1).call(this);const m=new Range;let g=Math.sumPrecise(d.map(_=>_.length));for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const E=_.nodeValue.length;if(g<=E){m.setStart(_,g),m.setEnd(_,g);break}g-=E}a.removeAllRanges(),a.addRange(m)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=tr._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,n,i){var o;let s=null;if(t instanceof nG){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:f,id:m,popupRef:g,richText:x,contentsObj:y,creationDate:b,modificationDate:_},textContent:E,textPosition:A,parent:{page:{pageNumber:C}}}=t;if(!E||E.length===0)return null;s=t={annotationType:Xe.FREETEXT,color:Array.from(c),fontSize:l,value:E.join(`
`),position:A,pageIndex:C-1,rect:d.slice(0),rotation:f,annotationElementId:m,id:m,deleted:!1,popupRef:g,comment:(y==null?void 0:y.str)||null,richText:x,creationDate:b,modificationDate:_}}const a=await super.deserialize(t,n,i);return O(a,Zi,t.fontSize),a.color=Se.makeHexColor(...t.color),O(a,Qi,D(o=tr,Hl,S2).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Yt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:n,fontSize:p(this,Zi),value:D(this,Br,uG).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!D(this,Br,dG).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(!n)return null;const{style:i}=n;i.fontSize=`calc(${p(this,Zi)}px * var(--total-scale-factor))`,i.color=this.color,n.replaceChildren();for(const s of p(this,Qi).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),n.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:p(this,Qi)}}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Qi=new WeakMap,ew=new WeakMap,Nh=new WeakMap,Zi=new WeakMap,Br=new WeakSet,oG=function(t){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-p(this,Zi))*this.parentScale),O(this,Zi,s),D(this,Br,c1).call(this)},i=p(this,Zi);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:lt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},lG=function(t){const n=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:lt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},cG=function(){var i;const t=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(D(i=tr,Hl,u1).call(i,s)),n=s);return t.join(`
`)},c1=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},Hl=new WeakSet,u1=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(w_,"")},d1=function(){if(this.editorDiv.replaceChildren(),!!p(this,Qi))for(const t of p(this,Qi).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},uG=function(){return p(this,Qi).replaceAll(""," ")},S2=function(t){return t.replaceAll(" ","")},dG=function(t){const{value:n,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},I(tr,Hl),he(tr,"_freeTextDefaultContent",""),he(tr,"_internalPadding",0),he(tr,"_defaultColor",null),he(tr,"_defaultFontSize",10),he(tr,"_type","freetext"),he(tr,"_editorType",Xe.FREETEXT);let _2=tr;class ke{toSVGPath(){zt("Abstract method `toSVGPath` must be implemented.")}get box(){zt("Abstract getter `box` must be implemented.")}serialize(e,t){zt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*i,a[o+1]=n+e[o+1]*s;return a}static _rescaleAndSwap(e,t,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*i,a[o+1]=n+e[o]*s;return a}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=n+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,s){switch(s){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,s,a){return[(e+5*n)/6,(t+5*i)/6,(5*n+s)/6,(5*i+a)/6,(n+s)/2,(i+a)/2]}}he(ke,"PRECISION",1e-4);var es,xa,$m,Fm,uo,it,Rh,jh,tw,rw,Bm,Um,gu,nw,dA,hA,Zr,hy,hG,fG,pG,mG,gG,vG;const Qo=class Qo{constructor({x:e,y:t},n,i,s,a,o=0){I(this,Zr);I(this,es);I(this,xa,[]);I(this,$m);I(this,Fm);I(this,uo,[]);I(this,it,new Float32Array(18));I(this,Rh);I(this,jh);I(this,tw);I(this,rw);I(this,Bm);I(this,Um);I(this,gu,[]);O(this,es,n),O(this,Um,s*i),O(this,Fm,a),p(this,it).set([NaN,NaN,NaN,NaN,e,t],6),O(this,$m,o),O(this,rw,p(Qo,nw)*i),O(this,tw,p(Qo,hA)*i),O(this,Bm,i),p(this,gu).push(e,t)}isEmpty(){return isNaN(p(this,it)[8])}add({x:e,y:t}){var $;O(this,Rh,e),O(this,jh,t);const[n,i,s,a]=p(this,es);let[o,l,c,d]=p(this,it).subarray(8,12);const f=e-c,m=t-d,g=Math.hypot(f,m);if(g<p(this,tw))return!1;const x=g-p(this,rw),y=x/g,b=y*f,_=y*m;let E=o,A=l;o=c,l=d,c+=b,d+=_,($=p(this,gu))==null||$.push(e,t);const C=-_/x,k=b/x,P=C*p(this,Um),j=k*p(this,Um);return p(this,it).set(p(this,it).subarray(2,8),0),p(this,it).set([c+P,d+j],4),p(this,it).set(p(this,it).subarray(14,18),12),p(this,it).set([c-P,d-j],16),isNaN(p(this,it)[6])?(p(this,uo).length===0&&(p(this,it).set([o+P,l+j],2),p(this,uo).push(NaN,NaN,NaN,NaN,(o+P-n)/s,(l+j-i)/a),p(this,it).set([o-P,l-j],14),p(this,xa).push(NaN,NaN,NaN,NaN,(o-P-n)/s,(l-j-i)/a)),p(this,it).set([E,A,o,l,c,d],6),!this.isEmpty()):(p(this,it).set([E,A,o,l,c,d],6),Math.abs(Math.atan2(A-l,E-o)-Math.atan2(_,b))<Math.PI/2?([o,l,c,d]=p(this,it).subarray(2,6),p(this,uo).push(NaN,NaN,NaN,NaN,((o+c)/2-n)/s,((l+d)/2-i)/a),[o,l,E,A]=p(this,it).subarray(14,18),p(this,xa).push(NaN,NaN,NaN,NaN,((E+o)/2-n)/s,((A+l)/2-i)/a),!0):([E,A,o,l,c,d]=p(this,it).subarray(0,6),p(this,uo).push(((E+5*o)/6-n)/s,((A+5*l)/6-i)/a,((5*o+c)/6-n)/s,((5*l+d)/6-i)/a,((o+c)/2-n)/s,((l+d)/2-i)/a),[c,d,o,l,E,A]=p(this,it).subarray(12,18),p(this,xa).push(((E+5*o)/6-n)/s,((A+5*l)/6-i)/a,((5*o+c)/6-n)/s,((5*l+d)/6-i)/a,((o+c)/2-n)/s,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=p(this,uo),t=p(this,xa);if(isNaN(p(this,it)[6])&&!this.isEmpty())return D(this,Zr,hG).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);D(this,Zr,pG).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return D(this,Zr,fG).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,s,a){return new yG(e,t,n,i,s,a)}getOutlines(){var f;const e=p(this,uo),t=p(this,xa),n=p(this,it),[i,s,a,o]=p(this,es),l=new Float32Array((((f=p(this,gu))==null?void 0:f.length)??0)+2);for(let m=0,g=l.length-2;m<g;m+=2)l[m]=(p(this,gu)[m]-i)/a,l[m+1]=(p(this,gu)[m+1]-s)/o;if(l[l.length-2]=(p(this,Rh)-i)/a,l[l.length-1]=(p(this,jh)-s)/o,isNaN(n[6])&&!this.isEmpty())return D(this,Zr,mG).call(this,l);const c=new Float32Array(p(this,uo).length+24+p(this,xa).length);let d=e.length;for(let m=0;m<d;m+=2){if(isNaN(e[m])){c[m]=c[m+1]=NaN;continue}c[m]=e[m],c[m+1]=e[m+1]}d=D(this,Zr,vG).call(this,c,d);for(let m=t.length-6;m>=6;m-=6)for(let g=0;g<6;g+=2){if(isNaN(t[m+g])){c[d]=c[d+1]=NaN,d+=2;continue}c[d]=t[m+g],c[d+1]=t[m+g+1],d+=2}return D(this,Zr,gG).call(this,c,d),this.newFreeDrawOutline(c,l,p(this,es),p(this,Bm),p(this,$m),p(this,Fm))}};es=new WeakMap,xa=new WeakMap,$m=new WeakMap,Fm=new WeakMap,uo=new WeakMap,it=new WeakMap,Rh=new WeakMap,jh=new WeakMap,tw=new WeakMap,rw=new WeakMap,Bm=new WeakMap,Um=new WeakMap,gu=new WeakMap,nw=new WeakMap,dA=new WeakMap,hA=new WeakMap,Zr=new WeakSet,hy=function(){const e=p(this,it).subarray(4,6),t=p(this,it).subarray(16,18),[n,i,s,a]=p(this,es);return[(p(this,Rh)+(e[0]-t[0])/2-n)/s,(p(this,jh)+(e[1]-t[1])/2-i)/a,(p(this,Rh)+(t[0]-e[0])/2-n)/s,(p(this,jh)+(t[1]-e[1])/2-i)/a]},hG=function(){const[e,t,n,i]=p(this,es),[s,a,o,l]=D(this,Zr,hy).call(this);return`M${(p(this,it)[2]-e)/n} ${(p(this,it)[3]-t)/i} L${(p(this,it)[4]-e)/n} ${(p(this,it)[5]-t)/i} L${s} ${a} L${o} ${l} L${(p(this,it)[16]-e)/n} ${(p(this,it)[17]-t)/i} L${(p(this,it)[14]-e)/n} ${(p(this,it)[15]-t)/i} Z`},fG=function(e){const t=p(this,xa);e.push(`L${t[4]} ${t[5]} Z`)},pG=function(e){const[t,n,i,s]=p(this,es),a=p(this,it).subarray(4,6),o=p(this,it).subarray(16,18),[l,c,d,f]=D(this,Zr,hy).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-n)/s} L${l} ${c} L${d} ${f} L${(o[0]-t)/i} ${(o[1]-n)/s}`)},mG=function(e){const t=p(this,it),[n,i,s,a]=p(this,es),[o,l,c,d]=D(this,Zr,hy).call(this),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(f,e,p(this,es),p(this,Bm),p(this,$m),p(this,Fm))},gG=function(e,t){const n=p(this,xa);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},vG=function(e,t){const n=p(this,it).subarray(4,6),i=p(this,it).subarray(16,18),[s,a,o,l]=p(this,es),[c,d,f,m]=D(this,Zr,hy).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,f,m,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],t),t+=24},I(Qo,nw,8),I(Qo,dA,2),I(Qo,hA,p(Qo,nw)+p(Qo,dA));let J1=Qo;var zm,Ih,Cl,iw,ts,sw,Nr,fA,bG;class yG extends ke{constructor(t,n,i,s,a,o){super();I(this,fA);I(this,zm);I(this,Ih,new Float32Array(4));I(this,Cl);I(this,iw);I(this,ts);I(this,sw);I(this,Nr);O(this,Nr,t),O(this,ts,n),O(this,zm,i),O(this,sw,s),O(this,Cl,a),O(this,iw,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],D(this,fA,bG).call(this,o);const[l,c,d,f]=p(this,Ih);for(let m=0,g=t.length;m<g;m+=2)t[m]=(t[m]-l)/d,t[m+1]=(t[m+1]-c)/f;for(let m=0,g=n.length;m<g;m+=2)n[m]=(n[m]-l)/d,n[m+1]=(n[m+1]-c)/f}toSVGPath(){const t=[`M${p(this,Nr)[4]} ${p(this,Nr)[5]}`];for(let n=6,i=p(this,Nr).length;n<i;n+=6){if(isNaN(p(this,Nr)[n])){t.push(`L${p(this,Nr)[n+4]} ${p(this,Nr)[n+5]}`);continue}t.push(`C${p(this,Nr)[n]} ${p(this,Nr)[n+1]} ${p(this,Nr)[n+2]} ${p(this,Nr)[n+3]} ${p(this,Nr)[n+4]} ${p(this,Nr)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,s],a){const o=i-t,l=s-n;let c,d;switch(a){case 0:c=ke._rescale(p(this,Nr),t,s,o,-l),d=ke._rescale(p(this,ts),t,s,o,-l);break;case 90:c=ke._rescaleAndSwap(p(this,Nr),t,n,o,l),d=ke._rescaleAndSwap(p(this,ts),t,n,o,l);break;case 180:c=ke._rescale(p(this,Nr),i,n,-o,l),d=ke._rescale(p(this,ts),i,n,-o,l);break;case 270:c=ke._rescaleAndSwap(p(this,Nr),i,s,-o,-l),d=ke._rescaleAndSwap(p(this,ts),i,s,-o,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}get box(){return p(this,Ih)}newOutliner(t,n,i,s,a,o=0){return new J1(t,n,i,s,a,o)}getNewOutline(t,n){const[i,s,a,o]=p(this,Ih),[l,c,d,f]=p(this,zm),m=a*d,g=o*f,x=i*d+l,y=s*f+c,b=this.newOutliner({x:p(this,ts)[0]*m+x,y:p(this,ts)[1]*g+y},p(this,zm),p(this,sw),t,p(this,iw),n??p(this,Cl));for(let _=2;_<p(this,ts).length;_+=2)b.add({x:p(this,ts)[_]*m+x,y:p(this,ts)[_+1]*g+y});return b.getOutlines()}}zm=new WeakMap,Ih=new WeakMap,Cl=new WeakMap,iw=new WeakMap,ts=new WeakMap,sw=new WeakMap,Nr=new WeakMap,fA=new WeakSet,bG=function(t){const n=p(this,Nr);let i=n[4],s=n[5];const a=[i,s,i,s];let o=i,l=s,c=i,d=s;const f=t?Math.max:Math.min,m=new Float32Array(4);for(let x=6,y=n.length;x<y;x+=6){const b=n[x+4],_=n[x+5];isNaN(n[x])?(Se.pointBoundingBox(b,_,a),l>_?(o=b,l=_):l===_&&(o=f(o,b)),d<_?(c=b,d=_):d===_&&(c=f(c,b))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,Se.bezierBoundingBox(i,s,...n.slice(x,x+6),m),Se.rectBoundingBox(m[0],m[1],m[2],m[3],a),l>m[1]?(o=m[0],l=m[1]):l===m[1]&&(o=f(o,m[0])),d<m[3]?(c=m[2],d=m[3]):d===m[3]&&(c=f(c,m[2]))),i=b,s=_}const g=p(this,Ih);g[0]=a[0]-p(this,Cl),g[1]=a[1]-p(this,Cl),g[2]=a[2]-a[0]+2*p(this,Cl),g[3]=a[3]-a[1]+2*p(this,Cl),this.firstPoint=[o,l],this.lastPoint=[c,d]};var aw,ow,lw,vu,_a,hi,wG,h1,xG,_G,E2;class A2{constructor(e,t=0,n=0,i=!0){I(this,hi);I(this,aw);I(this,ow);I(this,lw);I(this,vu,[]);I(this,_a,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:y,y:b,width:_,height:E}of e){const A=Math.floor((y-t)/a)*a,C=Math.ceil((y+_+t)/a)*a,k=Math.floor((b-t)/a)*a,P=Math.ceil((b+E+t)/a)*a,j=[A,k,P,!0],M=[C,k,P,!1];p(this,vu).push(j,M),Se.rectBoundingBox(A,k,C,P,s)}const o=s[2]-s[0]+2*n,l=s[3]-s[1]+2*n,c=s[0]-n,d=s[1]-n;let f=i?-1/0:1/0,m=1/0;const g=p(this,vu).at(i?-1:-2),x=[g[0],g[2]];for(const y of p(this,vu)){const[b,_,E,A]=y;!A&&i?_<m?(m=_,f=b):_===m&&(f=Math.max(f,b)):A&&!i&&(_<m?(m=_,f=b):_===m&&(f=Math.min(f,b))),y[0]=(b-c)/o,y[1]=(_-d)/l,y[2]=(E-d)/l}O(this,aw,new Float32Array([c,d,o,l])),O(this,ow,[f,m]),O(this,lw,x)}getOutlines(){p(this,vu).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of p(this,vu))t[3]?(e.push(...D(this,hi,E2).call(this,t)),D(this,hi,xG).call(this,t)):(D(this,hi,_G).call(this,t),e.push(...D(this,hi,E2).call(this,t)));return D(this,hi,wG).call(this,e)}}aw=new WeakMap,ow=new WeakMap,lw=new WeakMap,vu=new WeakMap,_a=new WeakMap,hi=new WeakSet,wG=function(e){const t=[],n=new Set;for(const a of e){const[o,l,c]=a;t.push([o,l,a],[o,c,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],c=t[a+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const i=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,l,c,d,f]=a;n.delete(a);let m=o,g=l;for(s=[o,c],i.push(s);;){let x;if(n.has(d))x=d;else if(n.has(f))x=f;else break;n.delete(x),[o,l,c,d,f]=x,m!==o&&(s.push(m,g,o,g===l?l:c),m=o),g=g===l?c:l}s.push(m,g)}return new Uue(i,p(this,aw),p(this,ow),p(this,lw))},h1=function(e){const t=p(this,_a);let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,a=t[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1},xG=function([,e,t]){const n=D(this,hi,h1).call(this,e);p(this,_a).splice(n,0,[e,t])},_G=function([,e,t]){const n=D(this,hi,h1).call(this,e);for(let i=n;i<p(this,_a).length;i++){const[s,a]=p(this,_a)[i];if(s!==e)break;if(s===e&&a===t){p(this,_a).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,a]=p(this,_a)[i];if(s!==e)break;if(s===e&&a===t){p(this,_a).splice(i,1);return}}},E2=function(e){const[t,n,i]=e,s=[[t,n,i]],a=D(this,hi,h1).call(this,i);for(let o=0;o<a;o++){const[l,c]=p(this,_a)[o];for(let d=0,f=s.length;d<f;d++){const[,m,g]=s[d];if(!(c<=m||g<=l)){if(m>=l){if(g>c)s[d][1]=c;else{if(f===1)return[];s.splice(d,1),d--,f--}continue}s[d][2]=l,g>c&&s.push([t,c,g])}}}return s};var cw,qm;class Uue extends ke{constructor(t,n,i,s){super();I(this,cw);I(this,qm);O(this,qm,t),O(this,cw,n),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const t=[];for(const n of p(this,qm)){let[i,s]=n;t.push(`M${i} ${s}`);for(let a=2;a<n.length;a+=2){const o=n[a],l=n[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,n,i,s],a){const o=[],l=i-t,c=s-n;for(const d of p(this,qm)){const f=new Array(d.length);for(let m=0;m<d.length;m+=2)f[m]=t+d[m]*l,f[m+1]=s-d[m+1]*c;o.push(f)}return o}get box(){return p(this,cw)}get classNamesForOutlining(){return["highlightOutline"]}}cw=new WeakMap,qm=new WeakMap;class k2 extends J1{newFreeDrawOutline(e,t,n,i,s,a){return new zue(e,t,n,i,s,a)}}class zue extends yG{newOutliner(e,t,n,i,s,a=0){return new k2(e,t,n,i,s,a)}}var Hm,uw,Tl,Mh,dw,Ei,hw,fw,Dh,rs,ns,kn,Wm,Vm,Gn,Gm,qs,pw,Ze,C2,f1,SG,AG,EG,T2,bd,Vs,fp,kG,p1,m1,CG,TG,PG,OG,NG;const vt=class vt extends Yt{constructor(t){super({...t,name:"highlightEditor"});I(this,Ze);I(this,Hm,null);I(this,uw,0);I(this,Tl);I(this,Mh,null);I(this,dw,null);I(this,Ei,null);I(this,hw,null);I(this,fw,0);I(this,Dh,null);I(this,rs,null);I(this,ns,null);I(this,kn,!1);I(this,Wm,null);I(this,Vm,null);I(this,Gn,null);I(this,Gm,"");I(this,qs);I(this,pw,"");this.color=t.color||vt._defaultColor,O(this,qs,t.thickness||vt._defaultThickness),this.opacity=t.opacity||vt._defaultOpacity,O(this,Tl,t.boxes||null),O(this,pw,t.methodOfCreation||""),O(this,Gm,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(O(this,kn,!0),D(this,Ze,f1).call(this,t),D(this,Ze,bd).call(this)):p(this,Tl)&&(O(this,Hm,t.anchorNode),O(this,uw,t.anchorOffset),O(this,hw,t.focusNode),O(this,fw,t.focusOffset),D(this,Ze,C2).call(this),D(this,Ze,bd).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=vt.prototype;return Ge(this,"_keyboardManager",new Nw([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:p(this,kn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:p(this,qs),methodOfCreation:p(this,pw)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;Yt.initialize(t,n),vt._defaultColor||(vt._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case lt.HIGHLIGHT_COLOR:vt._defaultColor=n;break;case lt.HIGHLIGHT_THICKNESS:vt._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return p(this,Vm)}get commentButtonPosition(){return p(this,Wm)}updateParams(t,n){switch(t){case lt.HIGHLIGHT_COLOR:D(this,Ze,SG).call(this,n);break;case lt.HIGHLIGHT_THICKNESS:D(this,Ze,AG).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[lt.HIGHLIGHT_COLOR,vt._defaultColor],[lt.HIGHLIGHT_THICKNESS,vt._defaultThickness]]}get propertiesToUpdate(){return[[lt.HIGHLIGHT_COLOR,this.color||vt._defaultColor],[lt.HIGHLIGHT_THICKNESS,p(this,qs)||vt._defaultThickness],[lt.HIGHLIGHT_FREE,p(this,kn)]]}onUpdatedColor(){var t,n;(t=this.parent)==null||t.drawLayer.updateProperties(p(this,ns),{root:{fill:this.color,"fill-opacity":this.opacity}}),(n=p(this,dw))==null||n.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",O(this,dw,new K1({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(D(this,Ze,m1).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,D(this,Ze,m1).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){D(this,Ze,T2).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(D(this,Ze,bd).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?D(this,Ze,T2).call(this):t&&(D(this,Ze,bd).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var s,a,o;const{drawLayer:n}=this.parent;let i;p(this,kn)?(t=(t-this.rotation+360)%360,i=D(s=vt,Vs,fp).call(s,p(this,rs).box,t)):i=D(a=vt,Vs,fp).call(a,[this.x,this.y,this.width,this.height],t),n.updateProperties(p(this,ns),{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(p(this,Gn),{bbox:D(o=vt,Vs,fp).call(o,p(this,Ei).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();p(this,Gm)&&(t.setAttribute("aria-label",p(this,Gm)),t.setAttribute("role","mark")),p(this,kn)?t.classList.add("free"):this.div.addEventListener("keydown",D(this,Ze,kG).bind(this),{signal:this._uiManager._signal});const n=O(this,Dh,document.createElement("div"));return t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=p(this,Mh),this.setDims(),YW(this,p(this,Dh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(p(this,Gn),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(p(this,Gn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:D(this,Ze,p1).call(this,!0);break;case 1:case 3:D(this,Ze,p1).call(this,!1);break}}select(){var t;super.select(),p(this,Gn)&&((t=this.parent)==null||t.drawLayer.updateProperties(p(this,Gn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),p(this,Gn)&&((t=this.parent)==null||t.drawLayer.updateProperties(p(this,Gn),{rootClass:{selected:!1}}),p(this,kn)||D(this,Ze,p1).call(this,!1))}get _mustFixPosition(){return!p(this,kn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(p(this,ns),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(p(this,Gn),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:i,x:s,y:a}){const{x:o,y:l,width:c,height:d}=i.getBoundingClientRect(),f=new AbortController,m=t.combinedSignal(f),g=x=>{f.abort(),D(this,Vs,OG).call(this,t,x)};window.addEventListener("blur",g,{signal:m}),window.addEventListener("pointerup",g,{signal:m}),window.addEventListener("pointerdown",Er,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Xs,{signal:m}),i.addEventListener("pointermove",D(this,Vs,PG).bind(this,t),{signal:m}),this._freeHighlight=new k2({x:s,y:a},[o,l,c,d],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,i){var y,b,_,E;let s=null;if(t instanceof sG){const{data:{quadPoints:A,rect:C,rotation:k,id:P,color:j,opacity:M,popupRef:$,richText:U,contentsObj:F,creationDate:z,modificationDate:V},parent:{page:{pageNumber:X}}}=t;s=t={annotationType:Xe.HIGHLIGHT,color:Array.from(j),opacity:M,quadPoints:A,boxes:null,pageIndex:X-1,rect:C.slice(0),rotation:k,annotationElementId:P,id:P,deleted:!1,popupRef:$,richText:U,comment:(F==null?void 0:F.str)||null,creationDate:z,modificationDate:V}}else if(t instanceof QI){const{data:{inkLists:A,rect:C,rotation:k,id:P,color:j,borderStyle:{rawWidth:M},popupRef:$,richText:U,contentsObj:F,creationDate:z,modificationDate:V},parent:{page:{pageNumber:X}}}=t;s=t={annotationType:Xe.HIGHLIGHT,color:Array.from(j),thickness:M,inkLists:A,boxes:null,pageIndex:X-1,rect:C.slice(0),rotation:k,annotationElementId:P,id:P,deleted:!1,popupRef:$,richText:U,comment:(F==null?void 0:F.str)||null,creationDate:z,modificationDate:V}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=t,d=await super.deserialize(t,n,i);d.color=Se.makeHexColor(...a),d.opacity=c||1,l&&O(d,qs,t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[f,m]=d.pageDimensions,[g,x]=d.pageTranslation;if(o){const A=O(d,Tl,[]);for(let C=0;C<o.length;C+=8)A.push({x:(o[C]-g)/f,y:1-(o[C+1]-x)/m,width:(o[C+2]-o[C])/f,height:(o[C+1]-o[C+5])/m});D(y=d,Ze,C2).call(y),D(b=d,Ze,bd).call(b),d.rotate(d.rotation)}else if(l){O(d,kn,!0);const A=l[0],C={x:A[0]-g,y:m-(A[1]-x)},k=new k2(C,[0,0,f,m],1,p(d,qs)/2,!0,.001);for(let M=0,$=A.length;M<$;M+=2)C.x=A[M]-g,C.y=m-(A[M+1]-x),k.add(C);const{id:P,clipPathId:j}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:k.toSVGPath()}},!0,!0);D(_=d,Ze,f1).call(_,{highlightOutlines:k.getOutlines(),highlightId:P,clipPathId:j}),D(E=d,Ze,bd).call(E),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=Yt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:n,opacity:this.opacity,thickness:p(this,qs),quadPoints:D(this,Ze,CG).call(this),outlines:D(this,Ze,TG).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!D(this,Ze,NG).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Hm=new WeakMap,uw=new WeakMap,Tl=new WeakMap,Mh=new WeakMap,dw=new WeakMap,Ei=new WeakMap,hw=new WeakMap,fw=new WeakMap,Dh=new WeakMap,rs=new WeakMap,ns=new WeakMap,kn=new WeakMap,Wm=new WeakMap,Vm=new WeakMap,Gn=new WeakMap,Gm=new WeakMap,qs=new WeakMap,pw=new WeakMap,Ze=new WeakSet,C2=function(){const t=new A2(p(this,Tl),.001);O(this,rs,t.getOutlines()),[this.x,this.y,this.width,this.height]=p(this,rs).box;const n=new A2(p(this,Tl),.0025,.001,this._uiManager.direction==="ltr");O(this,Ei,n.getOutlines());const{firstPoint:i}=p(this,rs);O(this,Wm,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=p(this,Ei);O(this,Vm,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},f1=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var m,g;if(O(this,rs,t),O(this,Ei,t.getNewOutline(p(this,qs)/2+1.5,.0025)),n>=0)O(this,ns,n),O(this,Mh,i),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),O(this,Gn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:p(this,Ei).box,path:{d:p(this,Ei).toSVGPath()}},!0));else if(this.parent){const x=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(p(this,ns),{bbox:D(m=vt,Vs,fp).call(m,p(this,rs).box,(x-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(p(this,Gn),{bbox:D(g=vt,Vs,fp).call(g,p(this,Ei).box,x),path:{d:p(this,Ei).toSVGPath()}})}const[a,o,l,c]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[x,y]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*y/x,this.height=c*x/y;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[x,y]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*y/x,this.height=c*x/y;break}}const{firstPoint:d}=t;O(this,Wm,[(d[0]-a)/l,(d[1]-o)/c]);const{lastPoint:f}=p(this,Ei);O(this,Vm,[(f[0]-a)/l,(f[1]-o)/c])},SG=function(t){const n=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:n.bind(this,t,vt._defaultOpacity),undo:n.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:lt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},AG=function(t){const n=p(this,qs),i=s=>{O(this,qs,s),D(this,Ze,EG).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:lt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},EG=function(t){p(this,kn)&&(D(this,Ze,f1).call(this,{highlightOutlines:p(this,rs).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},T2=function(){p(this,ns)===null||!this.parent||(this.parent.drawLayer.remove(p(this,ns)),O(this,ns,null),this.parent.drawLayer.remove(p(this,Gn)),O(this,Gn,null))},bd=function(t=this.parent){p(this,ns)===null&&({id:Hr(this,ns)._,clipPathId:Hr(this,Mh)._}=t.drawLayer.draw({bbox:p(this,rs).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:p(this,kn)},path:{d:p(this,rs).toSVGPath()}},!1,!0),O(this,Gn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:p(this,kn)},bbox:p(this,Ei).box,path:{d:p(this,Ei).toSVGPath()}},p(this,kn))),p(this,Dh)&&(p(this,Dh).style.clipPath=p(this,Mh)))},Vs=new WeakSet,fp=function([t,n,i,s],a){switch(a){case 90:return[1-n-s,t,s,i];case 180:return[1-t-i,1-n-s,i,s];case 270:return[n,1-t-i,s,i]}return[t,n,i,s]},kG=function(t){vt._keyboardManager.exec(this,t)},p1=function(t){if(!p(this,Hm))return;const n=window.getSelection();t?n.setPosition(p(this,Hm),p(this,uw)):n.setPosition(p(this,hw),p(this,fw))},m1=function(){return p(this,kn)?this.rotation:0},CG=function(){if(p(this,kn))return null;const[t,n]=this.pageDimensions,[i,s]=this.pageTranslation,a=p(this,Tl),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:d,width:f,height:m}of a){const g=c*t+i,x=(1-d)*n+s;o[l]=o[l+4]=g,o[l+1]=o[l+3]=x,o[l+2]=o[l+6]=g+f*t,o[l+5]=o[l+7]=x-m*n,l+=8}return o},TG=function(t){return p(this,rs).serialize(t,D(this,Ze,m1).call(this))},PG=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},OG=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},NG=function(t){const{color:n}=this._initialData;return this.hasEditedComment||t.color.some((i,s)=>i!==n[s])},I(vt,Vs),he(vt,"_defaultColor",null),he(vt,"_defaultOpacity",1),he(vt,"_defaultThickness",12),he(vt,"_type","highlight"),he(vt,"_editorType",Xe.HIGHLIGHT),he(vt,"_freeHighlightId",-1),he(vt,"_freeHighlight",null),he(vt,"_freeHighlightClipId","");let Q1=vt;var Lh;class RG{constructor(){I(this,Lh,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){p(this,Lh)[e]=t}toSVGProperties(){const e=p(this,Lh);return O(this,Lh,Object.create(null)),{root:e}}reset(){O(this,Lh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){zt("Not implemented")}}Lh=new WeakMap;var is,Km,cn,$h,Fh,dt,P2,O2,N2,fy,jG,g1,py,pp;const ot=class ot extends Yt{constructor(t){super(t);I(this,dt);I(this,is,null);I(this,Km);he(this,"_colorPicker",null);he(this,"_drawId",null);O(this,Km,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(D(this,dt,P2).call(this,t),D(this,dt,fy).call(this))}static _mergeSVGProperties(t,n){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(n))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){zt("Not implemented")}static get typesMap(){zt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(p(ot,cn).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,n[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,n[s]]);return t}_updateProperty(t,n,i){const s=this._drawingOptions,a=s[n],o=l=>{var d;s.updateProperty(n,l);const c=p(this,is).updateProperty(n,l);c&&D(this,dt,py).call(this,c),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ot._mergeSVGProperties(p(this,is).getPathResizingSVGProperties(D(this,dt,g1).call(this)),{bbox:D(this,dt,pp).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ot._mergeSVGProperties(p(this,is).getPathResizedSVGProperties(D(this,dt,g1).call(this)),{bbox:D(this,dt,pp).call(this)}))}_onTranslating(t,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:D(this,dt,pp).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ot._mergeSVGProperties(p(this,is).getPathTranslatedSVGProperties(D(this,dt,g1).call(this),this.parentDimensions),{bbox:D(this,dt,pp).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,p(this,Km)&&(O(this,Km,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){D(this,dt,N2).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(D(this,dt,fy).call(this),D(this,dt,py).call(this,p(this,is).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),D(this,dt,N2).call(this)):t&&(this._uiManager.addShouldRescale(this),D(this,dt,fy).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ot._mergeSVGProperties({bbox:D(this,dt,pp).call(this)},p(this,is).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&D(this,dt,py).call(this,p(this,is).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),i}static createDrawerInstance(t,n,i,s,a){zt("Not implemented")}static startDrawing(t,n,i,s){var b;const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:d}=s;if(zn.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:f}}=t,{width:m,height:g}=a.getBoundingClientRect(),x=O(ot,$h,new AbortController),y=t.combinedSignal(x);if(zn.setPointer(d,c),window.addEventListener("pointerup",_=>{zn.isSamePointerIdOrRemove(_.pointerId)&&this._endDraw(_)},{signal:y}),window.addEventListener("pointercancel",_=>{zn.isSamePointerIdOrRemove(_.pointerId)&&this._currentParent.endDrawingSession()},{signal:y}),window.addEventListener("pointerdown",_=>{zn.isSamePointerType(_.pointerType)&&(zn.initializeAndAddPointerId(_.pointerId),p(ot,cn).isCancellable()&&(p(ot,cn).removeLastElement(),p(ot,cn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Xs,{signal:y}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:y}),a.addEventListener("touchmove",_=>{zn.isSameTimeStamp(_.timeStamp)&&Er(_)},{signal:y}),t.toggleDrawing(),(b=n._editorUndoBar)==null||b.hide(),p(ot,cn)){t.drawLayer.updateProperties(this._currentDrawId,p(ot,cn).startNew(o,l,m,g,f));return}n.updateUIForDefaultProperties(this),O(ot,cn,this.createDrawerInstance(o,l,m,g,f)),O(ot,Fh,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(p(ot,Fh).toSVGProperties(),p(ot,cn).defaultSVGProperties),!0,!1)}static _drawMove(t){if(zn.isSameTimeStamp(t.timeStamp),!p(ot,cn))return;const{offsetX:n,offsetY:i,pointerId:s}=t;if(zn.isSamePointerId(s)){if(zn.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,p(ot,cn).add(n,i)),zn.setTimeStamp(t.timeStamp),Er(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,O(ot,cn,null),O(ot,Fh,null),zn.clearTimeStamp()),p(ot,$h)&&(p(ot,$h).abort(),O(ot,$h,null),zn.clearPointerIds())}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,p(ot,cn).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=p(ot,cn),s=this._currentDrawId,a=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:lt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(lt.DRAW_STEP),!p(ot,cn).isEmpty()){const{pageDimensions:[i,s],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:p(ot,cn).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:p(ot,Fh),mustBeCommitted:!t});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,s,a,o){zt("Not implemented")}static async deserialize(t,n,i){var f,m;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=n.viewport,c=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),d=await super.deserialize(t,n,i);return d.createDrawingOptions(t),D(f=d,dt,P2).call(f,{drawOutlines:c}),D(m=d,dt,fy).call(m),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[n,i]=this.pageTranslation,[s,a]=this.pageDimensions;return p(this,is).serialize([n,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};is=new WeakMap,Km=new WeakMap,cn=new WeakMap,$h=new WeakMap,Fh=new WeakMap,dt=new WeakSet,P2=function({drawOutlines:t,drawId:n,drawingOptions:i}){O(this,is,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=D(this,dt,O2).call(this,t,this.parent),D(this,dt,py).call(this,t.box)},O2=function(t,n){const{id:i}=n.drawLayer.draw(ot._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},N2=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},fy=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=D(this,dt,O2).call(this,p(this,is),t)}},jG=function([t,n,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[n,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-n,i,s];case 270:return[1-n,t,i*(o/a),s*(a/o)];default:return[t,n,i,s]}},g1=function(){const{x:t,y:n,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-n,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-n,i,s];case 270:return[n,1-t,i*(a/o),s*(o/a)];default:return[t,n,i,s]}},py=function(t){[this.x,this.y,this.width,this.height]=D(this,dt,jG).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},pp=function(){const{x:t,y:n,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,c]}=this;switch((a*4+o)/90){case 1:return[1-n-s,t,s,i];case 2:return[1-t-i,1-n-s,i,s];case 3:return[n,1-t-i,s,i];case 4:return[t,n-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-n,t,i*(l/c),s*(c/l)];case 6:return[1-t-s*(c/l),1-n,s*(c/l),i*(l/c)];case 7:return[n-i*(l/c),1-t-s*(c/l),i*(l/c),s*(c/l)];case 8:return[t-i,n-s,i,s];case 9:return[1-n,t-i,s,i];case 10:return[1-t,1-n,i,s];case 11:return[n-s,1-t,s,i];case 12:return[t-s*(c/l),n,s*(c/l),i*(l/c)];case 13:return[1-n-i*(l/c),t-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-t,1-n-i*(l/c),s*(c/l),i*(l/c)];case 15:return[n,1-t,i*(l/c),s*(c/l)];default:return[t,n,i,s]}},he(ot,"_currentDrawId",-1),he(ot,"_currentParent",null),I(ot,cn,null),I(ot,$h,null),I(ot,Fh,null),he(ot,"_INNER_MARGIN",3);let Z1=ot;var ho,un,dn,Bh,Ym,si,Cn,Hs,Uh,zh,qh,Xm,v1;class que{constructor(e,t,n,i,s,a){I(this,Xm);I(this,ho,new Float64Array(6));I(this,un);I(this,dn);I(this,Bh);I(this,Ym);I(this,si);I(this,Cn,"");I(this,Hs,0);I(this,Uh,new jw);I(this,zh);I(this,qh);O(this,zh,n),O(this,qh,i),O(this,Bh,s),O(this,Ym,a),[e,t]=D(this,Xm,v1).call(this,e,t);const o=O(this,un,[NaN,NaN,NaN,NaN,e,t]);O(this,si,[e,t]),O(this,dn,[{line:o,points:p(this,si)}]),p(this,ho).set(o,0)}updateProperty(e,t){e==="stroke-width"&&O(this,Ym,t)}isEmpty(){return!p(this,dn)||p(this,dn).length===0}isCancellable(){return p(this,si).length<=10}add(e,t){[e,t]=D(this,Xm,v1).call(this,e,t);const[n,i,s,a]=p(this,ho).subarray(2,6),o=e-s,l=t-a;return Math.hypot(p(this,zh)*o,p(this,qh)*l)<=2?null:(p(this,si).push(e,t),isNaN(n)?(p(this,ho).set([s,a,e,t],2),p(this,un).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(p(this,ho)[0])&&p(this,un).splice(6,6),p(this,ho).set([n,i,s,a,e,t],0),p(this,un).push(...ke.createBezierPoints(n,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(p(this,si).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,s){O(this,zh,n),O(this,qh,i),O(this,Bh,s),[e,t]=D(this,Xm,v1).call(this,e,t);const a=O(this,un,[NaN,NaN,NaN,NaN,e,t]);O(this,si,[e,t]);const o=p(this,dn).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),p(this,dn).push({line:a,points:p(this,si)}),p(this,ho).set(a,0),O(this,Hs,0),this.toSVGPath(),null}getLastElement(){return p(this,dn).at(-1)}setLastElement(e){return p(this,dn)?(p(this,dn).push(e),O(this,un,e.line),O(this,si,e.points),O(this,Hs,0),{path:{d:this.toSVGPath()}}):p(this,Uh).setLastElement(e)}removeLastElement(){if(!p(this,dn))return p(this,Uh).removeLastElement();p(this,dn).pop(),O(this,Cn,"");for(let e=0,t=p(this,dn).length;e<t;e++){const{line:n,points:i}=p(this,dn)[e];O(this,un,n),O(this,si,i),O(this,Hs,0),this.toSVGPath()}return{path:{d:p(this,Cn)}}}toSVGPath(){const e=ke.svgRound(p(this,un)[4]),t=ke.svgRound(p(this,un)[5]);if(p(this,si).length===2)return O(this,Cn,`${p(this,Cn)} M ${e} ${t} Z`),p(this,Cn);if(p(this,si).length<=6){const i=p(this,Cn).lastIndexOf("M");O(this,Cn,`${p(this,Cn).slice(0,i)} M ${e} ${t}`),O(this,Hs,6)}if(p(this,si).length===4){const i=ke.svgRound(p(this,un)[10]),s=ke.svgRound(p(this,un)[11]);return O(this,Cn,`${p(this,Cn)} L ${i} ${s}`),O(this,Hs,12),p(this,Cn)}const n=[];p(this,Hs)===0&&(n.push(`M ${e} ${t}`),O(this,Hs,6));for(let i=p(this,Hs),s=p(this,un).length;i<s;i+=6){const[a,o,l,c,d,f]=p(this,un).slice(i,i+6).map(ke.svgRound);n.push(`C${a} ${o} ${l} ${c} ${d} ${f}`)}return O(this,Cn,p(this,Cn)+n.join(" ")),O(this,Hs,p(this,un).length),p(this,Cn)}getOutlines(e,t,n,i){const s=p(this,dn).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),p(this,Uh).build(p(this,dn),e,t,n,p(this,Bh),p(this,Ym),i),O(this,ho,null),O(this,un,null),O(this,dn,null),O(this,Cn,null),p(this,Uh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}ho=new WeakMap,un=new WeakMap,dn=new WeakMap,Bh=new WeakMap,Ym=new WeakMap,si=new WeakMap,Cn=new WeakMap,Hs=new WeakMap,Uh=new WeakMap,zh=new WeakMap,qh=new WeakMap,Xm=new WeakSet,v1=function(e,t){return ke._normalizePoint(e,t,p(this,zh),p(this,qh),p(this,Bh))};var ai,mw,gw,ss,fo,po,Jm,Qm,Hh,On,Yo,IG,MG,DG;class jw extends ke{constructor(){super(...arguments);I(this,On);I(this,ai);I(this,mw,0);I(this,gw);I(this,ss);I(this,fo);I(this,po);I(this,Jm);I(this,Qm);I(this,Hh)}build(t,n,i,s,a,o,l){O(this,fo,n),O(this,po,i),O(this,Jm,s),O(this,Qm,a),O(this,Hh,o),O(this,gw,l??0),O(this,ss,t),D(this,On,MG).call(this)}get thickness(){return p(this,Hh)}setLastElement(t){return p(this,ss).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return p(this,ss).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of p(this,ss)){if(t.push(`M${ke.svgRound(n[4])} ${ke.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${ke.svgRound(n[10])} ${ke.svgRound(n[11])}`);continue}for(let i=6,s=n.length;i<s;i+=6){const[a,o,l,c,d,f]=n.subarray(i,i+6).map(ke.svgRound);t.push(`C${a} ${o} ${l} ${c} ${d} ${f}`)}}return t.join("")}serialize([t,n,i,s],a){const o=[],l=[],[c,d,f,m]=D(this,On,IG).call(this);let g,x,y,b,_,E,A,C,k;switch(p(this,Qm)){case 0:k=ke._rescale,g=t,x=n+s,y=i,b=-s,_=t+c*i,E=n+(1-d-m)*s,A=t+(c+f)*i,C=n+(1-d)*s;break;case 90:k=ke._rescaleAndSwap,g=t,x=n,y=i,b=s,_=t+d*i,E=n+c*s,A=t+(d+m)*i,C=n+(c+f)*s;break;case 180:k=ke._rescale,g=t+i,x=n,y=-i,b=s,_=t+(1-c-f)*i,E=n+d*s,A=t+(1-c)*i,C=n+(d+m)*s;break;case 270:k=ke._rescaleAndSwap,g=t+i,x=n+s,y=-i,b=-s,_=t+(1-d-m)*i,E=n+(1-c-f)*s,A=t+(1-d)*i,C=n+(1-c)*s;break}for(const{line:P,points:j}of p(this,ss))o.push(k(P,g,x,y,b,a?new Array(P.length):null)),l.push(k(j,g,x,y,b,a?new Array(j.length):null));return{lines:o,points:l,rect:[_,E,A,C]}}static deserialize(t,n,i,s,a,{paths:{lines:o,points:l},rotation:c,thickness:d}){const f=[];let m,g,x,y,b;switch(c){case 0:b=ke._rescale,m=-t/i,g=n/s+1,x=1/i,y=-1/s;break;case 90:b=ke._rescaleAndSwap,m=-n/s,g=-t/i,x=1/s,y=1/i;break;case 180:b=ke._rescale,m=t/i+1,g=-n/s,x=-1/i,y=1/s;break;case 270:b=ke._rescaleAndSwap,m=n/s+1,g=t/i+1,x=-1/s,y=-1/i;break}if(!o){o=[];for(const E of l){const A=E.length;if(A===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(A===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const C=new Float32Array(3*(A-2));o.push(C);let[k,P,j,M]=E.subarray(0,4);C.set([NaN,NaN,NaN,NaN,k,P],0);for(let $=4;$<A;$+=2){const U=E[$],F=E[$+1];C.set(ke.createBezierPoints(k,P,j,M,U,F),($-2)*3),[k,P,j,M]=[j,M,U,F]}}}for(let E=0,A=o.length;E<A;E++)f.push({line:b(o[E].map(C=>C??NaN),m,g,x,y),points:b(l[E].map(C=>C??NaN),m,g,x,y)});const _=new this.prototype.constructor;return _.build(f,i,s,1,c,d,a),_}get box(){return p(this,ai)}updateProperty(t,n){return t==="stroke-width"?D(this,On,DG).call(this,n):null}updateParentDimensions([t,n],i){const[s,a]=D(this,On,Yo).call(this);O(this,fo,t),O(this,po,n),O(this,Jm,i);const[o,l]=D(this,On,Yo).call(this),c=o-s,d=l-a,f=p(this,ai);return f[0]-=c,f[1]-=d,f[2]+=2*c,f[3]+=2*d,f}updateRotation(t){return O(this,mw,t),{path:{transform:this.rotationTransform}}}get viewBox(){return p(this,ai).map(ke.svgRound).join(" ")}get defaultProperties(){const[t,n]=p(this,ai);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=p(this,ai);let i=0,s=0,a=0,o=0,l=0,c=0;switch(p(this,mw)){case 90:s=n/t,a=-t/n,l=t;break;case 180:i=-1,o=-1,l=t,c=n;break;case 270:s=-n/t,a=t/n,c=n;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${ke.svgRound(l)} ${ke.svgRound(c)})`}getPathResizingSVGProperties([t,n,i,s]){const[a,o]=D(this,On,Yo).call(this),[l,c,d,f]=p(this,ai);if(Math.abs(d-a)<=ke.PRECISION||Math.abs(f-o)<=ke.PRECISION){const b=t+i/2-(l+d/2),_=n+s/2-(c+f/2);return{path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(n)}`,transform:`${this.rotationTransform} translate(${b} ${_})`}}}const m=(i-2*a)/(d-2*a),g=(s-2*o)/(f-2*o),x=d/i,y=f/s;return{path:{"transform-origin":`${ke.svgRound(l)} ${ke.svgRound(c)}`,transform:`${this.rotationTransform} scale(${x} ${y}) translate(${ke.svgRound(a)} ${ke.svgRound(o)}) scale(${m} ${g}) translate(${ke.svgRound(-a)} ${ke.svgRound(-o)})`}}}getPathResizedSVGProperties([t,n,i,s]){const[a,o]=D(this,On,Yo).call(this),l=p(this,ai),[c,d,f,m]=l;if(l[0]=t,l[1]=n,l[2]=i,l[3]=s,Math.abs(f-a)<=ke.PRECISION||Math.abs(m-o)<=ke.PRECISION){const _=t+i/2-(c+f/2),E=n+s/2-(d+m/2);for(const{line:A,points:C}of p(this,ss))ke._translate(A,_,E,A),ke._translate(C,_,E,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(i-2*a)/(f-2*a),x=(s-2*o)/(m-2*o),y=-g*(c+a)+t+a,b=-x*(d+o)+n+o;if(g!==1||x!==1||y!==0||b!==0)for(const{line:_,points:E}of p(this,ss))ke._rescale(_,y,b,g,x,_),ke._rescale(E,y,b,g,x,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){const[s,a]=i,o=p(this,ai),l=t-o[0],c=n-o[1];if(p(this,fo)===s&&p(this,po)===a)for(const{line:d,points:f}of p(this,ss))ke._translate(d,l,c,d),ke._translate(f,l,c,f);else{const d=p(this,fo)/s,f=p(this,po)/a;O(this,fo,s),O(this,po,a);for(const{line:m,points:g}of p(this,ss))ke._rescale(m,l,c,d,f,m),ke._rescale(g,l,c,d,f,g);o[2]*=d,o[3]*=f}return o[0]=t,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(n)}`}}}get defaultSVGProperties(){const t=p(this,ai);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ke.svgRound(t[0])} ${ke.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}ai=new WeakMap,mw=new WeakMap,gw=new WeakMap,ss=new WeakMap,fo=new WeakMap,po=new WeakMap,Jm=new WeakMap,Qm=new WeakMap,Hh=new WeakMap,On=new WeakSet,Yo=function(t=p(this,Hh)){const n=p(this,gw)+t/2*p(this,Jm);return p(this,Qm)%180===0?[n/p(this,fo),n/p(this,po)]:[n/p(this,po),n/p(this,fo)]},IG=function(){const[t,n,i,s]=p(this,ai),[a,o]=D(this,On,Yo).call(this,0);return[t+a,n+o,i-2*a,s-2*o]},MG=function(){const t=O(this,ai,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of p(this,ss)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)Se.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,c=s.length;l<c;l+=6){const[d,f,m,g,x,y]=s.subarray(l,l+6);Se.bezierBoundingBox(a,o,d,f,m,g,x,y,t),a=x,o=y}}const[n,i]=D(this,On,Yo).call(this);t[0]=ci(t[0]-n,0,1),t[1]=ci(t[1]-i,0,1),t[2]=ci(t[2]+n,0,1),t[3]=ci(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},DG=function(t){const[n,i]=D(this,On,Yo).call(this);O(this,Hh,t);const[s,a]=D(this,On,Yo).call(this),[o,l]=[s-n,a-i],c=p(this,ai);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};class MA extends RG{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Yt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new MA(this._viewParameters);return e.updateAll(this),e}}var pA,LG;const Ap=class Ap extends Z1{constructor(t){super({...t,name:"inkEditor"});I(this,pA);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){Yt.initialize(t,n),this._defaultDrawingOptions=new MA(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ge(this,"typesMap",new Map([[lt.INK_THICKNESS,"stroke-width"],[lt.INK_COLOR,"stroke"],[lt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,s,a){return new que(t,n,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,s,a,o){return jw.deserialize(t,n,i,s,a,o)}static async deserialize(t,n,i){let s=null;if(t instanceof QI){const{data:{inkLists:o,rect:l,rotation:c,id:d,color:f,opacity:m,borderStyle:{rawWidth:g},popupRef:x,richText:y,contentsObj:b,creationDate:_,modificationDate:E},parent:{page:{pageNumber:A}}}=t;s=t={annotationType:Xe.INK,color:Array.from(f),thickness:g,opacity:m,paths:{points:o},boxes:null,pageIndex:A-1,rect:l.slice(0),rotation:c,annotationElementId:d,id:d,deleted:!1,popupRef:x,richText:y,comment:(b==null?void 0:b.str)||null,creationDate:_,modificationDate:E}}const a=await super.deserialize(t,n,i);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Y1(this)),[["colorPicker",this._colorPicker]]}get colorType(){return lt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=Ap.getDefaultDrawingOptions({stroke:Se.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:Yt._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:n,points:i}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!D(this,pA,LG).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:n,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}};pA=new WeakSet,LG=function(t){const{color:n,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==n[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},he(Ap,"_type","ink"),he(Ap,"_editorType",Xe.INK),he(Ap,"_defaultDrawingOptions",null);let R2=Ap;class j2 extends jw{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const x_=8,$v=3;var Wh,kt,I2,Sa,$G,FG,M2,y1,BG,UG,zG,D2,L2,qG;class Il{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},s,a,o,l){let c=new OffscreenCanvas(1,1),d=c.getContext("2d",{alpha:!1});const f=200,m=d.font=`${n} ${i} ${f}px ${t}`,{actualBoundingBoxLeft:g,actualBoundingBoxRight:x,actualBoundingBoxAscent:y,actualBoundingBoxDescent:b,fontBoundingBoxAscent:_,fontBoundingBoxDescent:E,width:A}=d.measureText(e),C=1.5,k=Math.ceil(Math.max(Math.abs(g)+Math.abs(x)||0,A)*C),P=Math.ceil(Math.max(Math.abs(y)+Math.abs(b)||f,Math.abs(_)+Math.abs(E)||f)*C);c=new OffscreenCanvas(k,P),d=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=m,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,k,P),d.fillStyle="black",d.fillText(e,k*(C-1)/2,P*(3-C)/2);const j=D(this,kt,D2).call(this,d.getImageData(0,0,k,P).data),M=D(this,kt,zG).call(this,j),$=D(this,kt,L2).call(this,M),U=D(this,kt,M2).call(this,j,k,P,$);return this.processDrawnLines({lines:{curves:U,width:k,height:P},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,s){const[a,o,l]=D(this,kt,qG).call(this,e),[c,d]=D(this,kt,UG).call(this,a,o,l,Math.hypot(o,l)*p(this,Wh).sigmaSFactor,p(this,Wh).sigmaR,p(this,Wh).kernelSize),f=D(this,kt,L2).call(this,d),m=D(this,kt,M2).call(this,c,o,l,f);return this.processDrawnLines({lines:{curves:m,width:o,height:l},pageWidth:t,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([t,n]=[n,t]);const{curves:l,width:c,height:d}=e,f=e.thickness??0,m=[],g=Math.min(t/c,n/d),x=g/t,y=g/n,b=[];for(const{points:E}of l){const A=a?D(this,kt,BG).call(this,E):E;if(!A)continue;b.push(A);const C=A.length,k=new Float32Array(C),P=new Float32Array(3*(C===2?2:C-2));if(m.push({line:P,points:k}),C===2){k[0]=A[0]*x,k[1]=A[1]*y,P.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[j,M,$,U]=A;j*=x,M*=y,$*=x,U*=y,k.set([j,M,$,U],0),P.set([NaN,NaN,NaN,NaN,j,M],0);for(let F=4;F<C;F+=2){const z=k[F]=A[F]*x,V=k[F+1]=A[F+1]*y;P.set(ke.createBezierPoints(j,M,$,U,z,V),(F-2)*3),[j,M,$,U]=[$,U,z,V]}}if(m.length===0)return null;const _=o?new j2:new jw;return _.build(m,t,n,1,i,o?0:f,s),{outline:_,newCurves:b,areContours:o,thickness:f,width:c,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const A of e){l+=A.length;for(let C=2,k=A.length;C<k;C++){const P=A[C]-A[C-2];a=Math.min(a,P),o=Math.max(o,P)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const d=e.length,f=x_+$v*d,m=new Uint32Array(f);let g=0;m[g++]=f*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*c.BYTES_PER_ELEMENT,m[g++]=0,m[g++]=i,m[g++]=s,m[g++]=t?0:1,m[g++]=Math.max(0,Math.floor(n??0)),m[g++]=d,m[g++]=c.BYTES_PER_ELEMENT;for(const A of e)m[g++]=A.length-2,m[g++]=A[0],m[g++]=A[1];const x=new CompressionStream("deflate-raw"),y=x.writable.getWriter();await y.ready,y.write(m);const b=c.prototype.constructor;for(const A of e){const C=new b(A.length-2);for(let k=2,P=A.length;k<P;k++)C[k-2]=A[k]-A[k-2];y.write(C)}y.close();const _=await new Response(x.readable).arrayBuffer(),E=new Uint8Array(_);return BW(E)}static async decompressSignature(e){try{const t=sce(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const A of n)a||(a=new Uint8Array(new Uint32Array(A.buffer,0,4)[0])),a.set(A,o),o+=A.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const d=l[2],f=l[3],m=l[4]===0,g=l[5],x=l[6],y=l[7],b=[],_=(x_+$v*x)*Uint32Array.BYTES_PER_ELEMENT;let E;switch(y){case Int8Array.BYTES_PER_ELEMENT:E=new Int8Array(a.buffer,_);break;case Int16Array.BYTES_PER_ELEMENT:E=new Int16Array(a.buffer,_);break;case Int32Array.BYTES_PER_ELEMENT:E=new Int32Array(a.buffer,_);break}o=0;for(let A=0;A<x;A++){const C=l[$v*A+x_],k=new Float32Array(C+2);b.push(k);for(let P=0;P<$v-1;P++)k[P]=l[$v*A+x_+P+1];for(let P=0;P<C;P++)k[P+2]=k[P]+E[o++]}return{areContours:m,thickness:g,outlines:b,width:d,height:f}}catch(t){return Ve(`decompressSignature: ${t}`),null}}}Wh=new WeakMap,kt=new WeakSet,I2=function(e,t,n,i){return n-=e,i-=t,n===0?i>0?0:4:n===1?i+6:2-i},Sa=new WeakMap,$G=function(e,t,n,i,s,a,o){const l=D(this,kt,I2).call(this,n,i,s,a);for(let c=0;c<8;c++){const d=(-c+l-o+16)%8,f=p(this,Sa)[2*d],m=p(this,Sa)[2*d+1];if(e[(n+f)*t+(i+m)]!==0)return d}return-1},FG=function(e,t,n,i,s,a,o){const l=D(this,kt,I2).call(this,n,i,s,a);for(let c=0;c<8;c++){const d=(c+l+o+16)%8,f=p(this,Sa)[2*d],m=p(this,Sa)[2*d+1];if(e[(n+f)*t+(i+m)]!==0)return d}return-1},M2=function(e,t,n,i){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=i?1:0;for(let d=1;d<n-1;d++)a[d*t]=a[d*t+t-1]=0;for(let d=0;d<t;d++)a[d]=a[t*n-1-d]=0;let o=1,l;const c=[];for(let d=1;d<n-1;d++){l=1;for(let f=1;f<t-1;f++){const m=d*t+f,g=a[m];if(g===0)continue;let x=d,y=f;if(g===1&&a[m-1]===0)o+=1,y-=1;else if(g>=1&&a[m+1]===0)o+=1,y+=1,g>1&&(l=g);else{g!==1&&(l=Math.abs(g));continue}const b=[f,d],_=y===f+1,E={isHole:_,points:b,id:o,parent:0};c.push(E);let A;for(const F of c)if(F.id===l){A=F;break}A?A.isHole?E.parent=_?A.parent:l:E.parent=_?l:A.parent:E.parent=_?l:0;const C=D(this,kt,$G).call(this,a,t,d,f,x,y,0);if(C===-1){a[m]=-o,a[m]!==1&&(l=Math.abs(a[m]));continue}let k=p(this,Sa)[2*C],P=p(this,Sa)[2*C+1];const j=d+k,M=f+P;x=j,y=M;let $=d,U=f;for(;;){const F=D(this,kt,FG).call(this,a,t,$,U,x,y,1);k=p(this,Sa)[2*F],P=p(this,Sa)[2*F+1];const z=$+k,V=U+P;b.push(V,z);const X=$*t+U;if(a[X+1]===0?a[X]=-o:a[X]===1&&(a[X]=o),z===d&&V===f&&$===j&&U===M){a[m]!==1&&(l=Math.abs(a[m]));break}else x=$,y=U,$=z,U=V}}}return c},y1=function(e,t,n,i){if(n-t<=4){for(let j=t;j<n-2;j+=2)i.push(e[j],e[j+1]);return}const s=e[t],a=e[t+1],o=e[n-4]-s,l=e[n-3]-a,c=Math.hypot(o,l),d=o/c,f=l/c,m=d*a-f*s,g=l/o,x=1/c,y=Math.atan(g),b=Math.cos(y),_=Math.sin(y),E=x*(Math.abs(b)+Math.abs(_)),A=x*(1-E+E**2),C=Math.max(Math.atan(Math.abs(_+b)*A),Math.atan(Math.abs(_-b)*A));let k=0,P=t;for(let j=t+2;j<n-2;j+=2){const M=Math.abs(m-d*e[j+1]+f*e[j]);M>k&&(P=j,k=M)}k>(c*C)**2?(D(this,kt,y1).call(this,e,t,P+2,i),D(this,kt,y1).call(this,e,P,n,i)):i.push(s,a)},BG=function(e){const t=[],n=e.length;return D(this,kt,y1).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},UG=function(e,t,n,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let y=0;y<a;y++){const b=(y-c)**2;for(let _=0;_<a;_++)o[y*a+_]=Math.exp((b+(_-c)**2)/l)}const d=new Float32Array(256),f=-2*s**2;for(let y=0;y<256;y++)d[y]=Math.exp(y**2/f);const m=e.length,g=new Uint8Array(m),x=new Uint32Array(256);for(let y=0;y<n;y++)for(let b=0;b<t;b++){const _=y*t+b,E=e[_];let A=0,C=0;for(let P=0;P<a;P++){const j=y+P-c;if(!(j<0||j>=n))for(let M=0;M<a;M++){const $=b+M-c;if($<0||$>=t)continue;const U=e[j*t+$],F=o[P*a+M]*d[Math.abs(U-E)];A+=U*F,C+=F}}const k=g[_]=Math.round(A/C);x[k]++}return[g,x]},zG=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},D2=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let o=0,l=n.length;o<l;o++){const c=n[o]=e[o<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let o=0,l=n.length;o<l;o++)n[o]=(n[o]-s)*a;return n},L2=function(e){let t,n=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>n&&(t-a>i&&(i=t-a,o=t-1),n=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},qG=function(e){const t=e,{width:n,height:i}=e,{maxDim:s}=p(this,Wh);let a=n,o=i;if(n>s||i>s){let m=n,g=i,x=Math.log2(Math.max(n,i)/s);const y=Math.floor(x);x=x===y?y-1:y;for(let _=0;_<x;_++){a=Math.ceil(m/2),o=Math.ceil(g/2);const E=new OffscreenCanvas(a,o);E.getContext("2d").drawImage(e,0,0,m,g,0,0,a,o),m=a,g=o,e!==t&&e.close(),e=E.transferToImageBitmap()}const b=Math.min(s/a,s/o);a=Math.round(a*b),o=Math.round(o*b)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=c.getImageData(0,0,a,o).data;return[D(this,kt,D2).call(this,d),a,o]},I(Il,kt),I(Il,Wh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),I(Il,Sa,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class ZI extends RG{constructor(){super(),super.updateProperties({fill:Yt._defaultLineColor,"stroke-width":0})}clone(){const e=new ZI;return e.updateAll(this),e}}class eM extends MA{constructor(e){super(e),super.updateProperties({stroke:Yt._defaultLineColor,"stroke-width":1})}clone(){const e=new eM(this._viewParameters);return e.updateAll(this),e}}var yu,mo,bu,Vh;const Bi=class Bi extends Z1{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});I(this,yu,!1);I(this,mo,null);I(this,bu,null);I(this,Vh,null);this._willKeepAspectRatio=!0,O(this,bu,t.signatureData||null),O(this,mo,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){Yt.initialize(t,n),this._defaultDrawingOptions=new ZI,this._defaultDrawnSignatureOptions=new eM(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ge(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!p(this,mo)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(p(this,bu)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:c,heightInPage:d}=p(this,bu),{rawDims:{pageWidth:f,pageHeight:m},rotation:g}=this.parent.viewport,x=Il.processDrawnLines({lines:s,pageWidth:f,pageHeight:m,rotation:g,innerMargin:Bi._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(x,d,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:p(this,mo)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){O(this,Vh,t),this.addEditToolbar()}getUuid(){return p(this,Vh)}get description(){return p(this,mo)}set description(t){O(this,mo,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:i,width:s,height:a}=p(this,bu),o=Math.max(s,a),l=Il.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,i,s){const{x:a,y:o}=this,{outline:l}=O(this,bu,t);O(this,yu,l instanceof j2),this.description=i;let c;p(this,yu)?c=Bi.getDefaultDrawingOptions():(c=Bi._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,d]=this.pageDimensions;let f=n/d;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return Il.process(t,n,i,s,Bi._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return Il.extractContoursFromText(t,n,i,s,a,Bi._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return Il.processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:s,innerMargin:Bi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=Bi.getDefaultDrawingOptions():(this._drawingOptions=Bi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:p(this,yu),color:[0,0,0],thickness:p(this,yu)?0:s});return this.addComment(a),t?(a.paths={lines:n,points:i},a.uuid=p(this,Vh),a.isCopy=!0):a.lines=n,p(this,mo)&&(a.accessibilityData={type:"Figure",alt:p(this,mo)}),a}static deserializeDraw(t,n,i,s,a,o){return o.areContours?j2.deserialize(t,n,i,s,a,o):jw.deserialize(t,n,i,s,a,o)}static async deserialize(t,n,i){var a;const s=await super.deserialize(t,n,i);return O(s,yu,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",O(s,Vh,t.uuid),s}};yu=new WeakMap,mo=new WeakMap,bu=new WeakMap,Vh=new WeakMap,he(Bi,"_type","signature"),he(Bi,"_editorType",Xe.SIGNATURE),he(Bi,"_defaultDrawingOptions",null);let $2=Bi;var or,hn,wu,Pl,xu,Zm,Ol,Gh,go,as,eg,ht,my,gy,b1,w1,x1,B2,_1,HG;class F2 extends Yt{constructor(t){super({...t,name:"stampEditor"});I(this,ht);I(this,or,null);I(this,hn,null);I(this,wu,null);I(this,Pl,null);I(this,xu,null);I(this,Zm,"");I(this,Ol,null);I(this,Gh,!1);I(this,go,null);I(this,as,!1);I(this,eg,!1);O(this,Pl,t.bitmapUrl),O(this,xu,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){Yt.initialize(t,n)}static isHandlingMimeForPasting(t){return AR.includes(t)}static paste(t,n){n.pasteEditor({mode:Xe.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t;p(this,hn)&&(O(this,or,null),this._uiManager.imageManager.deleteId(p(this,hn)),(t=p(this,Ol))==null||t.remove(),O(this,Ol,null),p(this,go)&&(clearTimeout(p(this,go)),O(this,go,null))),super.remove()}rebuild(){if(!this.parent){p(this,hn)&&D(this,ht,b1).call(this);return}super.rebuild(),this.div!==null&&(p(this,hn)&&p(this,Ol)===null&&D(this,ht,b1).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(p(this,wu)||p(this,or)||p(this,Pl)||p(this,xu)||p(this,hn)||p(this,Gh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),p(this,Gh)||(p(this,or)?D(this,ht,w1).call(this):D(this,ht,b1).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(O(this,hn,i),s&&O(this,or,s),O(this,Gh,!1),D(this,ht,w1).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;p(this,go)!==null&&clearTimeout(p(this,go)),O(this,go,setTimeout(()=>{O(this,go,null),D(this,ht,B2).call(this)},200))}copyCanvas(t,n,i=!1){t||(t=224);const{width:s,height:a}=p(this,or),o=new ko;let l=p(this,or),c=s,d=a,f=null;if(n){if(s>n||a>n){const j=Math.min(n/s,n/a);c=Math.floor(s*j),d=Math.floor(a*j)}f=document.createElement("canvas");const g=f.width=Math.ceil(c*o.sx),x=f.height=Math.ceil(d*o.sy);p(this,as)||(l=D(this,ht,x1).call(this,g,x));const y=f.getContext("2d");y.filter=this._uiManager.hcmFilter;let b="white",_="#cfcfd8";this._uiManager.hcmFilter!=="none"?_="black":dce.isDarkMode&&(b="#8f8f9d",_="#42414d");const E=15,A=E*o.sx,C=E*o.sy,k=new OffscreenCanvas(A*2,C*2),P=k.getContext("2d");P.fillStyle=b,P.fillRect(0,0,A*2,C*2),P.fillStyle=_,P.fillRect(0,0,A,C),P.fillRect(A,C,A,C),y.fillStyle=y.createPattern(k,"repeat"),y.fillRect(0,0,g,x),y.drawImage(l,0,0,l.width,l.height,0,0,g,x)}let m=null;if(i){let g,x;if(o.symmetric&&l.width<t&&l.height<t)g=l.width,x=l.height;else if(l=p(this,or),s>t||a>t){const _=Math.min(t/s,t/a);g=Math.floor(s*_),x=Math.floor(a*_),p(this,as)||(l=D(this,ht,x1).call(this,g,x))}const b=new OffscreenCanvas(g,x).getContext("2d",{willReadFrequently:!0});b.drawImage(l,0,0,l.width,l.height,0,0,g,x),m={width:g,height:x,data:b.getImageData(0,0,g,x).data}}return{canvas:f,width:c,height:d,imageData:m}}static async deserialize(t,n,i){var b;let s=null,a=!1;if(t instanceof aG){const{data:{rect:_,rotation:E,id:A,structParent:C,popupRef:k,richText:P,contentsObj:j,creationDate:M,modificationDate:$},container:U,parent:{page:{pageNumber:F}},canvas:z}=t;let V,X;z?(delete t.canvas,{id:V,bitmap:X}=i.imageManager.getFromCanvas(U.id,z),z.remove()):(a=!0,t._hasNoCanvas=!0);const J=((b=await n._structTree.getAriaAttributes(`${gp}${A}`))==null?void 0:b.get("aria-label"))||"";s=t={annotationType:Xe.STAMP,bitmapId:V,bitmap:X,pageIndex:F-1,rect:_.slice(0),rotation:E,annotationElementId:A,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:J},isSvg:!1,structParent:C,popupRef:k,richText:P,comment:(j==null?void 0:j.str)||null,creationDate:M,modificationDate:$}}const o=await super.deserialize(t,n,i),{rect:l,bitmap:c,bitmapUrl:d,bitmapId:f,isSvg:m,accessibilityData:g}=t;a?(i.addMissingCanvas(t.id,o),O(o,Gh,!0)):f&&i.imageManager.isValidId(f)?(O(o,hn,f),c&&O(o,or,c)):O(o,Pl,d),O(o,as,m);const[x,y]=o.pageDimensions;return o.width=(l[2]-l[0])/x,o.height=(l[3]-l[1])/y,g&&(o.altTextData=g),o._initialData=s,t.comment&&o.setCommentData(t),O(o,eg,!!s),o}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:p(this,hn),isSvg:p(this,as)});if(this.addComment(i),t)return i.bitmapUrl=D(this,ht,_1).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=D(this,ht,HG).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(n===null)return i;n.stamps||(n.stamps=new Map);const o=p(this,as)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(p(this,hn)))n.stamps.set(p(this,hn),{area:o,serialized:i}),i.bitmap=D(this,ht,_1).call(this,!1);else if(p(this,as)){const l=n.stamps.get(p(this,hn));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=D(this,ht,_1).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}or=new WeakMap,hn=new WeakMap,wu=new WeakMap,Pl=new WeakMap,xu=new WeakMap,Zm=new WeakMap,Ol=new WeakMap,Gh=new WeakMap,go=new WeakMap,as=new WeakMap,eg=new WeakMap,ht=new WeakSet,my=function(t,n=!1){if(!t){this.remove();return}O(this,or,t.bitmap),n||(O(this,hn,t.id),O(this,as,t.isSvg)),t.file&&O(this,Zm,t.file.name),D(this,ht,w1).call(this)},gy=function(){if(O(this,wu,null),this._uiManager.enableWaiting(!1),!!p(this,Ol)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,or)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,or)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},b1=function(){if(p(this,hn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(p(this,hn)).then(i=>D(this,ht,my).call(this,i,!0)).finally(()=>D(this,ht,gy).call(this));return}if(p(this,Pl)){const i=p(this,Pl);O(this,Pl,null),this._uiManager.enableWaiting(!0),O(this,wu,this._uiManager.imageManager.getFromUrl(i).then(s=>D(this,ht,my).call(this,s)).finally(()=>D(this,ht,gy).call(this)));return}if(p(this,xu)){const i=p(this,xu);O(this,xu,null),this._uiManager.enableWaiting(!0),O(this,wu,this._uiManager.imageManager.getFromFile(i).then(s=>D(this,ht,my).call(this,s)).finally(()=>D(this,ht,gy).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=AR.join(",");const n=this._uiManager._signal;O(this,wu,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),D(this,ht,my).call(this,s)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>D(this,ht,gy).call(this))),t.click()},w1=function(){var c;const{div:t}=this;let{width:n,height:i}=p(this,or);const[s,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*s,i=this.height*a;else if(n>o*s||i>o*a){const d=Math.min(o*s/n,o*a/i);n*=d,i*=d}this._uiManager.enableWaiting(!1);const l=O(this,Ol,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=n/s,this.height=i/a,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),D(this,ht,B2).call(this),p(this,eg)||(this.parent.addUndoableEditor(this),O(this,eg,!0)),this._reportTelemetry({action:"inserted_image"}),p(this,Zm)&&this.div.setAttribute("aria-description",p(this,Zm)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},x1=function(t,n){const{width:i,height:s}=p(this,or);let a=i,o=s,l=p(this,or);for(;a>2*t||o>2*n;){const c=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(a,o);f.getContext("2d").drawImage(l,0,0,c,d,0,0,a,o),l=f.transferToImageBitmap()}return l},B2=function(){const[t,n]=this.parentDimensions,{width:i,height:s}=this,a=new ko,o=Math.ceil(i*t*a.sx),l=Math.ceil(s*n*a.sy),c=p(this,Ol);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const d=p(this,as)?p(this,or):D(this,ht,x1).call(this,o,l),f=c.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(d,0,0,d.width,d.height,0,0,o,l)},_1=function(t){if(t){if(p(this,as)){const s=this._uiManager.imageManager.getSvgUrl(p(this,hn));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=p(this,or),n.getContext("2d").drawImage(p(this,or),0,0),n.toDataURL()}if(p(this,as)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*Mu.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Mu.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(p(this,or),0,0,p(this,or).width,p(this,or).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(p(this,or))},HG=function(t){var o;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===n,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},he(F2,"_type","stamp"),he(F2,"_editorType",Xe.STAMP);var Kh,tg,_u,Su,Nl,ki,Au,rg,ng,Aa,Rl,fn,jl,Eu,ig,je,ku,Ut,z2,WG,Wa,q2,H2,S1;const ha=class ha{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:d}){I(this,Ut);I(this,Kh);I(this,tg,!1);I(this,_u,null);I(this,Su,null);I(this,Nl,null);I(this,ki,new Map);I(this,Au,!1);I(this,rg,!1);I(this,ng,!1);I(this,Aa,null);I(this,Rl,null);I(this,fn,null);I(this,jl,null);I(this,Eu,null);I(this,ig,-1);I(this,je);const f=[...p(ha,ku).values()];if(!ha._initialized){ha._initialized=!0;for(const m of f)m.initialize(d,e)}e.registerEditorTypes(f),O(this,je,e),this.pageIndex=t,this.div=n,O(this,Kh,s),O(this,_u,a),this.viewport=c,O(this,fn,l),this.drawLayer=o,this._structTree=i,p(this,je).addLayer(this)}get isEmpty(){return p(this,ki).size===0}get isInvisible(){return this.isEmpty&&p(this,je).getMode()===Xe.NONE}updateToolbar(e){p(this,je).updateToolbar(e)}updateMode(e=p(this,je).getMode()){switch(D(this,Ut,S1).call(this),e){case Xe.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Xe.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Xe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Xe.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of p(ha,ku).values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=p(this,fn))==null?void 0:t.div)}setEditingState(e){p(this,je).setEditingState(e)}addCommands(e){p(this,je).addCommands(e)}cleanUndoStack(e){p(this,je).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=p(this,_u))==null||t.togglePointerEvents(e)}async enable(){var n;O(this,ng,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(n=p(this,Eu))==null||n.abort(),O(this,Eu,null);const e=new Set;for(const i of p(this,Ut,z2))i.enableEditing(),i.show(!0),i.annotationElementId&&(p(this,je).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=p(this,_u);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),p(this,je).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}O(this,ng,!1),p(this,je)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(O(this,rg,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),p(this,fn)&&!p(this,Eu)){O(this,Eu,new AbortController);const s=p(this,je).combinedSignal(p(this,Eu));p(this,fn).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:c,timeStamp:d}=a,f=p(this,ig);if(d-f>500){O(this,ig,d);return}O(this,ig,-1);const{classList:m}=this.div;m.toggle("getElements",!0);const g=document.elementsFromPoint(l,c);if(m.toggle("getElements",!1),!this.div.contains(g[0]))return;let x;const y=new RegExp(`^${zy}[0-9]+$`);for(const _ of g)if(y.test(_.id)){x=_.id;break}if(!x)return;const b=p(this,ki).get(x);(b==null?void 0:b.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),b.dblclick(a))},{signal:s,capture:!0})}const e=p(this,_u),t=[];if(e){const s=new Map,a=new Map;for(const l of p(this,Ut,z2)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(p(this,je).isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let d=a.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=s.get(c),d&&(p(this,je).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}D(this,Ut,S1).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of p(ha,ku).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),O(this,rg,!1)}getEditableAnnotation(e){var t;return((t=p(this,_u))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){p(this,je).getActive()!==e&&p(this,je).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=p(this,fn))!=null&&e.div&&!p(this,jl)){O(this,jl,new AbortController);const t=p(this,je).combinedSignal(p(this,jl));p(this,fn).div.addEventListener("pointerdown",D(this,Ut,WG).bind(this),{signal:t}),p(this,fn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=p(this,fn))!=null&&e.div&&p(this,jl)&&(p(this,jl).abort(),O(this,jl,null),p(this,fn).div.classList.remove("highlighting"))}enableClick(){if(p(this,Su))return;O(this,Su,new AbortController);const e=p(this,je).combinedSignal(p(this,Su));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=p(this,Su))==null||e.abort(),O(this,Su,null)}attach(e){p(this,ki).set(e.id,e);const{annotationElementId:t}=e;t&&p(this,je).isDeletedAnnotationElement(t)&&p(this,je).removeDeletedAnnotationElement(e)}detach(e){var t;p(this,ki).delete(e.id),(t=p(this,Kh))==null||t.removePointerInTextLayer(e.contentDiv),!p(this,rg)&&e.annotationElementId&&p(this,je).addDeletedAnnotationElement(e)}remove(e){this.detach(e),p(this,je).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(p(this,je).addDeletedAnnotationElement(e),Yt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),p(this,je).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!p(this,ng)),p(this,je).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!p(this,Nl)&&(e._focusEventsAllowed=!1,O(this,Nl,setTimeout(()=>{O(this,Nl,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:p(this,je)._signal}),t.focus())},0))),e._structTreeParentId=(n=p(this,Kh))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of p(this,ki).values())if(t.uid===e)return t;return null}getNextId(){return p(this,je).getId()}combinedSignal(e){return p(this,je).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=p(this,Ut,Wa))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await p(this,je).updateMode(e.mode);const{offsetX:n,offsetY:i}=D(this,Ut,H2).call(this),s=this.getNextId(),a=D(this,Ut,q2).call(this,{parent:this,id:s,x:n,y:i,uiManager:p(this,je),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=p(ha,ku).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,p(this,je)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),s=D(this,Ut,q2).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:p(this,je),isCentered:t,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(D(this,Ut,H2).call(this),!0,e)}setSelected(e){p(this,je).setSelected(e)}toggleSelected(e){p(this,je).toggleSelected(e)}unselect(e){p(this,je).unselect(e)}pointerup(e){var i;const{isMac:t}=en.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!p(this,Au)||(O(this,Au,!1),(i=p(this,Ut,Wa))!=null&&i.isDrawer&&p(this,Ut,Wa).supportMultipleDrawings))return;if(!p(this,tg)){O(this,tg,!0);return}const n=p(this,je).getMode();if(n===Xe.STAMP||n===Xe.SIGNATURE){p(this,je).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(p(this,je).getMode()===Xe.HIGHLIGHT&&this.enableTextSelection(),p(this,Au)){O(this,Au,!1);return}const{isMac:t}=en.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(O(this,Au,!0),(i=p(this,Ut,Wa))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=p(this,je).getActive();O(this,tg,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),p(this,Aa)){p(this,Ut,Wa).startDrawing(this,p(this,je),!1,e);return}p(this,je).setCurrentDrawingSession(this),O(this,Aa,new AbortController);const t=p(this,je).combinedSignal(p(this,Aa));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(O(this,Rl,null),this.commitOrRemove())},{signal:t}),p(this,Ut,Wa).startDrawing(this,p(this,je),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&O(this,Rl,t);return}p(this,Rl)&&setTimeout(()=>{var t;(t=p(this,Rl))==null||t.focus(),O(this,Rl,null)},0)}endDrawingSession(e=!1){return p(this,Aa)?(p(this,je).setCurrentDrawingSession(null),p(this,Aa).abort(),O(this,Aa,null),O(this,Rl,null),p(this,Ut,Wa).endDrawing(e)):null}findNewParent(e,t,n){const i=p(this,je).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return p(this,Aa)?(this.endDrawingSession(),!0):!1}onScaleChanging(){p(this,Aa)&&p(this,Ut,Wa).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=p(this,je).getActive())==null?void 0:e.parent)===this&&(p(this,je).commitOrRemove(),p(this,je).setActiveEditor(null)),p(this,Nl)&&(clearTimeout(p(this,Nl)),O(this,Nl,null));for(const n of p(this,ki).values())(t=p(this,Kh))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,p(this,ki).clear(),p(this,je).removeLayer(this)}render({viewport:e}){this.viewport=e,nf(this.div,e);for(const t of p(this,je).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){p(this,je).commitOrRemove(),D(this,Ut,S1).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,nf(this.div,{rotation:n}),t!==n)for(const i of p(this,ki).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return p(this,je).viewParameters.realScale}};Kh=new WeakMap,tg=new WeakMap,_u=new WeakMap,Su=new WeakMap,Nl=new WeakMap,ki=new WeakMap,Au=new WeakMap,rg=new WeakMap,ng=new WeakMap,Aa=new WeakMap,Rl=new WeakMap,fn=new WeakMap,jl=new WeakMap,Eu=new WeakMap,ig=new WeakMap,je=new WeakMap,ku=new WeakMap,Ut=new WeakSet,z2=function(){return p(this,ki).size!==0?p(this,ki).values():p(this,je).getEditors(this.pageIndex)},WG=function(e){p(this,je).unselectAll();const{target:t}=e;if(t===p(this,fn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&p(this,fn).div.contains(t)){const{isMac:n}=en.platform;if(e.button!==0||e.ctrlKey&&n)return;p(this,je).showAllEditors("highlight",!0,!0),p(this,fn).div.classList.add("free"),this.toggleDrawing(),Q1.startHighlighting(this,p(this,je).direction==="ltr",{target:p(this,fn).div,x:e.x,y:e.y}),p(this,fn).div.addEventListener("pointerup",()=>{p(this,fn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:p(this,je)._signal}),e.preventDefault()}},Wa=function(){return p(ha,ku).get(p(this,je).getMode())},q2=function(e){const t=p(this,Ut,Wa);return t?new t.prototype.constructor(e):null},H2=function(){const{x:e,y:t,width:n,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,t+i),c=(s+o)/2-e,d=(a+l)/2-t,[f,m]=this.viewport.rotation%180===0?[c,d]:[d,c];return{offsetX:f,offsetY:m}},S1=function(){for(const e of p(this,ki).values())e.isEmpty()&&e.remove()},he(ha,"_initialized",!1),I(ha,ku,new Map([_2,R2,F2,Q1,$2].map(e=>[e._editorType,e])));let U2=ha;var Ea,oi,Yh,vw,mA,VG,Po,V2,GG,G2;const Yr=class Yr{constructor({pageIndex:e}){I(this,Po);I(this,Ea,null);I(this,oi,new Map);I(this,Yh,new Map);this.pageIndex=e}setParent(e){if(!p(this,Ea)){O(this,Ea,e);return}if(p(this,Ea)!==e){if(p(this,oi).size>0)for(const t of p(this,oi).values())t.remove(),e.append(t);O(this,Ea,e)}}static get _svgFactory(){return Ge(this,"_svgFactory",new X1)}draw(e,t=!1,n=!1){const i=Hr(Yr,vw)._++,s=D(this,Po,V2).call(this),a=Yr._svgFactory.createElement("defs");s.append(a);const o=Yr._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&p(this,Yh).set(i,o);const c=n?D(this,Po,GG).call(this,a,l):null,d=Yr._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),p(this,oi).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,t){const n=Hr(Yr,vw)._++,i=D(this,Po,V2).call(this),s=Yr._svgFactory.createElement("defs");i.append(s);const a=Yr._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const f=Yr._svgFactory.createElement("mask");s.append(f),l=`mask_p${this.pageIndex}_${n}`,f.setAttribute("id",l),f.setAttribute("maskUnits","objectBoundingBox");const m=Yr._svgFactory.createElement("rect");f.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const g=Yr._svgFactory.createElement("use");f.append(g),g.setAttribute("href",`#${o}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const c=Yr._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const d=c.cloneNode();return i.append(d),c.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),p(this,oi).set(n,i),n}finalizeDraw(e,t){p(this,Yh).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:n,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?p(this,oi).get(e):e;if(o){if(n&&D(this,Po,G2).call(this,o,n),i&&D(l=Yr,mA,VG).call(l,o,i),s){const{classList:c}=o;for(const[d,f]of Object.entries(s))c.toggle(d,f)}if(a){const d=o.firstElementChild.firstElementChild;D(this,Po,G2).call(this,d,a)}}}updateParent(e,t){if(t===this)return;const n=p(this,oi).get(e);n&&(p(t,Ea).append(n),p(this,oi).delete(e),p(t,oi).set(e,n))}remove(e){p(this,Yh).delete(e),p(this,Ea)!==null&&(p(this,oi).get(e).remove(),p(this,oi).delete(e))}destroy(){O(this,Ea,null);for(const e of p(this,oi).values())e.remove();p(this,oi).clear(),p(this,Yh).clear()}};Ea=new WeakMap,oi=new WeakMap,Yh=new WeakMap,vw=new WeakMap,mA=new WeakSet,VG=function(e,[t,n,i,s]){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Po=new WeakSet,V2=function(){const e=Yr._svgFactory.create(1,1,!0);return p(this,Ea).append(e),e.setAttribute("aria-hidden",!0),e},GG=function(e,t){const n=Yr._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Yr._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},G2=function(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)},I(Yr,mA),I(Yr,vw,0);let W2=Yr;globalThis._pdfjsTestingUtils={HighlightOutliner:A2};globalThis.pdfjsLib={AbortException:Iu,AnnotationEditorLayer:U2,AnnotationEditorParamsType:lt,AnnotationEditorType:Xe,AnnotationEditorUIManager:sf,AnnotationLayer:w2,AnnotationMode:Mc,AnnotationType:Mr,applyOpacity:fce,build:wue,ColorPicker:K1,createValidAbsoluteUrl:DW,CSSConstants:hce,DOMSVGFactory:X1,DrawLayer:W2,FeatureTest:en,fetchData:Tw,findContrastColor:pce,getDocument:HV,getFilenameFromUrl:ace,getPdfFilenameFromUrl:oce,getRGB:Ow,getUuid:FW,getXfaPageViewport:cce,GlobalWorkerOptions:yo,ImageKind:H_,InvalidPDFException:_R,isDataScheme:jA,isPdfFile:GI,isValidExplicitDest:Ece,MathClamp:ci,noContextMenu:Xs,normalizeUnicode:nce,OPS:qy,OutputScale:ko,PasswordResponses:Kle,PDFDataRangeTransport:WV,PDFDateString:z1,PDFWorker:Vy,PermissionFlag:Gle,PixelsPerInch:Mu,RenderingCancelledException:VI,renderRichText:zW,ResponseException:U1,setLayerDimensions:nf,shadow:Ge,SignatureExtractor:Il,stopEvent:Er,SupportedImageMimeTypes:AR,TextLayer:Wy,TouchManager:H1,updateUrlHash:LW,Util:Se,VerbosityLevel:OA,version:KV,XfaLayer:UW};yo.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${KV}/pdf.worker.min.js`;const Hue=async r=>{try{const e=await r.arrayBuffer(),t=await HV({data:e}).promise;let n="";for(let i=1;i<=t.numPages;i++){const o=(await(await t.getPage(i)).getTextContent()).items.map(l=>l.str).join(" ");n+=o+`
`}return n}catch(e){throw console.error("Error parsing PDF:",e),new Error("Failed to extract text from PDF")}},zC=ole(`https://${CW}.supabase.co`,cle),Wue=`https://${CW}.supabase.co/functions/v1/make-server-812a95c3`;let l5=!1;(async()=>{try{const r=new AbortController,e=setTimeout(()=>r.abort(),5e3),t=await fetch(`${Wue}/health`,{signal:r.signal});clearTimeout(e),l5=t.ok,console.log(` Edge Function: ${l5?"Available":"Not deployed"}`)}catch{console.log(" Edge Function: Not available (using direct Supabase)")}})();const Tt=r=>{const e=localStorage.getItem(r);return e?JSON.parse(e):null},Va=(r,e)=>{localStorage.setItem(r,JSON.stringify(e))},Wo=(r,e)=>{try{const t=Tt("kiro_planning_projects")||[];if(t.length>0){const n=t[0],i=n.tasks.findIndex(s=>s.id===r);i!==-1&&(n.tasks[i].status=e,e==="done"&&(n.tasks[i].progress=100),Va("kiro_planning_projects",t))}}catch(t){console.error("Failed to update Kiro Task status",t)}},gr={signup:async(r,e,t)=>{{if(await new Promise(a=>setTimeout(a,500)),Tt("mock_user_"+r))return{error:"User already exists. Please sign in instead."};const s={id:"mock-user-"+Date.now(),email:r,name:t,class:null};return Va("mock_user_"+r,{...s,password:e}),{user:s}}},signin:async(r,e)=>{{await new Promise(s=>setTimeout(s,500));const t=Tt("mock_user_"+r);if(t&&t.password!==e)return{error:"Invalid password"};const n=t||{id:"mock-user-id",email:r,name:"Mock User",class:"12th Grade"},i={access_token:"mock-access-token-"+Date.now(),user:n};return Va("mock_active_user_profile",n),{session:i,user:n}}},getSession:async r=>{{const e=Tt("mock_active_user_profile");return{session:e?{access_token:"mock-token"}:null,user:e||null}}},signout:async()=>(localStorage.removeItem("mock_active_user_profile"),{success:!0}),updateProfile:async(r,e)=>{{await new Promise(i=>setTimeout(i,500));const n={...Tt("mock_active_user_profile")||{id:"mock-user-id"},...e};return Va("mock_active_user_profile",n),{user:n}}},uploadNote:async(r,e,t,n)=>{var i,s,a,o,l;try{if(e.type==="application/pdf"){const c=await Hue(e);localStorage.setItem(`doc_text_${t}_${n}`,c),console.log(" PDF Text extracted specifically for:",n)}}catch(c){console.error(" PDF Extraction failed",c)}{await new Promise(x=>setTimeout(x,800));const c={id:"mock-note-"+Date.now(),subject:t,topic:n,file_name:e.name,created_at:new Date().toISOString(),file_url:URL.createObjectURL(e)},d=Tt("mock_active_user_profile"),f=d?d.id:"unknown",m=Tt(`mock_notes_${f}`)||[];let g=n;try{const{GEMINI_API_KEY:x}=await M_(async()=>{const{GEMINI_API_KEY:_}=await Promise.resolve().then(()=>RC);return{GEMINI_API_KEY:_}},[]),y=`Given a file named '${e.name}' uploaded for subject '${t}' and user-entered topic '${n}', identify the precise academic concept or sub-topic (max 5 words). Return ONLY the topic name, nothing else.`,b=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:y}]}]})});if(b.ok){const E=(l=(o=(a=(s=(i=(await b.json()).candidates)==null?void 0:i[0])==null?void 0:s.content)==null?void 0:a.parts)==null?void 0:o[0])==null?void 0:l.text;E&&(g=E.trim())}}catch(x){console.error("Gemini Analysis Failed",x);const y=e.name.toLowerCase();y.includes("thermo")?g="Thermodynamics":y.includes("organic")&&(g="Organic Chemistry")}return m.push({...c,topic:g}),Va(`mock_notes_${f}`,m),Wo("t1","done"),Wo("t2","in-progress"),{note:c,detectedTopic:g}}},getNotes:async r=>{{await new Promise(n=>setTimeout(n,300));const e=Tt("mock_active_user_profile"),t=e?e.id:"unknown";return{notes:Tt(`mock_notes_${t}`)||[]}}},getTopics:async r=>{{const e=Tt("mock_active_user_profile"),t=e?e.id:"unknown",i=(Tt(`mock_notes_${t}`)||[]).map(o=>({topic:o.topic,subject:o.subject})),s=new Set(i.map(o=>`${o.subject}|${o.topic}`));return{topics:Array.from(s).map(o=>{const[l,c]=o.split("|");return{subject:l,topic:c,created_at:new Date().toISOString()}})}}},generateDiagnostic:async(r,e,t)=>{{await new Promise(a=>setTimeout(a,1e3));let n=[];const i=localStorage.getItem(`doc_text_${t}_${e}`);if(i)try{console.log(" Generating questions from PDF content..."),n=await MB(i)}catch(a){console.error("Gemini Generation Error",a)}if(!n||n.length===0){console.log(" No PDF text found or generation failed, using topic-based fallback");const a=e.toLowerCase();if(a.includes("thermo"))n=[{id:1,question:"First Law of Thermodynamics is essentially a statement of conservation of:",options:["Mass","Energy","Momentum","Charge"],correctAnswer:1,explanation:"The First Law states that energy cannot be created or destroyed, only transferred.",difficulty:"medium"},{id:2,question:"In an adiabatic process, which of the following is true?",options:["dQ = 0","dU = 0","dW = 0","dT = 0"],correctAnswer:0,explanation:"Adiabatic means no heat exchange with surroundings.",difficulty:"hard"},{id:3,question:"Entropy of a system approaches a constant value as temperature approaches:",options:["Absolute Zero","Boiling Point","Triple Point","Critical Point"],correctAnswer:0,explanation:"This is the Third Law of Thermodynamics.",difficulty:"hard"},{id:4,question:"Which process occurs at constant pressure?",options:["Isobaric","Isochoric","Isothermal","Adiabatic"],correctAnswer:0,explanation:"Isobaric means constant pressure.",difficulty:"easy"},{id:5,question:"Efficiency of a Carnot engine depends on:",options:["Working substance","Design of engine","Temperatures of source and sink","Fuel used"],correctAnswer:2,explanation:"Efficiency = 1 - T2/T1",difficulty:"medium"}];else if(a.includes("organic"))n=[{id:1,question:"Which of the following is the most acidic?",options:["Ethyne","Ethene","Ethane","Benzene"],correctAnswer:0,explanation:"sp hybridized carbons are more electronegative.",difficulty:"medium"},{id:2,question:"What is the hybridization of carbon in methane?",options:["sp","sp2","sp3","dsp2"],correctAnswer:2,explanation:"Methane (CH4) has 4 sigma bonds.",difficulty:"easy"},{id:3,question:"Benzene reacts with Chlorine in presence of FeCl3 to give:",options:["Chlorobenzene","Hexachlorocyclohexane","Benzyl Chloride","No reaction"],correctAnswer:0,explanation:"Electrophilic substitution reaction.",difficulty:"medium"},{id:4,question:"The shape of checking carbocation is:",options:["Planar","Pyramidal","Tetrahedral","Linear"],correctAnswer:0,explanation:"Carbocations are sp2 hybridized and planar.",difficulty:"medium"},{id:5,question:"Ethanol on heating with conc. H2SO4 at 170C gives:",options:["Ethene","Ethoxyethane","Ethyl Hydrogen Sulphate","Methane"],correctAnswer:0,explanation:"Dehydration of alcohol to alkene.",difficulty:"medium"}];else if(a.includes("newton"))n=[{id:1,question:"Newton's First Law is also known as:",options:["Law of Momentum","Law of Inertia","Law of Force","Law of Energy"],correctAnswer:1,explanation:"Inertia is the resistance to change in motion."},{id:2,question:"Force equals:",options:["m/a","m*a","m+a","m-a"],correctAnswer:1,explanation:"F=ma"},{id:3,question:"Action and reaction forces act on:",options:["Same body","Different bodies","Depends on velocity","None"],correctAnswer:1,explanation:"Action-Reaction pair acts on two interacting objects."},{id:4,question:"Unit of Force is:",options:["Joule","Watt","Newton","Pascal"],correctAnswer:2,explanation:"Standard unit."},{id:5,question:"Inertia depends on:",options:["Velocity","Mass","Volume","Area"],correctAnswer:1,explanation:"Mass is a measure of inertia."}];else try{console.log(" Attempting generic generation for topic:",e),n=await MB(`Please generate 5 quiz questions about the topic: ${e}. The context is high school physics/chemistry/math.`)}catch{const l=hle(e,5);n=l.length>0?l:Array.from({length:5},(c,d)=>({id:`q${d+1}`,question:`Analysis Question ${d+1}: Based on your upload about ${e}`,options:[`Concept A related to ${e}`,`Concept B related to ${e}`,`Concept C related to ${e}`,`Concept D related to ${e}`],correctAnswer:0,explanation:`This tests your understanding of ${e}.`,concept:e,difficulty:"medium"}))}}const s={id:`demo-diag-${Date.now()}`,topic:e,subject:t,questions:n,created_at:new Date().toISOString(),completed:!1};return Va("current_diagnostic",s),{diagnostic:s}}},submitDiagnostic:async(r,e)=>{var t;{await new Promise(E=>setTimeout(E,1500));const{diagnosticId:n,answers:i,timeTaken:s,confidence:a}=e,o=Tt("current_diagnostic");let l=0,c=0,d=8,f=[],m="Keep practicing!";if(o){c=0,o.questions.forEach((E,A)=>{i[A]===E.correctAnswer&&c++}),d=o.questions.length,l=Math.round(c/d*100);try{const E=localStorage.getItem(`doc_text_${o.subject}_${o.topic}`);console.log(" Analyzing results with Gemini...");const A=await Vle(o.questions,i,E||"");if(A){console.log(" Gemini Analysis Complete:",A),f=A.weakTopics||[],m=((t=A.suggestions)==null?void 0:t[0])||"Review the material focusing on missed concepts.";const C=Tt("mock_active_user_profile"),k=C?C.id:"unknown",P=Tt(`mock_weak_${k}`)||[];f.forEach(j=>{P.push({topic:j,subject:o.subject,score:50,created_at:new Date().toISOString()})}),Va(`mock_weak_${k}`,P)}}catch(E){console.error("Gemini Analysis Failed",E),l<70&&(f=[o.topic])}}const g={diagnosticId:n,score:l,correct:c,total:d,avgTime:s/d,confidence:a,topic:(o==null?void 0:o.topic)||"Unknown",subject:(o==null?void 0:o.subject)||"Unknown",weakAreas:f.length>0?f:[(o==null?void 0:o.topic)||"General"],message:m,completed_at:new Date().toISOString()},x=Tt("mock_active_user_profile"),y=x?x.id:"unknown",b=Tt(`mock_results_${y}`)||[];b.push(g),Va(`mock_results_${y}`,b),Wo("t2","done"),Wo("t3","done"),Wo("t4","in-progress");const _=Tt(`mock_revisions_${y}`)||[];return[1,3,7].forEach(E=>{const A=new Date;A.setDate(A.getDate()+E),_.push({id:`rev-${Date.now()}-${E}`,topic:g.topic,subject:g.subject,revision_day:E,scheduled_date:A.toISOString(),completed:!1})}),Va(`mock_revisions_${y}`,_),{result:g}}},getRevisions:async r=>{{const e=Tt("mock_active_user_profile"),t=e?e.id:"unknown";return{revisions:(Tt(`mock_revisions_${t}`)||[]).filter(i=>!i.completed)}}},completeRevision:async(r,e,t)=>{{const n=Tt("mock_active_user_profile"),i=n?n.id:"unknown",s=Tt(`mock_revisions_${i}`)||[],a=s.findIndex(o=>o.id===e);return a!==-1&&(s[a].completed=!0,s[a].recall_score=t,Va(`mock_revisions_${i}`,s)),{revision:s[a],progress:{}}}},getProgress:async r=>{{const e=Tt("mock_active_user_profile"),t=e?e.id:"unknown";return{progress:Tt(`mock_results_${t}`)||[]}}},getWeakConcepts:async r=>{{const e=Tt("mock_active_user_profile"),t=e?e.id:"unknown";return{weakConcepts:Tt(`mock_weak_${t}`)||[]}}},getCorrection:async(r,e)=>{var t,n,i,s,a;{await new Promise(l=>setTimeout(l,600));try{const{GEMINI_API_KEY:l}=await M_(async()=>{const{GEMINI_API_KEY:f}=await Promise.resolve().then(()=>RC);return{GEMINI_API_KEY:f}},void 0),c=`Explain '${e}' to a high school student who just failed a quiz on it. 
        Return a JSON object with this exact structure:
        {
          "intro": { "title": "string", "description": "string", "why": "string" },
          "explanation": { "title": "string", "text": "string", "definition": "string" },
          "analogy": { "title": "string", "text": "string", "visual": "short string description" },
          "example": { "step1": "string", "step2": "string", "answer": "string" }
        }
        Return RAW JSON only, no markdown.`,d=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${l}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:c}]}]})});if(d.ok){let m=(a=(s=(i=(n=(t=(await d.json()).candidates)==null?void 0:t[0])==null?void 0:n.content)==null?void 0:i.parts)==null?void 0:s[0])==null?void 0:a.text;if(m){m=m.replace(/```json/g,"").replace(/```/g,"").trim();const g=JSON.parse(m);return Wo("t4","done"),Wo("t5","in-progress"),{correction:{id:"gemini-corr-"+Date.now(),topic:e,...g}}}}}catch(l){console.error("Gemini Correction Failed",l)}const o=fle(e);return o?(Wo("t4","done"),Wo("t5","in-progress"),{correction:{id:"demo-corr-"+Date.now(),topic:e,...o}}):{correction:{id:"corr-"+Date.now(),topic:e,intro:{title:`Mastering ${e}`,description:"You struggled slightly with this concept. Let's break it down.",why:"Understanding this is crucial for solving advanced problems."},explanation:{title:"The Core Idea",text:`Imagine ${e} as a fundamental relationship. It describes how elements interact under standard conditions.`,definition:"The principle states that for every action, there is an equal and opposite reaction."},analogy:{title:"Think of it like a...",text:"Just like a rubber band stores energy, this concept works on restoring forces.",visual:"Rubber Band"},example:{step1:"Identify known variables",step2:"Apply the Formula",answer:"Result = 10 Units"}}}}},getDashboard:async r=>{{const e=Tt("mock_active_user_profile"),t=e?e.id:"unknown",n=Tt(`mock_weak_${t}`)||[],i=Tt(`mock_revisions_${t}`)||[],s=i.filter(c=>!c.completed),a=i.filter(c=>c.completed),o=Tt(`mock_results_${t}`)||[];let l=0;return o.length>0&&(l=o.reduce((d,f)=>d+(f.score||0),0)/o.length),{weakConceptsCount:n.length,upcomingRevisionsCount:s.length,masteryProgress:Math.round(l),streak:Math.min(a.length,7)}}},chat:async(r,e,t)=>{var n,i,s,a,o;{const{GEMINI_API_KEY:l}=await M_(async()=>{const{GEMINI_API_KEY:f}=await Promise.resolve().then(()=>RC);return{GEMINI_API_KEY:f}},void 0);try{const f=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${l}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:e}]}]})});if(!f.ok)throw new Error(`API Error: ${f.status}`);const g=(o=(a=(s=(i=(n=(await f.json()).candidates)==null?void 0:n[0])==null?void 0:i.content)==null?void 0:s.parts)==null?void 0:a[0])==null?void 0:o.text;if(g)return{response:g}}catch(f){console.error("Gemini API Error:",f)}await new Promise(f=>setTimeout(f,800));const c=e.toLowerCase();let d="That's an interesting question. Could you provide more specific details so I can help you better?";return c.includes("newton")||c.includes("force")||c.includes("motion")?d="Newton's laws of motion are three physical laws that, together, laid the foundation for classical mechanics. They describe the relationship between a body and the forces acting upon it, and its motion in response to those forces.":c.includes("integral")||c.includes("calculus")||c.includes("derivative")?d="Calculus is the mathematical study of continuous change. Derivatives represent the rate of change, while integrals represent accumulation (like the area under a curve). Do you need help with a specific problem?":c.includes("plant")||c.includes("photosynthesis")||c.includes("biology")?d="Photosynthesis is the process used by plants and other organisms to convert light energy into chemical energy that can later be released to fuel the organisms' activities.":c.includes("chemistry")||c.includes("bond")||c.includes("reaction")?d="Chemical bonds are forces that hold atoms together to form molecules. The main types are ionic bonds (transfer of electrons) and covalent bonds (sharing of electrons).":(c.includes("hello")||c.includes("hi"))&&(d="Hello! I'm your AI study assistant. I'm now powered by Gemini AI! Ask me anything about your subjects."),{response:d}}}};function Vue({onAuth:r}){const[e,t]=R.useState(!1),[n,i]=R.useState(""),[s,a]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState(""),[f,m]=R.useState(""),[g,x]=R.useState(!1),[y,b]=R.useState("signin"),_=["9","10","11","12","College"],E=async P=>{var j;if(P.preventDefault(),s!==o){tt.error("Passwords don't match. Please try again.");return}if(s.length<8){tt.error("Password should be at least 8 characters long.");return}t(!0);try{const{user:M,error:$}=await gr.signup(n,s,c);if($){tt.error($),t(!1);return}const U=await gr.signin(n,s);U.error?tt.error(U.error):(tt.success(" Welcome to Concept Pulse! Let's get started."),r(((j=U.session)==null?void 0:j.access_token)||"",U.user))}catch{tt.error("Something went wrong. Please try again.")}finally{t(!1)}},A=async P=>{P.preventDefault(),t(!0);try{const{session:j,user:M,error:$}=await gr.signin(n,s);$?tt.error($):(tt.success("Welcome back! "),r((j==null?void 0:j.access_token)||"",M))}catch{tt.error("Unable to sign in. Please check your details.")}finally{t(!1)}},k=(P=>P.length===0?{label:"",color:"",width:"0%"}:P.length<6?{label:"Too short",color:"bg-red-400",width:"25%"}:P.length<8?{label:"Weak",color:"bg-orange-400",width:"50%"}:P.length<12?{label:"Good",color:"bg-emerald-400",width:"75%"}:{label:"Strong",color:"bg-emerald-500",width:"100%"})(s);return w.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 md:p-8 relative overflow-hidden",children:[w.jsxs("div",{className:"fixed inset-0 -z-10",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-white to-violet-50"}),w.jsx("div",{className:"absolute top-[10%] left-[5%] w-[40%] h-[40%] rounded-full bg-blue-200/30 blur-[100px]"}),w.jsx("div",{className:"absolute bottom-[10%] right-[5%] w-[35%] h-[35%] rounded-full bg-violet-200/40 blur-[80px]"}),w.jsx("div",{className:"absolute top-[50%] left-[50%] -translate-x-1/2 -translate-y-1/2 w-[30%] h-[30%] rounded-full bg-indigo-100/30 blur-[60px]"})]}),w.jsxs("div",{className:"w-full max-w-6xl grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[w.jsxs("div",{className:"hidden lg:flex flex-col justify-center space-y-10 animate-fade-in",children:[w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"inline-flex items-center gap-4",children:[w.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/25",children:w.jsx(U_,{className:"w-7 h-7 text-white"})}),w.jsx("span",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Concept Pulse"})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-slate-800 leading-tight tracking-tight",children:["Understand Concepts.",w.jsx("br",{}),"Track Progress.",w.jsx("br",{}),w.jsx("span",{className:"text-blue-600",children:"Learn Smarter."})]}),w.jsx("p",{className:"text-lg text-slate-600 max-w-md leading-relaxed",children:"AI-powered learning insights to help students identify weak areas and master subjects step by step."})]})]}),w.jsx("div",{className:"flex flex-wrap gap-3",children:[{icon:R1,label:"Concept Clarity Tracking",color:"bg-amber-50 text-amber-700 border-amber-200"},{icon:nW,label:"Smart Revision Cycles",color:"bg-emerald-50 text-emerald-700 border-emerald-200"},{icon:DI,label:"Personalized Learning Insights",color:"bg-violet-50 text-violet-700 border-violet-200"}].map((P,j)=>w.jsxs("div",{className:`flex items-center gap-2 px-4 py-2.5 rounded-full border ${P.color} font-medium text-sm animate-fade-in`,style:{animationDelay:`${.2+j*.1}s`},children:[w.jsx(P.icon,{className:"w-4 h-4"}),P.label]},j))})]}),w.jsxs("div",{className:"w-full max-w-md mx-auto",children:[w.jsxs("div",{className:"lg:hidden text-center mb-8",children:[w.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[w.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:w.jsx(U_,{className:"w-5 h-5 text-white"})}),w.jsx("span",{className:"text-2xl font-bold text-slate-800",children:"Concept Pulse"})]}),w.jsx("p",{className:"text-slate-600",children:"Your smart study companion "})]}),w.jsx(nr,{className:"bg-white/80 backdrop-blur-sm border border-slate-200/60 shadow-xl shadow-slate-200/50 rounded-3xl overflow-hidden",children:w.jsx(mr,{className:"p-8",children:w.jsxs(Nee,{value:y,onValueChange:b,className:"w-full",children:[w.jsxs(Ree,{className:"grid w-full grid-cols-2 mb-8 p-1 bg-slate-100 rounded-xl h-12",children:[w.jsx(vF,{value:"signin",className:"rounded-lg font-semibold text-slate-600 data-[state=active]:bg-white data-[state=active]:text-slate-800 data-[state=active]:shadow-sm transition-all",children:"Login"}),w.jsx(vF,{value:"signup",className:"rounded-lg font-semibold text-slate-600 data-[state=active]:bg-white data-[state=active]:text-slate-800 data-[state=active]:shadow-sm transition-all",children:"Register"})]}),w.jsxs(yF,{value:"signin",className:"space-y-5 animate-fade-in",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Welcome back! "}),w.jsx("p",{className:"text-slate-500 text-sm",children:"You're one step away from smarter learning."})]}),w.jsxs("form",{onSubmit:A,className:"space-y-5",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs(Yn,{htmlFor:"signin-email",className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[w.jsx(WF,{className:"w-4 h-4 text-slate-400"}),"Email"]}),w.jsx(Zo,{id:"signin-email",type:"email",placeholder:"you@school.edu",value:n,onChange:P=>i(P.target.value),required:!0,className:"h-12 bg-slate-50 border-slate-200 rounded-xl px-4 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 transition-all hover:border-blue-300"}),w.jsx("p",{className:"text-xs text-slate-400 pl-1",children:"We'll keep your learning progress safe here "})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs(Yn,{htmlFor:"signin-password",className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[w.jsx(_C,{className:"w-4 h-4 text-slate-400"}),"Password"]}),w.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 font-medium hover:underline",children:"Forgot password?"})]}),w.jsxs("div",{className:"relative",children:[w.jsx(Zo,{id:"signin-password",type:g?"text":"password",placeholder:"Enter your password",value:s,onChange:P=>a(P.target.value),required:!0,className:"h-12 bg-slate-50 border-slate-200 rounded-xl px-4 pr-12 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 transition-all"}),w.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:g?w.jsx(qF,{className:"w-5 h-5"}):w.jsx(HF,{className:"w-5 h-5"})})]})]}),w.jsx(yt,{type:"submit",className:"w-full h-12 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/30 transition-all duration-300 active:scale-[0.98] btn-glow group",disabled:e,children:e?w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Signing in..."]}):w.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Let's Go! ",w.jsx(_o,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]}),w.jsxs("p",{className:"text-center text-sm text-slate-500 pt-2",children:["New here? ",w.jsx("button",{onClick:()=>b("signup"),className:"text-blue-600 font-semibold hover:underline",children:"Create an account"})]})]}),w.jsxs(yF,{value:"signup",className:"space-y-5 animate-fade-in",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Start your journey! "}),w.jsx("p",{className:"text-slate-500 text-sm",children:"Join thousands of students learning smarter every day."})]}),w.jsxs("form",{onSubmit:E,className:"space-y-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs(Yn,{htmlFor:"signup-name",className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[w.jsx($I,{className:"w-4 h-4 text-slate-400"}),"Full Name"]}),w.jsx(Zo,{id:"signup-name",type:"text",placeholder:"Your full name",value:c,onChange:P=>d(P.target.value),required:!0,className:"h-12 bg-slate-50 border-slate-200 rounded-xl px-4 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 transition-all hover:border-blue-300"}),w.jsx("p",{className:"text-xs text-slate-400 pl-1",children:"What should we call you? "})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs(Yn,{htmlFor:"signup-email",className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[w.jsx(WF,{className:"w-4 h-4 text-slate-400"}),"Email"]}),w.jsx(Zo,{id:"signup-email",type:"email",placeholder:"you@school.edu",value:n,onChange:P=>i(P.target.value),required:!0,className:"h-12 bg-slate-50 border-slate-200 rounded-xl px-4 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 transition-all hover:border-blue-300"}),w.jsx("p",{className:"text-xs text-slate-400 pl-1",children:"Use an email you check regularly "})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs(Yn,{htmlFor:"signup-password",className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[w.jsx(_C,{className:"w-4 h-4 text-slate-400"}),"Password"]}),w.jsxs("div",{className:"relative",children:[w.jsx(Zo,{id:"signup-password",type:g?"text":"password",placeholder:"At least 8 characters",value:s,onChange:P=>a(P.target.value),required:!0,minLength:8,className:"h-12 bg-slate-50 border-slate-200 rounded-xl px-4 pr-12 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 transition-all"}),w.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:g?w.jsx(qF,{className:"w-5 h-5"}):w.jsx(HF,{className:"w-5 h-5"})})]}),s.length>0&&w.jsxs("div",{className:"space-y-1",children:[w.jsx("div",{className:"h-1.5 bg-slate-100 rounded-full overflow-hidden",children:w.jsx("div",{className:`h-full ${k.color} transition-all duration-300`,style:{width:k.width}})}),w.jsxs("p",{className:"text-xs text-slate-500",children:["Password strength: ",w.jsx("span",{className:"font-medium",children:k.label})]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs(Yn,{htmlFor:"signup-confirm",className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[w.jsx(_C,{className:"w-4 h-4 text-slate-400"}),"Confirm Password"]}),w.jsx(Zo,{id:"signup-confirm",type:"password",placeholder:"Re-enter your password",value:o,onChange:P=>l(P.target.value),required:!0,className:"h-12 bg-slate-50 border-slate-200 rounded-xl px-4 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 transition-all"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs(Yn,{htmlFor:"signup-class",className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[w.jsx(U_,{className:"w-4 h-4 text-slate-400"}),"Class / Year ",w.jsx("span",{className:"text-slate-400 font-normal",children:"(optional)"})]}),w.jsxs(j1,{value:f,onValueChange:m,children:[w.jsx(M1,{className:"h-12 bg-slate-50 border-slate-200 rounded-xl px-4 focus:ring-2 focus:ring-blue-500/20 text-base",children:w.jsx(I1,{placeholder:"Select your class"})}),w.jsx(D1,{className:"bg-white border-slate-200 rounded-xl shadow-xl",children:_.map(P=>w.jsx(L1,{value:P,className:"h-10 cursor-pointer hover:bg-slate-50",children:P==="College"?" College / University":` Class ${P}`},P))})]})]}),w.jsx(yt,{type:"submit",className:"w-full h-12 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-semibold shadow-lg shadow-blue-500/25 transition-all active:scale-[0.98]",disabled:e,children:e?w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating your account..."]}):"Create My Account"}),w.jsxs("p",{className:"text-center text-xs text-slate-400 flex items-center justify-center gap-1.5 pt-1",children:[w.jsx(lW,{className:"w-3.5 h-3.5"}),"Your data stays private and secure"]})]}),w.jsxs("p",{className:"text-center text-sm text-slate-500 pt-2",children:["Already have an account? ",w.jsx("button",{onClick:()=>b("signin"),className:"text-blue-600 font-semibold hover:underline",children:"Log in"})]})]})]})})}),w.jsx("p",{className:"text-center mt-6 text-sm text-slate-400",children:" 2026 Concept Pulse. Made for students, by students."})]})]})]})}function Gue({user:r,token:e,onComplete:t}){var y;const[n,i]=R.useState(!1),[s,a]=R.useState(""),[o,l]=R.useState(""),c=[{value:"11",label:"Class 11",emoji:""},{value:"12",label:"Class 12",emoji:""}],d=[{value:"None",label:"Regular School",emoji:""},{value:"JEE",label:"JEE Prep",emoji:""},{value:"NEET",label:"NEET Prep",emoji:""},{value:"Both",label:"JEE + NEET",emoji:""}],f=async b=>{if(b.preventDefault(),!s){tt.error("Please select your class first!");return}i(!0);try{const{user:_,error:E}=await gr.updateProfile(e,{class:s,exam_type:o||"None"});E?tt.error(E):(tt.success(" You're all set! Let's start learning!"),t(_))}catch{tt.error("Something went wrong. Please try again!")}finally{i(!1)}},m=((y=r==null?void 0:r.name)==null?void 0:y.split(" ")[0])||"there",g=s?o?100:50:0,x=s?2:1;return w.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 md:p-8 relative overflow-hidden",children:[w.jsxs("div",{className:"fixed inset-0 -z-10",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-100 via-white to-indigo-100"}),w.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[60%] rounded-full bg-violet-300/30 blur-[120px]"}),w.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] rounded-full bg-blue-300/30 blur-[100px]"}),w.jsx("div",{className:"absolute top-[50%] left-[50%] -translate-x-1/2 -translate-y-1/2 w-[40%] h-[40%] rounded-full bg-pink-200/20 blur-[80px]"})]}),w.jsx("div",{className:"w-full max-w-lg mx-auto",children:w.jsxs(nr,{className:"bg-white/90 backdrop-blur-xl border border-slate-200/60 shadow-2xl shadow-violet-500/10 rounded-3xl overflow-hidden animate-fade-in-up",children:[w.jsx("div",{className:"h-1.5 bg-slate-100",children:w.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-indigo-500 transition-all duration-500 ease-out",style:{width:`${g}%`}})}),w.jsxs(mr,{className:"p-8 md:p-10 space-y-8",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 ${s?"bg-emerald-500 text-white":"bg-violet-500 text-white"}`,children:s?w.jsx(Ws,{className:"w-4 h-4"}):"1"}),w.jsx("div",{className:"w-8 h-0.5 bg-slate-200"}),w.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 ${o?"bg-emerald-500 text-white":s?"bg-violet-500 text-white":"bg-slate-200 text-slate-400"}`,children:o?w.jsx(Ws,{className:"w-4 h-4"}):"2"})]}),w.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["Step ",x," of 2"]})]}),w.jsxs("div",{className:"text-center space-y-3",children:[w.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto shadow-lg shadow-violet-500/25 hover:scale-105 transition-transform",children:w.jsx(U_,{className:"w-8 h-8 text-white"})}),w.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:["Hey ",m,"! "]}),w.jsx("p",{className:"text-slate-500 font-medium",children:"Quick setup  you're almost ready to learn smarter!"})]}),w.jsxs("form",{onSubmit:f,className:"space-y-6",children:[w.jsxs("div",{className:"space-y-3",children:[w.jsxs(Yn,{className:"flex items-center gap-2 text-sm font-semibold text-slate-700",children:[w.jsx(CA,{className:"w-4 h-4 text-violet-500"}),"Which class are you in?",s&&w.jsxs("span",{className:"text-emerald-500 ml-auto flex items-center gap-1",children:[w.jsx(Ws,{className:"w-3 h-3"})," Done!"]})]}),w.jsx("div",{className:"grid grid-cols-2 gap-3",children:c.map(b=>w.jsxs("button",{type:"button",onClick:()=>a(b.value),className:`p-4 rounded-xl border-2 font-semibold text-left transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] ${s===b.value?"border-violet-500 bg-violet-50 text-violet-700 shadow-lg shadow-violet-500/20":"border-slate-200 bg-slate-50 text-slate-600 hover:border-violet-300 hover:bg-violet-50/50"}`,children:[w.jsx("span",{className:"text-2xl mb-2 block",children:b.emoji}),w.jsx("span",{className:"block",children:b.label}),s===b.value&&w.jsxs("span",{className:"inline-flex items-center gap-1 mt-2 text-xs text-violet-600 font-bold",children:[w.jsx(Ws,{className:"w-3 h-3"})," Selected"]})]},b.value))})]}),w.jsxs("div",{className:`space-y-3 transition-all duration-500 ${s?"opacity-100 translate-y-0":"opacity-50 translate-y-2 pointer-events-none"}`,children:[w.jsxs(Yn,{className:"flex items-center gap-2 text-sm font-semibold text-slate-700",children:[w.jsx(ju,{className:"w-4 h-4 text-emerald-500"}),"Preparing for any exam?",w.jsx("span",{className:"text-slate-400 font-normal",children:"(optional)"}),o&&w.jsxs("span",{className:"text-emerald-500 ml-auto flex items-center gap-1",children:[w.jsx(Ws,{className:"w-3 h-3"})," Done!"]})]}),w.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map(b=>w.jsxs("button",{type:"button",onClick:()=>l(b.value),className:`p-4 rounded-xl border-2 font-semibold text-left transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] ${o===b.value?"border-emerald-500 bg-emerald-50 text-emerald-700 shadow-lg shadow-emerald-500/20":"border-slate-200 bg-slate-50 text-slate-600 hover:border-emerald-300 hover:bg-emerald-50/50"}`,children:[w.jsx("span",{className:"text-2xl mb-2 block",children:b.emoji}),w.jsx("span",{className:"block text-sm",children:b.label}),o===b.value&&w.jsxs("span",{className:"inline-flex items-center gap-1 mt-2 text-xs text-emerald-600 font-bold",children:[w.jsx(Ws,{className:"w-3 h-3"})," Selected"]})]},b.value))})]}),s&&w.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-emerald-50 border border-emerald-200 text-emerald-700 text-sm font-medium animate-fade-in-up",children:[w.jsx(Tu,{className:"w-4 h-4"}),"Nice! You're making progress. ",o?"All set!":"One more step to go!"]}),w.jsx(yt,{type:"submit",className:`w-full h-14 text-lg font-bold rounded-xl transition-all duration-300 active:scale-[0.98] group ${s?"bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 text-white shadow-lg shadow-violet-500/30 hover:shadow-xl btn-glow":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,disabled:n||!s,children:n?w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Preparing your space..."]}):w.jsxs(w.Fragment,{children:[w.jsx(LI,{className:"mr-2 w-5 h-5 group-hover:animate-bounce"}),s?"Let's Start Learning! ":"Select your class first",s&&w.jsx(_o,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),w.jsx("p",{className:"text-center text-sm text-slate-400",children:" Takes less than 30 seconds  You can change this anytime"})]})]})]})})]})}function Du({user:r,onLogout:e,currentPage:t}){const n=Oo(),i=s=>n.pathname===s;return w.jsx("nav",{className:"sticky top-0 z-50 w-full glass-premier border-b-primary/10 shadow-lg",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex items-center justify-between h-20",children:[w.jsxs("div",{className:"flex items-center gap-12",children:[w.jsxs(wy,{to:"/dashboard",className:"flex items-center gap-3 group",children:[w.jsx("div",{className:"bg-primary/10 p-2 rounded-2xl group-hover:bg-primary/20 transition-all duration-500 group-hover:rotate-6 shadow-inner",children:w.jsx(xy,{className:"h-6 w-6 text-primary"})}),w.jsx("span",{className:"text-2xl font-black tracking-tighter premium-text-gradient font-heading",children:"ConceptPulse"})]}),w.jsx("div",{className:"hidden md:flex items-center gap-2",children:[{path:"/dashboard",label:"Dashboard",icon:Cie},{path:"/upload",label:"Material",icon:og},{path:"/revision",label:"Recall",icon:iie},{path:"/progress",label:"Insights",icon:xy}].map(s=>w.jsx(wy,{to:s.path,children:w.jsxs(yt,{variant:"ghost",size:"sm",className:`gap-2.5 h-11 px-5 rounded-2xl transition-all duration-300 font-bold text-[10px] uppercase tracking-widest ${i(s.path)?"bg-primary/10 text-primary border border-primary/20 shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-white/10"}`,children:[w.jsx(s.icon,{className:`h-4 w-4 ${i(s.path)?"text-primary":""}`}),s.label]})},s.path))})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("div",{className:"text-right hidden sm:block",children:[w.jsx("p",{className:"text-sm font-black text-foreground font-heading tracking-tight",children:(r==null?void 0:r.name)||"Scholar"}),w.jsxs("div",{className:"flex items-center gap-1.5 justify-end",children:[w.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500 animate-pulse"}),w.jsxs("p",{className:"text-muted-foreground text-[10px] font-bold uppercase tracking-wider",children:["Class ",(r==null?void 0:r.class)||"N/A"," ",(r==null?void 0:r.exam_type)!=="None"&&` ${r==null?void 0:r.exam_type}`]})]})]}),w.jsx(wy,{to:"/settings",children:w.jsx(yt,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-xl text-slate-500 hover:text-violet-600 hover:bg-violet-50 dark:hover:bg-violet-900/20 transition-all",children:w.jsx(oW,{className:"h-5 w-5"})})}),w.jsxs(yt,{variant:"outline",size:"sm",onClick:e,className:"gap-2.5 h-10 px-5 rounded-2xl font-bold text-[10px] uppercase tracking-widest border-rose-500/20 text-rose-500 hover:bg-rose-500 hover:text-white hover:border-rose-500 active:scale-95 transition-all shadow-lg shadow-rose-500/5 group",children:[w.jsx(Nie,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform"}),"Sign Out"]})]})]})})})}function Kue({progress:r,size:e=80,strokeWidth:t=8,color:n="stroke-violet-500"}){const i=(e-t)/2,s=i*2*Math.PI,a=s-r/100*s;return w.jsxs("svg",{width:e,height:e,className:"transform -rotate-90",children:[w.jsx("circle",{cx:e/2,cy:e/2,r:i,fill:"none",stroke:"currentColor",strokeWidth:t,className:"text-slate-100 dark:text-slate-700"}),w.jsx("circle",{cx:e/2,cy:e/2,r:i,fill:"none",strokeWidth:t,strokeLinecap:"round",className:`${n} transition-all duration-1000 ease-out`,strokeDasharray:s,strokeDashoffset:a})]})}function Yue({user:r,token:e,onLogout:t}){var E;const n=No(),[i,s]=R.useState(!0),[a,o]=R.useState(null),[l,c]=R.useState([]);R.useEffect(()=>{d()},[]);const d=async()=>{try{const[A,C]=await Promise.all([gr.getDashboard(e),gr.getWeakConcepts(e)]);o(A),c(C.weakConcepts||[])}catch(A){console.error("Load error:",A)}finally{s(!1)}},f=((E=r==null?void 0:r.name)==null?void 0:E.split(" ")[0])||"there",m=(a==null?void 0:a.streak)||0,g=(a==null?void 0:a.masteryProgress)||0,x=(a==null?void 0:a.upcomingRevisionsCount)||0,y=(a==null?void 0:a.weakConceptsCount)||0;if(i)return w.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[w.jsx(Du,{user:r,onLogout:t}),w.jsx("div",{className:"max-w-7xl mx-auto p-8 flex items-center justify-center h-[calc(100vh-80px)]",children:w.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in-up",children:[w.jsx("div",{className:"h-12 w-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin"}),w.jsx("p",{className:"text-muted-foreground font-medium",children:"Loading your learning space..."})]})})]});const b=new Date().getHours(),_=b<12?"Good morning":b<17?"Good afternoon":"Good evening";return w.jsxs("div",{className:"min-h-screen bg-transparent text-foreground font-sans selection:bg-primary/20",children:[w.jsx(Du,{user:r,onLogout:t}),w.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[w.jsx("div",{className:"mb-8 animate-fade-in-up",children:w.jsxs(nr,{className:"relative overflow-hidden border-none rounded-3xl shadow-2xl shadow-violet-500/25",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 via-violet-600 to-fuchsia-600"}),w.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_rgba(255,255,255,0.15)_0%,_transparent_50%)]"}),w.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_left,_rgba(0,0,0,0.1)_0%,_transparent_50%)]"}),w.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/40 to-transparent"}),w.jsx(mr,{className:"relative p-8 md:p-10",children:w.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-8",children:[w.jsxs("div",{className:"text-white space-y-4",children:[w.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/15 backdrop-blur-sm border border-white/20 text-sm font-semibold",children:[w.jsx(Tu,{className:"w-4 h-4"}),"Today's Focus"]}),w.jsxs("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:[_,", ",f]}),w.jsx("p",{className:"text-white/85 text-lg max-w-xl leading-relaxed",children:x>0?`You have ${x} topic${x>1?"s":""} ready for revision. Let's keep that momentum going.`:m>0?`${m}-day streak active. Continue to maintain it.`:"System ready. Upload your first notes to begin analysis."})]}),w.jsx("div",{className:"flex gap-3",children:w.jsxs(yt,{onClick:()=>n(x>0?"/revision":"/upload"),className:"bg-white text-violet-700 hover:bg-white/95 font-bold rounded-2xl h-14 px-8 shadow-xl shadow-black/10 hover:shadow-2xl transition-all hover:-translate-y-0.5",children:[x>0?"Start Revision":"Upload Notes",w.jsx(_o,{className:"w-5 h-5 ml-2"})]})})]})})]})}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:[w.jsx(nr,{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm hover-lift border border-slate-200/50 dark:border-slate-700/50 shadow-soft rounded-2xl animate-fade-in-up",children:w.jsx(mr,{className:"p-6",children:w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("div",{className:"relative",children:[w.jsx(Kue,{progress:g,color:"stroke-emerald-500"}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xl font-bold text-slate-800 dark:text-white",children:[g,"%"]})})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Your Progress"}),w.jsx("p",{className:"text-emerald-600 dark:text-emerald-400 font-semibold text-sm",children:g===0?"Awaiting first diagnostic input":g<50?"System calibrating":"Optimal retention detected"})]})]})})}),w.jsx(nr,{className:`${m>0?"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border-amber-200 dark:border-amber-800":"bg-white/90 dark:bg-slate-800/90"} backdrop-blur-sm hover-lift border border-slate-200/50 dark:border-slate-700/50 shadow-soft rounded-2xl animate-fade-in-up stagger-1`,children:w.jsx(mr,{className:"p-6",children:w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center ${m>0?"bg-gradient-to-br from-amber-400 to-orange-500":"bg-slate-100 dark:bg-slate-700"}`,children:w.jsx(oR,{className:`w-8 h-8 ${m>0?"text-white":"text-slate-400"}`})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Study Streak"}),m>0?w.jsxs(w.Fragment,{children:[w.jsxs("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:[m," ",m===1?"Day":"Days"]}),w.jsx("p",{className:"text-amber-600 dark:text-amber-400 font-semibold text-xs mt-1",children:"On fire"})]}):w.jsx("p",{className:"text-violet-600 dark:text-violet-400 font-semibold text-sm",children:"Ready to initialize"})]})]})})}),w.jsx(nr,{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm hover-lift border border-slate-200/50 dark:border-slate-700/50 shadow-soft rounded-2xl animate-fade-in-up stagger-2",children:w.jsx(mr,{className:"p-6",children:w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center ${y>0?"bg-rose-100 dark:bg-rose-900/30":"bg-emerald-100 dark:bg-emerald-900/30"}`,children:y>0?w.jsx(ju,{className:"w-8 h-8 text-rose-500"}):w.jsx(Vie,{className:"w-8 h-8 text-emerald-500"})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Focus Areas"}),y>0?w.jsxs(w.Fragment,{children:[w.jsxs("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:[y," Topics"]}),w.jsx("p",{className:"text-rose-600 dark:text-rose-400 font-semibold text-xs mt-1",children:"Need your attention"})]}):w.jsx("p",{className:"text-emerald-600 dark:text-emerald-400 font-semibold text-sm",children:"Systems optimal"})]})]})})}),w.jsx(nr,{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm hover-lift border border-slate-200/50 dark:border-slate-700/50 shadow-soft rounded-2xl animate-fade-in-up stagger-3",children:w.jsx(mr,{className:"p-6",children:w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center ${x>0?"bg-blue-100 dark:bg-blue-900/30":"bg-slate-100 dark:bg-slate-700"}`,children:w.jsx(N1,{className:`w-8 h-8 ${x>0?"text-blue-500":"text-slate-400"}`})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Ready to Revise"}),x>0?w.jsxs(w.Fragment,{children:[w.jsxs("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:[x," Topics"]}),w.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-semibold text-xs mt-1",children:"Ready to practice"})]}):w.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-semibold text-sm",children:"Queue clear"})]})]})})})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[w.jsx("div",{className:"lg:col-span-8 space-y-6 animate-fade-in-up stagger-4",children:w.jsxs(nr,{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 shadow-soft rounded-2xl overflow-hidden",children:[w.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700",children:w.jsx("div",{className:"flex items-center justify-between",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 rounded-xl bg-violet-100 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400",children:w.jsx(CA,{className:"w-5 h-5"})}),w.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Topics to Practice"})]})})}),w.jsx(mr,{className:"p-0",children:l.length===0?w.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[w.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg shadow-emerald-500/25 animate-bounce-soft",children:w.jsx(LI,{className:"w-10 h-10 text-white"})}),w.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:"All systems nominal"}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mb-6",children:"Diagnostic complete. Upload new material to continue analysis."}),w.jsxs(yt,{onClick:()=>n("/upload"),className:"bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 text-white font-bold rounded-xl h-12 px-8 shadow-lg shadow-violet-500/25 btn-glow",children:[w.jsx(og,{className:"w-4 h-4 mr-2"}),"Upload New Notes"]})]}):w.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[l.slice(0,3).map((A,C)=>w.jsxs("div",{className:"p-5 flex flex-col sm:flex-row sm:items-center justify-between gap-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors group",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-semibold bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:A.subject}),w.jsxs("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400",children:[Math.round(A.score),"% mastery"]})]}),w.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-white group-hover:text-violet-600 dark:group-hover:text-violet-400 transition-colors",children:A.topic})]}),w.jsxs(yt,{onClick:()=>n(`/correction/${encodeURIComponent(A.topic)}`),size:"sm",className:"bg-violet-600 hover:bg-violet-700 text-white font-semibold rounded-xl h-10 px-5",children:["Practice",w.jsx(_o,{className:"w-4 h-4 ml-2"})]})]},C)),l.length>3&&w.jsx("div",{className:"p-4 text-center bg-slate-50 dark:bg-slate-800/50",children:w.jsxs(yt,{variant:"ghost",className:"text-violet-600 dark:text-violet-400 font-semibold text-sm",children:["View all ",l.length," topics",w.jsx(_o,{className:"w-4 h-4 ml-1"})]})})]})})]})}),w.jsxs("div",{className:"lg:col-span-4 space-y-6 animate-fade-in-up stagger-5",children:[w.jsxs("div",{className:"space-y-3",children:[w.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wide px-1",children:"Quick Actions"}),[{label:"Upload Notes",desc:"Add study material",icon:og,path:"/upload",color:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"},{label:"Start Revision",desc:"Practice topics",icon:aW,path:"/revision",color:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400"},{label:"View Progress",desc:"Track growth",icon:nW,path:"/progress",color:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400"}].map((A,C)=>w.jsxs("button",{onClick:()=>n(A.path),className:"w-full group flex items-center gap-4 p-4 rounded-xl bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 hover-lift shadow-soft text-left",children:[w.jsx("div",{className:`shrink-0 h-10 w-10 flex items-center justify-center rounded-xl ${A.color}`,children:w.jsx(A.icon,{className:"w-5 h-5"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white group-hover:text-violet-600 dark:group-hover:text-violet-400 transition-colors text-sm",children:A.label}),w.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:A.desc})]})]},C))]}),w.jsx(nr,{className:"bg-gradient-to-br from-violet-50 to-indigo-50 dark:from-violet-900/20 dark:to-indigo-900/20 border border-violet-200/50 dark:border-violet-800/50 shadow-soft rounded-2xl overflow-hidden",children:w.jsxs(mr,{className:"p-6",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:"w-10 h-10 bg-violet-500 rounded-xl flex items-center justify-center",children:w.jsx(Lie,{className:"w-5 h-5 text-white"})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-violet-800 dark:text-violet-200",children:"Daily Tip"}),w.jsx("p",{className:"text-xs text-violet-600 dark:text-violet-400",children:"Keep learning!"})]})]}),w.jsx("p",{className:"text-sm text-violet-700 dark:text-violet-300 leading-relaxed",children:`"Small steps every day lead to big achievements. You're doing great! "`})]})})]})]})]}),w.jsxs("div",{className:"fixed inset-0 -z-10 pointer-events-none overflow-hidden",children:[w.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-violet-200/30 blur-[120px]"}),w.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-[30%] h-[30%] rounded-full bg-indigo-200/30 blur-[100px]"})]})]})}const Xue=["Physics","Chemistry","Mathematics","Biology","English","Computer Science","History","Geography","Economics","Other"];function Jue({user:r,token:e,onLogout:t}){const n=No(),[i,s]=R.useState(!1),[a,o]=R.useState(null),[l,c]=R.useState(""),[d,f]=R.useState(""),[m,g]=R.useState(!1),[x,y]=R.useState(0),_=(()=>{const z=r==null?void 0:r.exam_type;return z==="JEE"?["Physics","Chemistry","Mathematics"]:z==="NEET"?["Physics","Chemistry","Zoology","Biology"]:z==="Both"?["Physics","Chemistry","Mathematics","Zoology","Biology"]:Xue})(),E=R.useCallback(z=>{z.preventDefault(),g(!0)},[]),A=R.useCallback(z=>{z.preventDefault(),g(!1)},[]),C=R.useCallback(z=>{if(z.preventDefault(),g(!1),z.dataTransfer.files&&z.dataTransfer.files[0]){const V=z.dataTransfer.files[0];V.type==="application/pdf"||V.type.startsWith("image/")?(o(V),tt.success("File added")):tt.error("Please upload a PDF or Image file")}},[]),k=z=>{z.target.files&&z.target.files[0]&&(o(z.target.files[0]),tt.success("File added! "))},P=()=>o(null),j=async z=>{if(z.preventDefault(),!a||!l||!d){tt.error("Please fill all fields");return}s(!0),y(0);const V=setInterval(()=>{y(X=>X>=90?(clearInterval(V),90):X+10)},200);try{const{error:X,detectedTopic:J}=await gr.uploadNote(e,a,l,d);X?(tt.error(X),s(!1),clearInterval(V)):(y(100),setTimeout(()=>{tt.success("Analysis complete. Redirecting to insights."),n(`/diagnosis/${encodeURIComponent(J||d)}?subject=${encodeURIComponent(l)}`)},500))}catch{tt.error("Something went wrong. Please try again!"),s(!1),clearInterval(V)}},M=!!l,$=!!d,U=!!a,F=M&&$&&U;return w.jsxs("div",{className:"min-h-screen bg-transparent text-foreground font-sans selection:bg-primary/20",children:[w.jsx(Du,{user:r,onLogout:t}),w.jsxs("main",{className:"max-w-2xl mx-auto p-6 lg:p-12 relative z-10",children:[w.jsxs("div",{className:"mb-8 text-center animate-fade-in-up",children:[w.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-violet-100 to-indigo-100 dark:from-violet-900/30 dark:to-indigo-900/30 text-violet-600 dark:text-violet-400 text-sm font-semibold mb-6",children:[w.jsx(Tu,{className:"w-4 h-4"}),"Upload Study Material"]}),w.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white mb-3",children:"Upload Your Notes"}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-xl mx-auto",children:"Drop your notes and we'll analyze them to find your strengths and areas to improve!"})]}),w.jsx("div",{className:"flex items-center justify-center gap-4 mb-8 animate-fade-in-up stagger-1",children:[{label:"Subject",done:M},{label:"Topic",done:$},{label:"File",done:U}].map((z,V)=>w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 ${z.done?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/30":"bg-slate-200 dark:bg-slate-700 text-slate-500"}`,children:z.done?w.jsx(Ws,{className:"w-4 h-4"}):V+1}),w.jsx("span",{className:`text-sm font-medium ${z.done?"text-emerald-600 dark:text-emerald-400":"text-slate-400"}`,children:z.label}),V<2&&w.jsx("div",{className:"w-8 h-0.5 bg-slate-200 dark:bg-slate-700"})]},V))}),w.jsx(nr,{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm border border-slate-200/60 dark:border-slate-700/60 shadow-xl rounded-3xl overflow-hidden animate-fade-in-up stagger-2",children:w.jsx(mr,{className:"p-8",children:w.jsxs("form",{onSubmit:j,className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs(Yn,{htmlFor:"subject",className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:["Subject",M&&w.jsx(Ws,{className:"w-4 h-4 text-emerald-500"})]}),w.jsxs(j1,{value:l,onValueChange:c,children:[w.jsx(M1,{id:"subject",className:"h-12 bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700 rounded-xl font-medium hover:border-violet-400 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 transition-all",children:w.jsx(I1,{placeholder:"Choose subject..."})}),w.jsx(D1,{className:"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 rounded-xl shadow-xl",children:_.map(z=>w.jsx(L1,{value:z,className:"rounded-lg font-medium py-2.5 px-3 focus:bg-violet-50 dark:focus:bg-violet-900/20",children:z},z))})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs(Yn,{htmlFor:"topic",className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:["Topic",$&&w.jsx(Ws,{className:"w-4 h-4 text-emerald-500"})]}),w.jsx(Zo,{id:"topic",placeholder:"e.g. Newton's Laws",value:d,onChange:z=>f(z.target.value),className:"h-12 bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700 rounded-xl font-medium hover:border-violet-400 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 transition-all"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs(Yn,{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:["Your Notes",U&&w.jsx(Ws,{className:"w-4 h-4 text-emerald-500"})]}),a?w.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border-2 border-emerald-200 dark:border-emerald-800 rounded-2xl p-5 animate-fade-in-up",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-14 h-14 bg-emerald-500 rounded-xl flex items-center justify-center shadow-lg shadow-emerald-500/25",children:w.jsx(Sie,{className:"w-7 h-7 text-white"})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-lg truncate max-w-[200px] sm:max-w-xs",children:a.name}),w.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 text-sm font-medium flex items-center gap-1",children:[w.jsx(jy,{className:"w-4 h-4"}),"Ready to analyze  ",(a.size/1024/1024).toFixed(2)," MB"]})]})]}),w.jsx(yt,{type:"button",variant:"ghost",size:"icon",onClick:P,className:"h-10 w-10 rounded-xl text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20",disabled:i,children:w.jsx(FI,{className:"w-5 h-5"})})]})}):w.jsxs("div",{onDragOver:E,onDragLeave:A,onDrop:C,className:`
                      relative border-2 border-dashed rounded-2xl p-10 text-center transition-all duration-300 cursor-pointer
                      ${m?"border-violet-500 bg-violet-50 dark:bg-violet-900/20 scale-[1.02] shadow-xl shadow-violet-500/20":"border-slate-300 dark:border-slate-600 hover:border-violet-400 hover:bg-violet-50/50 dark:hover:bg-violet-900/10"}
                    `,children:[w.jsx("input",{type:"file",id:"file-upload",accept:"application/pdf,image/*",onChange:k,className:"hidden"}),w.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer block",children:[w.jsx("div",{className:`mx-auto w-16 h-16 rounded-2xl flex items-center justify-center mb-4 transition-all duration-300 ${m?"bg-gradient-to-br from-violet-500 to-indigo-600 text-white scale-110 rotate-3 shadow-lg":"bg-gradient-to-br from-violet-500 to-indigo-600 text-white shadow-lg shadow-violet-500/25"}`,children:w.jsx(og,{className:`w-8 h-8 transition-transform ${m?"animate-bounce":""}`})}),w.jsx("p",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1",children:m?"Release to upload":"Drop your notes here"}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"or click to browse  PDF or Image files"})]})]})]}),F&&!i&&w.jsx("div",{className:"bg-gradient-to-r from-violet-50 to-indigo-50 dark:from-violet-900/20 dark:to-indigo-900/20 border border-violet-200 dark:border-violet-800 rounded-2xl p-5 animate-fade-in-up",children:w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"w-10 h-10 bg-violet-500 rounded-xl flex items-center justify-center shrink-0",children:w.jsx(cW,{className:"w-5 h-5 text-white"})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-violet-800 dark:text-violet-200 mb-1",children:"What happens next"}),w.jsx("p",{className:"text-violet-600 dark:text-violet-400 text-sm leading-relaxed",children:"Our AI will scan your notes, generate practice questions, identify key concepts, and show you exactly what you've mastered and what needs review!"})]})]})}),i&&w.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-indigo-50 dark:from-violet-900/20 dark:to-indigo-900/20 border border-violet-200 dark:border-violet-800 rounded-2xl p-6 animate-fade-in-up",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 bg-violet-500 rounded-xl flex items-center justify-center",children:w.jsx(DI,{className:"w-5 h-5 text-white animate-pulse"})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-violet-800 dark:text-violet-200",children:"Analyzing your notes..."}),w.jsx("p",{className:"text-violet-600 dark:text-violet-400 text-sm",children:x<30?"Reading content...":x<60?"Extracting concepts...":x<90?"Generating insights...":"Almost done!"})]})]}),w.jsxs("span",{className:"text-2xl font-bold text-violet-600 dark:text-violet-400",children:[x,"%"]})]}),w.jsx("div",{className:"h-3 w-full bg-white/60 dark:bg-slate-800/60 rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-indigo-500 rounded-full transition-all duration-300 ease-out relative overflow-hidden",style:{width:`${x}%`},children:w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent animate-shimmer"})})}),x===100&&w.jsxs("p",{className:"text-center text-emerald-600 dark:text-emerald-400 font-semibold mt-4 flex items-center justify-center gap-2",children:[w.jsx(jy,{className:"w-5 h-5"}),"Analysis complete! Redirecting..."]})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-2",children:[w.jsx(yt,{type:"button",variant:"outline",className:"h-12 flex-1 rounded-xl font-semibold border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-800",onClick:()=>n("/dashboard"),disabled:i,children:"Back to Dashboard"}),w.jsx(yt,{type:"submit",className:`h-12 flex-[2] rounded-xl font-semibold transition-all duration-300 group ${F?"bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 text-white shadow-lg shadow-violet-500/25 hover:shadow-xl btn-glow":"bg-slate-200 dark:bg-slate-700 text-slate-400 cursor-not-allowed"}`,disabled:i||!F,children:i?w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Analyzing..."]}):F?w.jsxs("span",{className:"flex items-center gap-2",children:["Start Analysis",w.jsx(_o,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]}):"Complete all fields to continue"})]})]})})})]}),w.jsxs("div",{className:"fixed inset-0 -z-10 pointer-events-none overflow-hidden",children:[w.jsx("div",{className:"absolute top-[-10%] left-[30%] w-[40%] h-[40%] rounded-full bg-violet-200/30 blur-[130px]"}),w.jsx("div",{className:"absolute bottom-[-10%] right-[20%] w-[30%] h-[30%] rounded-full bg-indigo-200/30 blur-[100px]"})]})]})}const c5=60;function Que({user:r,token:e,onLogout:t}){const{topic:n}=lq(),[i]=cZ(),s=i.get("subject")||"General",a=No(),[o,l]=R.useState(!0),[c,d]=R.useState(null),[f,m]=R.useState(0),[g,x]=R.useState([]),[y,b]=R.useState(c5),[_,E]=R.useState(!1),[A,C]=R.useState(!1),[k,P]=R.useState(null),j=R.useRef(null);R.useEffect(()=>(F(),()=>$()),[]),R.useEffect(()=>{c&&!_&&!A&&M()},[f,c]);const M=()=>{$(),b(c5),j.current=setInterval(()=>{b(G=>G<=1?(U(),0):G-1)},1e3)},$=()=>{j.current&&clearInterval(j.current)},U=()=>{$(),tt.warning("Time's up for this question!")},F=async()=>{try{const{diagnostic:G}=await gr.generateDiagnostic(e,decodeURIComponent(n||""),s);G?(d(G),x(new Array(G.questions.length).fill(-1))):(tt.error("Failed to load diagnostic"),a("/dashboard"))}catch{tt.error("Failed to load diagnostic test"),a("/dashboard")}finally{l(!1)}},z=G=>{const B=[...g];B[f]=G,x(B)},V=()=>{if(g[f]===-1){tt.error("Please select an answer");return}f<c.questions.length-1?m(f+1):X()},X=async()=>{$(),E(!0),C(!0),await new Promise(G=>setTimeout(G,2e3));try{const{result:G}=await gr.submitDiagnostic(e,{diagnosticId:c.id,answers:g,timeTaken:0,confidence:3});if(!G)throw new Error("No result returned");P({score:(G==null?void 0:G.score)||75,accuracy:Math.round(g.filter((B,ee)=>B===0).length/g.length*100)||70,speed:"1m 20s",weakAreas:[n||"Current Topic","Related Concepts"],message:"You have a strong grasp of the basics, but advanced applications need work."})}catch{tt.error("Failed to submit results. Showing preview."),P({score:75,accuracy:80,speed:"1m 30s",weakAreas:[n||"Algebra"],message:"Great effort! Let's polish those final details."})}finally{C(!1)}};if(o)return w.jsx("div",{className:"min-h-screen bg-transparent flex flex-col items-center justify-center p-8 selection:bg-primary/20",children:w.jsxs("div",{className:"w-full max-w-lg space-y-10 text-center animate-fade-in relative",children:[w.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-primary/20 blur-[100px] animate-pulse"}),w.jsxs("div",{className:"relative group",children:[w.jsx("div",{className:"w-24 h-24 border-[6px] border-primary/20 border-t-primary rounded-full animate-spin mx-auto shadow-2xl shadow-primary/20"}),w.jsx(O1,{className:"w-10 h-10 text-primary absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-pulse"})]}),w.jsxs("div",{className:"space-y-4 relative z-10",children:[w.jsx("h2",{className:"text-4xl font-black tracking-tighter premium-text-gradient font-heading",children:"Synthesizing Diagnostic..."}),w.jsx("p",{className:"text-muted-foreground text-xl font-medium max-w-md mx-auto leading-relaxed",children:"Our neural engine is crafting high-entropy questions to pinpoint your concept-lattice gaps."})]})]})});if(_)return A?w.jsx("div",{className:"min-h-screen bg-transparent flex flex-col items-center justify-center p-8 selection:bg-primary/20",children:w.jsxs("div",{className:"text-center space-y-10 max-w-xl animate-fade-in",children:[w.jsxs("div",{className:"relative inline-block",children:[w.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-[60px] animate-pulse rounded-full"}),w.jsx(O1,{className:"w-24 h-24 text-primary relative animate-bounce-soft"})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h2",{className:"text-4xl font-black tracking-tighter premium-text-gradient font-heading",children:"Processing Signal Data..."}),w.jsx("p",{className:"text-muted-foreground text-lg font-medium opacity-70 uppercase tracking-widest",children:"Identifying heuristics & failure patterns"})]}),w.jsxs("div",{className:"space-y-3 w-full max-w-md mx-auto pt-6",children:[w.jsx("div",{className:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden p-0.5 shadow-inner",children:w.jsx("div",{className:"h-full bg-primary rounded-full animate-learning-pulse",style:{width:"66%",animationDuration:"3s"}})}),w.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-primary/60",children:"Cross-referencing 10k+ learning vectors"})]})]})}):w.jsx("div",{className:"min-h-screen bg-transparent flex items-center justify-center p-6 md:p-12 animate-fade-in selection:bg-primary/20",children:w.jsx(nr,{className:"max-w-5xl w-full glass-premier border-none shadow-[0_32px_64px_-16px_rgba(0,0,0,0.4)] rounded-[3rem] overflow-hidden",children:w.jsxs("div",{className:"grid lg:grid-cols-5 h-full",children:[w.jsxs("div",{className:"lg:col-span-3 p-10 md:p-16 flex flex-col justify-between border-b lg:border-b-0 lg:border-r border-white/5 bg-white/[0.02] relative",children:[w.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-primary/10 blur-[80px]"}),w.jsxs("div",{className:"space-y-2 relative z-10",children:[w.jsx("div",{className:"px-4 py-1.5 rounded-full bg-primary/10 border border-primary/20 text-primary text-[10px] font-black tracking-[0.2em] uppercase inline-block mb-4",children:"Diagnostic Finalized"}),w.jsxs("h1",{className:"text-5xl font-black text-foreground tracking-tighter leading-tight font-heading",children:["Performance ",w.jsx("br",{}),"Coefficient"]}),w.jsxs("p",{className:"text-muted-foreground text-xl font-medium pt-2",children:["Analytical summary for ",w.jsx("span",{className:"text-foreground font-black underline decoration-primary/30 decoration-2",children:s}),"."]})]}),w.jsxs("div",{className:"flex flex-wrap items-center gap-12 pt-16 relative z-10",children:[w.jsxs("div",{className:"relative w-48 h-48 flex items-center justify-center",children:[w.jsxs("svg",{className:"w-full h-full -rotate-90",children:[w.jsx("circle",{cx:"96",cy:"96",r:"80",stroke:"rgba(255,255,255,0.05)",strokeWidth:"16",fill:"transparent"}),w.jsx("circle",{cx:"96",cy:"96",r:"80",stroke:"hsla(var(--primary))",strokeWidth:"16",fill:"transparent",strokeDasharray:2*Math.PI*80,strokeDashoffset:2*Math.PI*80*(1-((k==null?void 0:k.score)||0)/100),strokeLinecap:"round",className:"transition-all duration-1000 ease-out shadow-2xl"})]}),w.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[w.jsxs("span",{className:"text-5xl font-black font-heading tracking-tighter",children:[k==null?void 0:k.score,"%"]}),w.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-black tracking-widest opacity-60",children:"Mastery Index"})]})]}),w.jsxs("div",{className:"space-y-8 flex-1 min-w-[200px]",children:[w.jsxs("div",{className:"glass-premier bg-white/5 p-6 rounded-3xl border-none shadow-xl flex items-center justify-between group hover:scale-[1.02] transition-all",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"p-3 bg-emerald-500/10 text-emerald-500 rounded-xl",children:w.jsx(ju,{className:"w-5 h-5"})}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"Accuracy"})]}),w.jsxs("span",{className:"text-2xl font-black font-heading",children:[k==null?void 0:k.accuracy,"%"]})]}),w.jsxs("div",{className:"glass-premier bg-white/5 p-6 rounded-3xl border-none shadow-xl flex items-center justify-between group hover:scale-[1.02] transition-all",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"p-3 bg-primary/10 text-primary rounded-xl",children:w.jsx(cW,{className:"w-5 h-5"})}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"Velocity"})]}),w.jsx("span",{className:"text-2xl font-black font-heading",children:k==null?void 0:k.speed})]})]})]})]}),w.jsxs("div",{className:"lg:col-span-2 p-10 md:p-16 flex flex-col justify-center bg-primary/[0.03] space-y-10 relative overflow-hidden",children:[w.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-rose-500/5 blur-[100px]"}),w.jsxs("div",{className:"space-y-4 relative z-10",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 bg-rose-500/20 text-rose-500 rounded-lg",children:w.jsx(mie,{className:"w-5 h-5"})}),w.jsx("h3",{className:"text-2xl font-black font-heading tracking-tight",children:"Systemic Entropy"})]}),w.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed font-medium",children:k==null?void 0:k.message})]}),w.jsxs("div",{className:"glass-premier bg-rose-500/10 p-8 rounded-[2.5rem] border-none shadow-2xl relative z-10 group hover:rotate-1 transition-all duration-500",children:[w.jsx("p",{className:"text-[10px] text-rose-500 uppercase tracking-[0.2em] mb-4 font-black",children:"Critical Friction Point"}),w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("span",{className:"font-black text-2xl tracking-tighter text-foreground",children:k==null?void 0:k.weakAreas[0]}),w.jsx("span",{className:"px-3 py-1 rounded-full bg-rose-500/20 text-rose-500 text-[10px] font-black uppercase tracking-widest border border-rose-500/30",children:"Lvl: Weak"})]}),w.jsx("div",{className:"h-1.5 w-full bg-rose-500/10 rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-rose-500 w-1/3 animate-shimmer",style:{backgroundSize:"200% 100%"}})})]}),w.jsxs("div",{className:"pt-6 relative z-10",children:[w.jsxs(yt,{className:"w-full h-20 text-base font-black uppercase tracking-[0.2em] bg-primary hover:bg-primary/90 text-primary-foreground shadow-[0_20px_40px_-10px_rgba(var(--primary),0.4)] rounded-2xl group active:scale-[0.98] transition-all",onClick:()=>a(`/correction/${encodeURIComponent(n||"")}`),children:["Commence Conceptual Repair ",w.jsx(_o,{className:"ml-3 w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),w.jsx("p",{className:"text-center text-[10px] font-black text-muted-foreground uppercase tracking-[0.3em] mt-6 opacity-40",children:"Requires ~5m for total mastery"})]})]})]})})});const J=c.questions[f],H=(f+1)/c.questions.length*100;return w.jsxs("div",{className:"min-h-screen bg-transparent flex flex-col selection:bg-primary/20",children:[w.jsxs("header",{className:"h-20 px-10 flex items-center justify-between glass-premier border-none shadow-2xl z-50",children:[w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx(yt,{variant:"ghost",size:"icon",onClick:()=>a("/dashboard"),className:"h-12 w-12 rounded-2xl text-muted-foreground hover:text-rose-500 hover:bg-rose-500/10 transition-all",children:w.jsx(FI,{className:"w-6 h-6"})}),w.jsx("div",{className:"h-10 w-px bg-white/5"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground opacity-60",children:"CURRENT TRACK"}),w.jsx("span",{className:"font-black text-lg tracking-tighter text-foreground",children:n})]})]}),w.jsx("div",{className:"flex items-center gap-4 bg-muted/10 p-2 rounded-2xl",children:w.jsxs("div",{className:`flex items-center gap-3 px-6 py-2 rounded-xl transition-all duration-500 ${y<10?"bg-rose-500/20 shadow-[0_0_20px_rgba(244,63,94,0.3)]":"bg-primary/5"}`,children:[w.jsx(N1,{className:`w-5 h-5 ${y<10?"text-rose-500 animate-pulse":"text-primary"}`}),w.jsxs("span",{className:`font-mono text-xl font-black ${y<10?"text-rose-500":"text-foreground"}`,children:["00:",y<10?`0${y}`:y]})]})})]}),w.jsx("div",{className:"h-1.5 w-full bg-white/5 relative",children:w.jsx("div",{className:"h-full bg-primary shadow-[0_0_20px_rgba(var(--primary),0.5)] transition-all duration-700 ease-in-out",style:{width:`${H}%`},children:w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}})})}),w.jsx("main",{className:"flex-1 max-w-4xl w-full mx-auto p-12 flex flex-col justify-center relative z-10",children:w.jsxs("div",{className:"space-y-12 animate-fade-in",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-primary/10 text-primary text-[10px] font-black tracking-widest uppercase",children:["Vector ",f+1," of ",c.questions.length]}),w.jsx("h2",{className:"text-4xl md:text-5xl font-black leading-tight text-foreground tracking-tighter font-heading",children:J.question})]}),w.jsx("div",{className:"grid gap-4",children:J.options.map((G,B)=>{const ee=g[f]===B;return w.jsxs("button",{onClick:()=>z(B),className:`
                    w-full text-left p-6 md:p-8 rounded-[2rem] border-none transition-all duration-500 relative overflow-hidden group
                    ${ee?"glass-premier bg-primary/10 shadow-2xl ring-2 ring-primary/50":"glass-premier bg-white/[0.02] hover:bg-white/5 hover:scale-[1.01] shadow-xl"}
                  `,children:[w.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[w.jsx("div",{className:`
                      w-8 h-8 rounded-xl border-none flex items-center justify-center flex-shrink-0 transition-all duration-500 shadow-inner
                      ${ee?"bg-primary text-white scale-110 rotate-12":"bg-muted/10 text-transparent"}
                    `,children:w.jsx(jy,{className:"w-5 h-5"})}),w.jsx("span",{className:`text-xl tracking-tight transition-all duration-300 ${ee?"font-black text-foreground":"font-medium text-muted-foreground group-hover:text-foreground"}`,children:G})]}),w.jsx("span",{className:"absolute right-8 top-1/2 -translate-y-1/2 text-8xl font-black text-white/5 pointer-events-none group-hover:text-white/10 transition-all font-heading",children:String.fromCharCode(65+B)})]},B)})}),w.jsx("div",{className:"flex justify-end pt-10",children:w.jsxs(yt,{size:"lg",onClick:V,className:"h-20 px-12 text-lg font-black uppercase tracking-[0.2em] rounded-2xl bg-primary text-primary-foreground shadow-2xl shadow-primary/30 transition-all active:scale-95 group disabled:opacity-30",disabled:g[f]===-1,children:[f===c.questions.length-1?"Finalize Diagnosis":"Advance Vector",w.jsx(_o,{className:"ml-4 w-6 h-6 group-hover:translate-x-2 transition-transform"})]})})]})}),w.jsxs("div",{className:"fixed inset-0 -z-10 pointer-events-none overflow-hidden",children:[w.jsx("div",{className:"absolute top-[30%] left-[-10%] w-[35%] h-[35%] rounded-full bg-primary/5 blur-[120px] animate-pulse"}),w.jsx("div",{className:"absolute bottom-[20%] right-[-10%] w-[40%] h-[40%] rounded-full bg-indigo-500/5 blur-[100px] animate-pulse",style:{animationDelay:"2s"}})]})]})}function Zue({user:r,token:e,onLogout:t}){const{topic:n}=lq(),i=No(),[s,a]=R.useState(!0),[o,l]=R.useState(null),[c,d]=R.useState(0),f=decodeURIComponent(n||"Concept");R.useEffect(()=>{m()},[f]);const m=async()=>{try{const{correction:b}=await gr.getCorrection(e,f);b?l(b):tt.error("Failed to load correction")}catch(b){console.error(b),tt.error("Failed to load content")}finally{a(!1)}},g=o?[{id:"intro",title:"Conceptual Target",icon:ju,content:w.jsxs("div",{className:"text-center space-y-10 animate-fade-in",children:[w.jsxs("div",{className:"relative inline-block group",children:[w.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-[60px] animate-pulse rounded-full"}),w.jsx("div",{className:"w-24 h-24 glass-premier bg-white/10 dark:bg-black/20 text-primary rounded-[2rem] flex items-center justify-center mx-auto mb-6 shadow-2xl relative z-10 group-hover:scale-110 transition-transform duration-500",children:w.jsx(ju,{className:"w-12 h-12"})})]}),w.jsx("h2",{className:"text-4xl font-black tracking-tighter font-heading text-foreground",children:o.intro.title}),w.jsx("p",{className:"text-muted-foreground text-xl font-medium max-w-lg mx-auto leading-relaxed",children:o.intro.description}),w.jsxs("div",{className:"glass-premier bg-amber-500/10 p-8 rounded-[2.5rem] border-none shadow-xl text-left relative overflow-hidden group",children:[w.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-amber-500/10 blur-[40px]"}),w.jsxs("p",{className:"text-amber-500 text-[10px] font-black uppercase tracking-[0.2em] flex items-center gap-3 mb-3",children:[w.jsx(R1,{className:"w-4 h-4"})," Neural Significance"]}),w.jsx("p",{className:"text-amber-700 dark:text-amber-200 text-lg font-bold leading-relaxed",children:o.intro.why})]})]})},{id:"explanation",title:"Knowledge Synthesis",icon:CA,content:w.jsxs("div",{className:"space-y-10 animate-fade-in",children:[w.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-primary/10 text-primary text-[10px] font-black tracking-widest uppercase",children:"Core Definition"}),w.jsx("h3",{className:"text-3xl font-black font-heading tracking-tight",children:o.explanation.title}),w.jsx("p",{className:"text-xl font-medium leading-relaxed text-foreground/80",children:o.explanation.text}),w.jsxs("div",{className:"glass-premier bg-white/5 dark:bg-black/20 p-10 rounded-[2.5rem] border-none shadow-inner relative group overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent"}),w.jsx("p",{className:"font-black text-[10px] uppercase tracking-[0.3em] text-primary mb-4 relative z-10",children:"Axiomatic Pattern"}),w.jsxs("p",{className:"font-black text-2xl italic tracking-tight text-foreground relative z-10 leading-tight",children:['"',o.explanation.definition,'"']})]})]})},{id:"analogy",title:"Mnemonic Mapping",icon:O1,content:w.jsxs("div",{className:"space-y-10 animate-fade-in text-center",children:[w.jsx("h3",{className:"text-3xl font-black font-heading tracking-tight mb-2",children:o.analogy.title}),w.jsxs("div",{className:"aspect-video glass-premier bg-indigo-500/5 rounded-[3rem] flex items-center justify-center border-none shadow-2xl relative overflow-hidden group hover:scale-[1.02] transition-all duration-700",children:[w.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_120%,rgba(99,102,241,0.1),transparent)]"}),w.jsxs("div",{className:"relative z-10",children:[w.jsx(O1,{className:"w-20 h-20 text-primary/40 mx-auto mb-6 animate-pulse-soft"}),w.jsx("span",{className:"text-primary font-black text-2xl tracking-tighter uppercase px-6",children:o.analogy.visual})]})]}),w.jsx("p",{className:"text-xl font-medium leading-relaxed text-muted-foreground max-w-xl mx-auto",children:o.analogy.text})]})},{id:"example",title:"Practical Application",icon:aW,content:w.jsxs("div",{className:"space-y-10 animate-fade-in",children:[w.jsxs("div",{className:"flex flex-col items-center text-center",children:[w.jsx("h3",{className:"text-3xl font-black font-heading tracking-tight",children:"Algorithmic Decomposition"}),w.jsx("p",{className:"text-muted-foreground font-medium text-lg mt-2",children:"Execute the conceptual logic step-by-step"})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"glass-premier bg-white/5 p-8 rounded-3xl border-none shadow-xl flex items-start gap-6 group hover:translate-x-2 transition-all",children:[w.jsx("div",{className:"w-12 h-12 rounded-2xl bg-muted/10 flex items-center justify-center text-[10px] font-black text-muted-foreground tracking-widest shrink-0",children:"V1"}),w.jsxs("div",{children:[w.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest opacity-40",children:"Initial State"}),w.jsx("p",{className:"font-bold text-xl mt-1 tracking-tight",children:o.example.step1})]})]}),w.jsx("div",{className:"flex justify-center -my-3",children:w.jsx("div",{className:"w-px h-10 bg-gradient-to-b from-primary/40 to-transparent"})}),w.jsxs("div",{className:"glass-premier bg-primary/5 p-8 rounded-3xl border-none shadow-xl border-l-4 border-l-primary flex items-start gap-6 group hover:translate-x-2 transition-all",children:[w.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 text-primary flex items-center justify-center text-[10px] font-black tracking-widest shrink-0 shadow-lg",children:"V2"}),w.jsxs("div",{children:[w.jsx("span",{className:"text-[10px] font-black text-primary uppercase tracking-widest",children:"Mutation Protocol"}),w.jsx("p",{className:"font-black text-xl mt-1 tracking-tight",children:o.example.step2})]})]}),w.jsx("div",{className:"flex justify-center -my-3",children:w.jsx("div",{className:"w-px h-10 bg-gradient-to-b from-primary/40 to-transparent"})}),w.jsxs("div",{className:"glass-premier bg-emerald-500/10 p-8 rounded-3xl border-none shadow-xl border-l-4 border-l-emerald-500 flex items-start gap-6 group hover:translate-x-2 transition-all",children:[w.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/10 text-emerald-500 flex items-center justify-center text-[10px] font-black tracking-widest shrink-0 shadow-lg",children:"VS"}),w.jsxs("div",{children:[w.jsx("span",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest",children:"Stable State/Result"}),w.jsx("p",{className:"font-black text-2xl mt-1 tracking-tighter text-emerald-600 dark:text-emerald-400",children:o.example.answer})]})]})]})]})},{id:"finish",title:"Re-Synchronization",icon:jy,content:w.jsxs("div",{className:"space-y-10 text-center animate-fade-in py-10",children:[w.jsxs("div",{className:"relative inline-block",children:[w.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-[80px] animate-pulse rounded-full"}),w.jsx("div",{className:"w-28 h-28 glass-premier bg-emerald-500/10 text-emerald-500 rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-2xl relative z-10",children:w.jsx(jy,{className:"w-14 h-14"})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h2",{className:"text-4xl font-black font-heading tracking-tighter",children:"System Synchronized"}),w.jsxs("p",{className:"text-muted-foreground text-xl font-medium max-w-md mx-auto leading-relaxed",children:["Conceptual repair complete for ",w.jsx("span",{className:"text-foreground font-black underline decoration-primary/30 decoration-2",children:f}),". Readiness confirmed."]})]})]})}]:[];if(s)return w.jsx("div",{className:"min-h-screen bg-transparent flex items-center justify-center p-8",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!o)return w.jsx("div",{className:"min-h-screen flex items-center justify-center font-black uppercase tracking-widest opacity-20",children:"Initialization Fault."});const x=g[c],y=(c+1)/g.length*100;return w.jsxs("div",{className:"min-h-screen bg-transparent flex flex-col selection:bg-primary/20",children:[w.jsx(Du,{user:r,onLogout:t}),w.jsxs("main",{className:"flex-1 max-w-4xl w-full mx-auto p-6 md:p-12 flex flex-col relative z-10",children:[w.jsxs("div",{className:"mb-12 space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-muted-foreground opacity-50",children:"KNOWLEDGE VECTOR"}),w.jsx("span",{className:"font-black text-xl tracking-tighter text-foreground",children:x.title})]}),w.jsxs("div",{className:"bg-muted/10 px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:["Phase ",c+1," ",w.jsx("span",{className:"opacity-30 mx-2",children:"/"})," ",g.length]})]}),w.jsx("div",{className:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden relative shadow-inner",children:w.jsx("div",{className:"h-full bg-primary shadow-[0_0_15px_rgba(var(--primary),0.5)] transition-all duration-700 ease-in-out",style:{width:`${y}%`},children:w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}})})})]}),w.jsxs(nr,{className:"flex-1 glass-premier border-none shadow-[0_32px_64px_-16px_rgba(0,0,0,0.4)] rounded-[3rem] flex flex-col overflow-hidden relative",children:[w.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 blur-[80px]"}),w.jsx(mr,{className:"flex-1 p-10 sm:p-16 flex flex-col justify-center relative z-10 min-h-[500px]",children:x.content}),w.jsxs("div",{className:"p-8 md:p-10 bg-white/[0.02] border-t border-white/5 flex justify-between items-center relative z-10",children:[w.jsxs(yt,{variant:"ghost",onClick:()=>d(b=>Math.max(0,b-1)),disabled:c===0,className:"h-16 px-8 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-white/5 text-muted-foreground transition-all disabled:opacity-0",children:[w.jsx(cie,{className:"w-5 h-5 mr-3"})," Relink Previous"]}),w.jsxs(yt,{onClick:()=>{c<g.length-1?d(b=>b+1):i("/revision")},className:"h-20 px-10 rounded-2xl bg-primary hover:bg-primary/90 text-primary-foreground font-black text-[10px] uppercase tracking-[0.2em] shadow-2xl shadow-primary/30 transition-all active:scale-95 group",children:[c===g.length-1?"Execute Readiness":"Continue Sequence",w.jsx(die,{className:"w-5 h-5 ml-3 group-hover:translate-x-1 transition-transform"})]})]})]})]}),w.jsxs("div",{className:"fixed inset-0 -z-10 pointer-events-none overflow-hidden",children:[w.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[50%] h-[50%] rounded-full bg-primary/5 blur-[150px] animate-pulse"}),w.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-indigo-500/5 blur-[120px] animate-pulse",style:{animationDelay:"3s"}})]})]})}var KG=["PageUp","PageDown"],YG=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],XG={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Fg="Slider",[K2,ede,tde]=_I(Fg),[JG]=Bu(Fg,[tde]),[rde,DA]=JG(Fg),QG=R.forwardRef((r,e)=>{const{name:t,min:n=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:x,...y}=r,b=R.useRef(new Set),_=R.useRef(0),A=a==="horizontal"?nde:ide,[C=[],k]=sg({prop:d,defaultProp:c,onChange:F=>{var V;(V=[...b.current][_.current])==null||V.focus(),f(F)}}),P=R.useRef(C);function j(F){const z=cde(C,F);U(F,z)}function M(F){U(F,_.current)}function $(){const F=P.current[_.current];C[_.current]!==F&&m(C)}function U(F,z,{commit:V}={commit:!1}){const X=fde(s),J=pde(Math.round((F-n)/s)*s+n,X),H=Oy(J,[n,i]);k((G=[])=>{const B=ode(G,H,z);if(hde(B,l*s)){_.current=B.indexOf(H);const ee=String(B)!==String(G);return ee&&V&&m(B),ee?B:G}else return G})}return w.jsx(rde,{scope:r.__scopeSlider,name:t,disabled:o,min:n,max:i,valueIndexToChangeRef:_,thumbs:b.current,values:C,orientation:a,form:x,children:w.jsx(K2.Provider,{scope:r.__scopeSlider,children:w.jsx(K2.Slot,{scope:r.__scopeSlider,children:w.jsx(A,{"aria-disabled":o,"data-disabled":o?"":void 0,...y,ref:e,onPointerDown:Je(y.onPointerDown,()=>{o||(P.current=C)}),min:n,max:i,inverted:g,onSlideStart:o?void 0:j,onSlideMove:o?void 0:M,onSlideEnd:o?void 0:$,onHomeKeyDown:()=>!o&&U(n,0,{commit:!0}),onEndKeyDown:()=>!o&&U(i,C.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:z})=>{if(!o){const J=KG.includes(F.key)||F.shiftKey&&YG.includes(F.key)?10:1,H=_.current,G=C[H],B=s*J*z;U(G+B,H,{commit:!0})}}})})})})});QG.displayName=Fg;var[ZG,e7]=JG(Fg,{startEdge:"left",endEdge:"right",size:"width",direction:1}),nde=R.forwardRef((r,e)=>{const{min:t,max:n,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=r,[f,m]=R.useState(null),g=wt(e,A=>m(A)),x=R.useRef(void 0),y=_w(i),b=y==="ltr",_=b&&!s||!b&&s;function E(A){const C=x.current||f.getBoundingClientRect(),k=[0,C.width],j=tM(k,_?[t,n]:[n,t]);return x.current=C,j(A-C.left)}return w.jsx(ZG,{scope:r.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:w.jsx(t7,{dir:y,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const C=E(A.clientX);a==null||a(C)},onSlideMove:A=>{const C=E(A.clientX);o==null||o(C)},onSlideEnd:()=>{x.current=void 0,l==null||l()},onStepKeyDown:A=>{const k=XG[_?"from-left":"from-right"].includes(A.key);c==null||c({event:A,direction:k?-1:1})}})})}),ide=R.forwardRef((r,e)=>{const{min:t,max:n,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...c}=r,d=R.useRef(null),f=wt(e,d),m=R.useRef(void 0),g=!i;function x(y){const b=m.current||d.current.getBoundingClientRect(),_=[0,b.height],A=tM(_,g?[n,t]:[t,n]);return m.current=b,A(y-b.top)}return w.jsx(ZG,{scope:r.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:w.jsx(t7,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const b=x(y.clientY);s==null||s(b)},onSlideMove:y=>{const b=x(y.clientY);a==null||a(b)},onSlideEnd:()=>{m.current=void 0,o==null||o()},onStepKeyDown:y=>{const _=XG[g?"from-bottom":"from-top"].includes(y.key);l==null||l({event:y,direction:_?-1:1})}})})}),t7=R.forwardRef((r,e)=>{const{__scopeSlider:t,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...c}=r,d=DA(Fg,t);return w.jsx(at.span,{...c,ref:e,onKeyDown:Je(r.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(o(f),f.preventDefault()):KG.concat(YG).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:Je(r.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():n(f)}),onPointerMove:Je(r.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Je(r.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),s(f))})})}),r7="SliderTrack",n7=R.forwardRef((r,e)=>{const{__scopeSlider:t,...n}=r,i=DA(r7,t);return w.jsx(at.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});n7.displayName=r7;var Y2="SliderRange",i7=R.forwardRef((r,e)=>{const{__scopeSlider:t,...n}=r,i=DA(Y2,t),s=e7(Y2,t),a=R.useRef(null),o=wt(e,a),l=i.values.length,c=i.values.map(m=>a7(m,i.min,i.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return w.jsx(at.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:o,style:{...r.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});i7.displayName=Y2;var X2="SliderThumb",s7=R.forwardRef((r,e)=>{const t=ede(r.__scopeSlider),[n,i]=R.useState(null),s=wt(e,o=>i(o)),a=R.useMemo(()=>n?t().findIndex(o=>o.ref.current===n):-1,[t,n]);return w.jsx(sde,{...r,ref:s,index:a})}),sde=R.forwardRef((r,e)=>{const{__scopeSlider:t,index:n,name:i,...s}=r,a=DA(X2,t),o=e7(X2,t),[l,c]=R.useState(null),d=wt(e,E=>c(E)),f=l?a.form||!!l.closest("form"):!0,m=NI(l),g=a.values[n],x=g===void 0?0:a7(g,a.min,a.max),y=lde(n,a.values.length),b=m==null?void 0:m[o.size],_=b?ude(b,x,o.direction):0;return R.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),w.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${x}% + ${_}px)`},children:[w.jsx(K2.ItemSlot,{scope:r.__scopeSlider,children:w.jsx(at.span,{role:"slider","aria-label":r["aria-label"]||y,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:d,style:g===void 0?{display:"none"}:r.style,onFocus:Je(r.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),f&&w.jsx(ade,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},n)]})});s7.displayName=X2;var ade=r=>{const{value:e,...t}=r,n=R.useRef(null),i=II(e);return R.useEffect(()=>{const s=n.current,a=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),w.jsx("input",{style:{display:"none"},...t,ref:n,defaultValue:e})};function ode(r=[],e,t){const n=[...r];return n[t]=e,n.sort((i,s)=>i-s)}function a7(r,e,t){const s=100/(t-e)*(r-e);return Oy(s,[0,100])}function lde(r,e){return e>2?`Value ${r+1} of ${e}`:e===2?["Minimum","Maximum"][r]:void 0}function cde(r,e){if(r.length===1)return 0;const t=r.map(i=>Math.abs(i-e)),n=Math.min(...t);return t.indexOf(n)}function ude(r,e,t){const n=r/2,s=tM([0,50],[0,n]);return(n-s(e)*t)*t}function dde(r){return r.slice(0,-1).map((e,t)=>r[t+1]-e)}function hde(r,e){if(e>0){const t=dde(r);return Math.min(...t)>=e}return!0}function tM(r,e){return t=>{if(r[0]===r[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(r[1]-r[0]);return e[0]+n*(t-r[0])}}function fde(r){return(String(r).split(".")[1]||"").length}function pde(r,e){const t=Math.pow(10,e);return Math.round(r*t)/t}var mde=QG,gde=n7,vde=i7,yde=s7;function bde({className:r,defaultValue:e,value:t,min:n=0,max:i=100,...s}){const a=R.useMemo(()=>Array.isArray(t)?t:Array.isArray(e)?e:[n,i],[t,e,n,i]);return w.jsxs(mde,{"data-slot":"slider",defaultValue:e,value:t,min:n,max:i,className:Xt("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",r),...s,children:[w.jsx(gde,{"data-slot":"slider-track",className:Xt("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:w.jsx(vde,{"data-slot":"slider-range",className:Xt("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(o,l)=>w.jsx(yde,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}function wde({user:r,token:e,onLogout:t}){const n=No(),[i,s]=R.useState(!0),[a,o]=R.useState([]),[l,c]=R.useState(null),[d,f]=R.useState([5]),[m,g]=R.useState(!1);R.useEffect(()=>{x()},[]);const x=async()=>{try{const{revisions:_,error:E}=await gr.getRevisions(e);E?tt.error(E):o(_||[])}catch{tt.error("Failed to load revisions")}finally{s(!1)}},y=async()=>{if(l)try{const{error:_}=await gr.completeRevision(e,l.id,d[0]);_?tt.error(_):(g(!0),setTimeout(()=>{tt.success("Great work. You're building stronger memory."),c(null),f([5]),g(!1),x()},2e3))}catch{tt.error("Something went wrong. Try again!")}},b=_=>_>=8?{text:"Excellent recall",color:"text-emerald-500"}:_>=5?{text:"Good progress",color:"text-amber-500"}:{text:"Keep practicing",color:"text-rose-500"};if(i)return w.jsxs("div",{className:"min-h-screen bg-transparent flex flex-col items-center justify-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-500"}),w.jsx("p",{className:"mt-4 text-slate-500",children:"Loading your revisions..."})]});if(m)return w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-slate-900 dark:to-slate-800 flex flex-col items-center justify-center",children:w.jsxs("div",{className:"text-center animate-fade-in-up",children:[w.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-emerald-500/30 animate-bounce",children:w.jsx(LI,{className:"w-16 h-16 text-white"})}),w.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-white mb-4",children:"Excellent work"}),w.jsx("p",{className:"text-xl text-slate-500 dark:text-slate-400",children:"You're building stronger memory every day!"}),w.jsx("div",{className:"mt-8 flex justify-center gap-2",children:[...Array(5)].map((_,E)=>w.jsx("div",{className:"w-3 h-3 bg-emerald-400 rounded-full animate-pulse",style:{animationDelay:`${E*.1}s`}},E))})]})});if(l){const _=b(d[0]);return w.jsxs("div",{className:"min-h-screen bg-transparent flex flex-col",children:[w.jsx(Du,{user:r,onLogout:t}),w.jsx("main",{className:"flex-1 max-w-2xl w-full mx-auto p-6 flex flex-col justify-center animate-fade-in-up",children:w.jsxs(nr,{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm border border-slate-200/60 dark:border-slate-700/60 shadow-xl rounded-3xl overflow-hidden",children:[w.jsxs("div",{className:"bg-gradient-to-r from-violet-500 to-indigo-600 p-6 text-white",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1.5 rounded-full text-sm font-medium",children:[w.jsx(oR,{className:"w-4 h-4"}),"Day ",l.revision_day," Streak"]}),w.jsxs("div",{className:"flex items-center gap-2 text-white/80 text-sm",children:[w.jsx(N1,{className:"w-4 h-4"}),"~2 min"]})]}),w.jsx("h2",{className:"text-2xl font-bold",children:l.topic}),w.jsx("p",{className:"text-white/80 text-sm mt-1",children:l.subject})]}),w.jsxs(mr,{className:"p-6 space-y-6",children:[w.jsx("div",{className:"bg-violet-50 dark:bg-violet-900/20 border border-violet-200 dark:border-violet-800 rounded-2xl p-5",children:w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"w-10 h-10 bg-violet-500 rounded-xl flex items-center justify-center shrink-0",children:w.jsx(DI,{className:"w-5 h-5 text-white"})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-violet-800 dark:text-violet-200 mb-2",children:"Quick Recall Challenge"}),w.jsxs("p",{className:"text-violet-600 dark:text-violet-400 text-sm leading-relaxed",children:["Without looking at your notes, try to explain ",w.jsx("span",{className:"font-bold",children:l.topic})," in your own words. What are the key points?"]})]})]})}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Think about:"}),w.jsx("div",{className:"space-y-2",children:["The main idea or formula","How it applies in real life","Any tricky parts you remember"].map((E,A)=>w.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400 text-sm animate-fade-in-up",style:{animationDelay:`${A*.1}s`},children:[w.jsx("div",{className:"w-2 h-2 bg-violet-400 rounded-full"}),E]},A))})]}),w.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-2xl p-5 space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx(Yn,{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"How well did you remember?"}),w.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Be honest - it helps us help you!"})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("span",{className:`text-3xl font-bold ${_.color}`,children:[d[0],w.jsx("span",{className:"text-lg opacity-50",children:"/10"})]}),w.jsx("p",{className:`text-sm font-medium ${_.color}`,children:_.text})]})]}),w.jsx(bde,{value:d,onValueChange:f,min:1,max:10,step:1,className:"w-full"}),w.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[w.jsx("span",{children:"Struggled"}),w.jsx("span",{children:"Okay"}),w.jsx("span",{children:"Perfect"})]})]}),w.jsxs("div",{className:"flex gap-4 pt-2",children:[w.jsx(yt,{variant:"outline",onClick:()=>c(null),className:"h-12 flex-1 rounded-xl font-semibold border-slate-300 dark:border-slate-600",children:"Skip for now"}),w.jsxs(yt,{onClick:y,className:"h-12 flex-[2] rounded-xl bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 text-white font-semibold shadow-lg shadow-violet-500/25 group btn-glow",children:["Complete Revision",w.jsx(_o,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})]})]})})]})}return w.jsxs("div",{className:"min-h-screen bg-transparent font-sans",children:[w.jsx(Du,{user:r,onLogout:t}),w.jsxs("main",{className:"max-w-3xl mx-auto p-6 md:p-12 relative z-10",children:[w.jsxs("div",{className:"mb-8 text-center animate-fade-in-up",children:[w.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-violet-100 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400 text-sm font-semibold mb-6",children:[w.jsx(Tu,{className:"w-4 h-4"}),"Daily Practice"]}),w.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white mb-3",children:"Time to Revise"}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-xl mx-auto",children:a.length>0?`You have ${a.length} topic${a.length>1?"s":""} to review. Let's strengthen your memory!`:"Revision queue is clear. System ready for next cycle."})]}),a.length>0&&w.jsx("div",{className:"flex justify-center mb-8 animate-fade-in-up stagger-1",children:w.jsxs("div",{className:"bg-gradient-to-r from-amber-100 to-orange-100 dark:from-amber-900/30 dark:to-orange-900/30 border border-amber-200 dark:border-amber-800 px-6 py-3 rounded-2xl flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl flex items-center justify-center",children:w.jsx(ju,{className:"w-5 h-5 text-white"})}),w.jsxs("div",{children:[w.jsxs("p",{className:"font-bold text-amber-800 dark:text-amber-200",children:[a.length," topic",a.length>1?"s":""," ready"]}),w.jsx("p",{className:"text-amber-600 dark:text-amber-400 text-sm",children:"Complete them to keep your streak going"})]})]})}),a.length===0?w.jsx(nr,{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm border border-slate-200/60 dark:border-slate-700/60 shadow-xl rounded-3xl overflow-hidden animate-fade-in-up stagger-2",children:w.jsxs(mr,{className:"p-12 text-center",children:[w.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-lg shadow-emerald-500/25",children:w.jsx(sW,{className:"w-12 h-12 text-white"})}),w.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-3",children:"Revision cycle complete"}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-md mx-auto mb-8 text-lg",children:"All scheduled diagnostics processed. Next retention check scheduled for tomorrow."}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[w.jsxs(yt,{onClick:()=>n("/upload"),variant:"outline",className:"h-12 px-6 rounded-xl font-semibold border-violet-300 text-violet-600 hover:bg-violet-50 flex items-center gap-2",children:[w.jsx(og,{className:"w-4 h-4"}),"Upload New Notes"]}),w.jsx(yt,{onClick:()=>n("/dashboard"),className:"h-12 px-6 rounded-xl bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-semibold shadow-lg",children:"Back to Dashboard"})]})]})}):w.jsx("div",{className:"space-y-4 animate-fade-in-up stagger-2",children:a.map((_,E)=>w.jsx(nr,{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm border border-slate-200/60 dark:border-slate-700/60 shadow-lg hover:shadow-xl rounded-2xl overflow-hidden transition-all duration-300 hover-lift",style:{animationDelay:`${E*.1}s`},children:w.jsxs("div",{className:"p-5 flex flex-col sm:flex-row sm:items-center gap-4",children:[w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[w.jsx("span",{className:"px-2.5 py-1 bg-slate-100 dark:bg-slate-700 rounded-lg text-xs font-semibold text-slate-600 dark:text-slate-300",children:_.subject}),w.jsxs("span",{className:"flex items-center gap-1 text-amber-600 dark:text-amber-400 text-xs font-semibold",children:[w.jsx(oR,{className:"w-3 h-3"}),"Day ",_.revision_day]})]}),w.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1",children:_.topic}),w.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm flex items-center gap-2",children:[w.jsx(N1,{className:"w-3 h-3"}),"Takes about 2 minutes"]})]}),w.jsxs(yt,{onClick:()=>c(_),className:"h-11 px-6 rounded-xl bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 text-white font-semibold shadow-md group",children:["Start",w.jsx(_o,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})},_.id))})]}),w.jsxs("div",{className:"fixed inset-0 -z-10 pointer-events-none overflow-hidden",children:[w.jsx("div",{className:"absolute top-[20%] right-[-10%] w-[40%] h-[40%] rounded-full bg-violet-200/30 blur-[120px]"}),w.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[30%] h-[30%] rounded-full bg-indigo-200/30 blur-[100px]"})]})]})}const xde=bq("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function _de({className:r,variant:e,asChild:t=!1,...n}){const i=t?Zh:"span";return w.jsx(i,{"data-slot":"badge",className:Xt(xde({variant:e}),r),...n})}var qC,u5;function Ni(){if(u5)return qC;u5=1;var r=Array.isArray;return qC=r,qC}var HC,d5;function o7(){if(d5)return HC;d5=1;var r=typeof Jx=="object"&&Jx&&Jx.Object===Object&&Jx;return HC=r,HC}var WC,h5;function jo(){if(h5)return WC;h5=1;var r=o7(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return WC=t,WC}var VC,f5;function Iw(){if(f5)return VC;f5=1;var r=jo(),e=r.Symbol;return VC=e,VC}var GC,p5;function Sde(){if(p5)return GC;p5=1;var r=Iw(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,i=r?r.toStringTag:void 0;function s(a){var o=t.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var d=n.call(a);return c&&(o?a[i]=l:delete a[i]),d}return GC=s,GC}var KC,m5;function Ade(){if(m5)return KC;m5=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return KC=t,KC}var YC,g5;function ec(){if(g5)return YC;g5=1;var r=Iw(),e=Sde(),t=Ade(),n="[object Null]",i="[object Undefined]",s=r?r.toStringTag:void 0;function a(o){return o==null?o===void 0?i:n:s&&s in Object(o)?e(o):t(o)}return YC=a,YC}var XC,v5;function tc(){if(v5)return XC;v5=1;function r(e){return e!=null&&typeof e=="object"}return XC=r,XC}var JC,y5;function Bg(){if(y5)return JC;y5=1;var r=ec(),e=tc(),t="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&r(i)==t}return JC=n,JC}var QC,b5;function rM(){if(b5)return QC;b5=1;var r=Ni(),e=Bg(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){if(r(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||e(s)?!0:n.test(s)||!t.test(s)||a!=null&&s in Object(a)}return QC=i,QC}var ZC,w5;function qu(){if(w5)return ZC;w5=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return ZC=r,ZC}var eT,x5;function nM(){if(x5)return eT;x5=1;var r=ec(),e=qu(),t="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=r(o);return l==n||l==i||l==t||l==s}return eT=a,eT}var tT,_5;function Ede(){if(_5)return tT;_5=1;var r=jo(),e=r["__core-js_shared__"];return tT=e,tT}var rT,S5;function kde(){if(S5)return rT;S5=1;var r=Ede(),e=(function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function t(n){return!!e&&e in n}return rT=t,rT}var nT,A5;function l7(){if(A5)return nT;A5=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return nT=t,nT}var iT,E5;function Cde(){if(E5)return iT;E5=1;var r=nM(),e=kde(),t=qu(),n=l7(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(m){if(!t(m)||e(m))return!1;var g=r(m)?d:s;return g.test(n(m))}return iT=f,iT}var sT,k5;function Tde(){if(k5)return sT;k5=1;function r(e,t){return e==null?void 0:e[t]}return sT=r,sT}var aT,C5;function pf(){if(C5)return aT;C5=1;var r=Cde(),e=Tde();function t(n,i){var s=e(n,i);return r(s)?s:void 0}return aT=t,aT}var oT,T5;function LA(){if(T5)return oT;T5=1;var r=pf(),e=r(Object,"create");return oT=e,oT}var lT,P5;function Pde(){if(P5)return lT;P5=1;var r=LA();function e(){this.__data__=r?r(null):{},this.size=0}return lT=e,lT}var cT,O5;function Ode(){if(O5)return cT;O5=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return cT=r,cT}var uT,N5;function Nde(){if(N5)return uT;N5=1;var r=LA(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function i(s){var a=this.__data__;if(r){var o=a[s];return o===e?void 0:o}return n.call(a,s)?a[s]:void 0}return uT=i,uT}var dT,R5;function Rde(){if(R5)return dT;R5=1;var r=LA(),e=Object.prototype,t=e.hasOwnProperty;function n(i){var s=this.__data__;return r?s[i]!==void 0:t.call(s,i)}return dT=n,dT}var hT,j5;function jde(){if(j5)return hT;j5=1;var r=LA(),e="__lodash_hash_undefined__";function t(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=r&&i===void 0?e:i,this}return hT=t,hT}var fT,I5;function Ide(){if(I5)return fT;I5=1;var r=Pde(),e=Ode(),t=Nde(),n=Rde(),i=jde();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=n,s.prototype.set=i,fT=s,fT}var pT,M5;function Mde(){if(M5)return pT;M5=1;function r(){this.__data__=[],this.size=0}return pT=r,pT}var mT,D5;function iM(){if(D5)return mT;D5=1;function r(e,t){return e===t||e!==e&&t!==t}return mT=r,mT}var gT,L5;function $A(){if(L5)return gT;L5=1;var r=iM();function e(t,n){for(var i=t.length;i--;)if(r(t[i][0],n))return i;return-1}return gT=e,gT}var vT,$5;function Dde(){if($5)return vT;$5=1;var r=$A(),e=Array.prototype,t=e.splice;function n(i){var s=this.__data__,a=r(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():t.call(s,a,1),--this.size,!0}return vT=n,vT}var yT,F5;function Lde(){if(F5)return yT;F5=1;var r=$A();function e(t){var n=this.__data__,i=r(n,t);return i<0?void 0:n[i][1]}return yT=e,yT}var bT,B5;function $de(){if(B5)return bT;B5=1;var r=$A();function e(t){return r(this.__data__,t)>-1}return bT=e,bT}var wT,U5;function Fde(){if(U5)return wT;U5=1;var r=$A();function e(t,n){var i=this.__data__,s=r(i,t);return s<0?(++this.size,i.push([t,n])):i[s][1]=n,this}return wT=e,wT}var xT,z5;function FA(){if(z5)return xT;z5=1;var r=Mde(),e=Dde(),t=Lde(),n=$de(),i=Fde();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=n,s.prototype.set=i,xT=s,xT}var _T,q5;function sM(){if(q5)return _T;q5=1;var r=pf(),e=jo(),t=r(e,"Map");return _T=t,_T}var ST,H5;function Bde(){if(H5)return ST;H5=1;var r=Ide(),e=FA(),t=sM();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return ST=n,ST}var AT,W5;function Ude(){if(W5)return AT;W5=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return AT=r,AT}var ET,V5;function BA(){if(V5)return ET;V5=1;var r=Ude();function e(t,n){var i=t.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return ET=e,ET}var kT,G5;function zde(){if(G5)return kT;G5=1;var r=BA();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return kT=e,kT}var CT,K5;function qde(){if(K5)return CT;K5=1;var r=BA();function e(t){return r(this,t).get(t)}return CT=e,CT}var TT,Y5;function Hde(){if(Y5)return TT;Y5=1;var r=BA();function e(t){return r(this,t).has(t)}return TT=e,TT}var PT,X5;function Wde(){if(X5)return PT;X5=1;var r=BA();function e(t,n){var i=r(this,t),s=i.size;return i.set(t,n),this.size+=i.size==s?0:1,this}return PT=e,PT}var OT,J5;function aM(){if(J5)return OT;J5=1;var r=Bde(),e=zde(),t=qde(),n=Hde(),i=Wde();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=n,s.prototype.set=i,OT=s,OT}var NT,Q5;function c7(){if(Q5)return NT;Q5=1;var r=aM(),e="Expected a function";function t(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],l=s.cache;if(l.has(o))return l.get(o);var c=n.apply(this,a);return s.cache=l.set(o,c)||l,c};return s.cache=new(t.Cache||r),s}return t.Cache=r,NT=t,NT}var RT,Z5;function Vde(){if(Z5)return RT;Z5=1;var r=c7(),e=500;function t(n){var i=r(n,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return RT=t,RT}var jT,e3;function Gde(){if(e3)return jT;e3=1;var r=Vde(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,n=r(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,o,l,c){s.push(l?c.replace(t,"$1"):o||a)}),s});return jT=n,jT}var IT,t3;function oM(){if(t3)return IT;t3=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=t(e[n],n,e);return s}return IT=r,IT}var MT,r3;function Kde(){if(r3)return MT;r3=1;var r=Iw(),e=oM(),t=Ni(),n=Bg(),i=r?r.prototype:void 0,s=i?i.toString:void 0;function a(o){if(typeof o=="string")return o;if(t(o))return e(o,a)+"";if(n(o))return s?s.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return MT=a,MT}var DT,n3;function u7(){if(n3)return DT;n3=1;var r=Kde();function e(t){return t==null?"":r(t)}return DT=e,DT}var LT,i3;function d7(){if(i3)return LT;i3=1;var r=Ni(),e=rM(),t=Gde(),n=u7();function i(s,a){return r(s)?s:e(s,a)?[s]:t(n(s))}return LT=i,LT}var $T,s3;function UA(){if(s3)return $T;s3=1;var r=Bg();function e(t){if(typeof t=="string"||r(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}return $T=e,$T}var FT,a3;function lM(){if(a3)return FT;a3=1;var r=d7(),e=UA();function t(n,i){i=r(i,n);for(var s=0,a=i.length;n!=null&&s<a;)n=n[e(i[s++])];return s&&s==a?n:void 0}return FT=t,FT}var BT,o3;function h7(){if(o3)return BT;o3=1;var r=lM();function e(t,n,i){var s=t==null?void 0:r(t,n);return s===void 0?i:s}return BT=e,BT}var Yde=h7();const Ks=$t(Yde);var UT,l3;function Xde(){if(l3)return UT;l3=1;function r(e){return e==null}return UT=r,UT}var Jde=Xde();const Et=$t(Jde);var zT,c3;function Qde(){if(c3)return zT;c3=1;var r=ec(),e=Ni(),t=tc(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&t(s)&&r(s)==n}return zT=i,zT}var Zde=Qde();const Mw=$t(Zde);var ehe=nM();const st=$t(ehe);var the=qu();const Ug=$t(the);var qT={exports:{}},St={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3;function rhe(){if(u3)return St;u3=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(b){if(typeof b=="object"&&b!==null){var _=b.$$typeof;switch(_){case r:switch(b=b.type,b){case t:case i:case n:case c:case d:return b;default:switch(b=b&&b.$$typeof,b){case o:case a:case l:case m:case f:case s:return b;default:return _}}case e:return _}}}return St.ContextConsumer=a,St.ContextProvider=s,St.Element=r,St.ForwardRef=l,St.Fragment=t,St.Lazy=m,St.Memo=f,St.Portal=e,St.Profiler=i,St.StrictMode=n,St.Suspense=c,St.SuspenseList=d,St.isAsyncMode=function(){return!1},St.isConcurrentMode=function(){return!1},St.isContextConsumer=function(b){return y(b)===a},St.isContextProvider=function(b){return y(b)===s},St.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===r},St.isForwardRef=function(b){return y(b)===l},St.isFragment=function(b){return y(b)===t},St.isLazy=function(b){return y(b)===m},St.isMemo=function(b){return y(b)===f},St.isPortal=function(b){return y(b)===e},St.isProfiler=function(b){return y(b)===i},St.isStrictMode=function(b){return y(b)===n},St.isSuspense=function(b){return y(b)===c},St.isSuspenseList=function(b){return y(b)===d},St.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===t||b===i||b===n||b===c||b===d||b===g||typeof b=="object"&&b!==null&&(b.$$typeof===m||b.$$typeof===f||b.$$typeof===s||b.$$typeof===a||b.$$typeof===l||b.$$typeof===x||b.getModuleId!==void 0)},St.typeOf=y,St}var d3;function nhe(){return d3||(d3=1,qT.exports=rhe()),qT.exports}var ihe=nhe(),HT,h3;function f7(){if(h3)return HT;h3=1;var r=ec(),e=tc(),t="[object Number]";function n(i){return typeof i=="number"||e(i)&&r(i)==t}return HT=n,HT}var WT,f3;function she(){if(f3)return WT;f3=1;var r=f7();function e(t){return r(t)&&t!=+t}return WT=e,WT}var ahe=she();const Dw=$t(ahe);var ohe=f7();const lhe=$t(ohe);var Pa=function(e){return e===0?0:e>0?1:-1},Nd=function(e){return Mw(e)&&e.indexOf("%")===e.length-1},xe=function(e){return lhe(e)&&!Dw(e)},Qr=function(e){return xe(e)||Mw(e)},che=0,zA=function(e){var t=++che;return"".concat(e||"").concat(t)},of=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&!Mw(e))return n;var s;if(Nd(e)){var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return Dw(s)&&(s=n),i&&s>t&&(s=t),s},Dc=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},uhe=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},i=0;i<t;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},ep=function(e,t){return xe(e)&&xe(t)?function(n){return e+n*(t-e)}:function(){return t}};function J2(r,e,t){return!r||!r.length?null:r.find(function(n){return n&&(typeof e=="function"?e(n):Ks(n,e))===t})}function Pp(r,e){for(var t in r)if({}.hasOwnProperty.call(r,t)&&(!{}.hasOwnProperty.call(e,t)||r[t]!==e[t]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(r,n))return!1;return!0}function Q2(r){"@babel/helpers - typeof";return Q2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q2(r)}var dhe=["viewBox","children"],hhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],p3=["points","pathLength"],VT={svg:dhe,polygon:p3,polyline:p3},cM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],eS=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(R.isValidElement(e)&&(n=e.props),!Ug(n))return null;var i={};return Object.keys(n).forEach(function(s){cM.includes(s)&&(i[s]=t||function(a){return n[s](n,a)})}),i},fhe=function(e,t,n){return function(i){return e(t,n,i),null}},tS=function(e,t,n){if(!Ug(e)||Q2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];cM.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=fhe(a,t,n))}),i},phe=["children"],mhe=["children"];function m3(r,e){if(r==null)return{};var t=ghe(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function ghe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var g3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Fl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},v3=null,GT=null,uM=function r(e){if(e===v3&&Array.isArray(GT))return GT;var t=[];return R.Children.forEach(e,function(n){Et(n)||(ihe.isFragment(n)?t=t.concat(r(n.props.children)):t.push(n))}),GT=t,v3=e,t};function Na(r,e){var t=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Fl(i)}):n=[Fl(e)],uM(r).forEach(function(i){var s=Ks(i,"type.displayName")||Ks(i,"type.name");n.indexOf(s)!==-1&&t.push(i)}),t}function ls(r,e){var t=Na(r,e);return t&&t[0]}var y3=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,i=t.height;return!(!xe(n)||n<=0||!xe(i)||i<=0)},vhe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yhe=function(e){return e&&e.type&&Mw(e.type)&&vhe.indexOf(e.type)>=0},bhe=function(e,t,n,i){var s,a=(s=VT==null?void 0:VT[i])!==null&&s!==void 0?s:[];return t.startsWith("data-")||!st(e)&&(i&&a.includes(t)||hhe.includes(t))||n&&cM.includes(t)},bt=function(e,t,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!Ug(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;bhe((o=i)===null||o===void 0?void 0:o[a],a,t,n)&&(s[a]=i[a])}),s},Z2=function r(e,t){if(e===t)return!0;var n=R.Children.count(e);if(n!==R.Children.count(t))return!1;if(n===0)return!0;if(n===1)return b3(Array.isArray(e)?e[0]:e,Array.isArray(t)?t[0]:t);for(var i=0;i<n;i++){var s=e[i],a=t[i];if(Array.isArray(s)||Array.isArray(a)){if(!r(s,a))return!1}else if(!b3(s,a))return!1}return!0},b3=function(e,t){if(Et(e)&&Et(t))return!0;if(!Et(e)&&!Et(t)){var n=e.props||{},i=n.children,s=m3(n,phe),a=t.props||{},o=a.children,l=m3(a,mhe);return i&&o?Pp(s,l)&&Z2(i,o):!i&&!o?Pp(s,l):!1}return!1},w3=function(e,t){var n=[],i={};return uM(e).forEach(function(s,a){if(yhe(s))n.push(s);else if(s){var o=Fl(s.type),l=t[o]||{},c=l.handler,d=l.once;if(c&&(!d||!i[o])){var f=c(s,o,a);n.push(f),i[o]=!0}}}),n},whe=function(e){var t=e&&e.type;return t&&g3[t]?g3[t]:null},xhe=function(e,t){return uM(t).indexOf(e)},_he=["children","width","height","viewBox","className","style","title","desc"];function ej(){return ej=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ej.apply(this,arguments)}function She(r,e){if(r==null)return{};var t=Ahe(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Ahe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function tj(r){var e=r.children,t=r.width,n=r.height,i=r.viewBox,s=r.className,a=r.style,o=r.title,l=r.desc,c=She(r,_he),d=i||{width:t,height:n,x:0,y:0},f=pt("recharts-surface",s);return W.createElement("svg",ej({},bt(c,!0,"svg"),{className:f,width:t,height:n,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),W.createElement("title",null,o),W.createElement("desc",null,l),e)}var Ehe=["children","className"];function rj(){return rj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},rj.apply(this,arguments)}function khe(r,e){if(r==null)return{};var t=Che(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Che(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var mn=W.forwardRef(function(r,e){var t=r.children,n=r.className,i=khe(r,Ehe),s=pt("recharts-layer",n);return W.createElement("g",rj({className:s},bt(i,!0),{ref:e}),t)}),Bl=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},KT,x3;function The(){if(x3)return KT;x3=1;function r(e,t,n){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+t];return a}return KT=r,KT}var YT,_3;function Phe(){if(_3)return YT;_3=1;var r=The();function e(t,n,i){var s=t.length;return i=i===void 0?s:i,!n&&i>=s?t:r(t,n,i)}return YT=e,YT}var XT,S3;function p7(){if(S3)return XT;S3=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+t+n,s="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+r+i+s+"]");function l(c){return o.test(c)}return XT=l,XT}var JT,A3;function Ohe(){if(A3)return JT;A3=1;function r(e){return e.split("")}return JT=r,JT}var QT,E3;function Nhe(){if(E3)return QT;E3=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+t+n,s="\\ufe0e\\ufe0f",a="["+r+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+l+")",d="[^"+r+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",x=c+"?",y="["+s+"]?",b="(?:"+g+"(?:"+[d,f,m].join("|")+")"+y+x+")*",_=y+x+b,E="(?:"+[d+o+"?",o,f,m,a].join("|")+")",A=RegExp(l+"(?="+l+")|"+E+_,"g");function C(k){return k.match(A)||[]}return QT=C,QT}var ZT,k3;function Rhe(){if(k3)return ZT;k3=1;var r=Ohe(),e=p7(),t=Nhe();function n(i){return e(i)?t(i):r(i)}return ZT=n,ZT}var eP,C3;function jhe(){if(C3)return eP;C3=1;var r=Phe(),e=p7(),t=Rhe(),n=u7();function i(s){return function(a){a=n(a);var o=e(a)?t(a):void 0,l=o?o[0]:a.charAt(0),c=o?r(o,1).join(""):a.slice(1);return l[s]()+c}}return eP=i,eP}var tP,T3;function Ihe(){if(T3)return tP;T3=1;var r=jhe(),e=r("toUpperCase");return tP=e,tP}var Mhe=Ihe();const qA=$t(Mhe);function Kt(r){return function(){return r}}const m7=Math.cos,rS=Math.sin,Da=Math.sqrt,nS=Math.PI,HA=2*nS,nj=Math.PI,ij=2*nj,wd=1e-6,Dhe=ij-wd;function g7(r){this._+=r[0];for(let e=1,t=r.length;e<t;++e)this._+=arguments[e]+r[e]}function Lhe(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return g7;const t=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+n[i]}}class $he{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?g7:Lhe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,i){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,t,n,i,s,a){this._append`C${+e},${+t},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,n,i,s){if(e=+e,t=+t,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-e,c=i-t,d=a-e,f=o-t,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(m>wd)if(!(Math.abs(f*l-c*d)>wd)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let g=n-a,x=i-o,y=l*l+c*c,b=g*g+x*x,_=Math.sqrt(y),E=Math.sqrt(m),A=s*Math.tan((nj-Math.acos((y+m-b)/(2*_*E)))/2),C=A/E,k=A/_;Math.abs(C-1)>wd&&this._append`L${e+C*d},${t+C*f}`,this._append`A${s},${s},0,0,${+(f*g>d*x)},${this._x1=e+k*l},${this._y1=t+k*c}`}}arc(e,t,n,i,s,a){if(e=+e,t=+t,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,d=t+l,f=1^a,m=a?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>wd||Math.abs(this._y1-d)>wd)&&this._append`L${c},${d}`,n&&(m<0&&(m=m%ij+ij),m>Dhe?this._append`A${n},${n},0,1,${f},${e-o},${t-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:m>wd&&this._append`A${n},${n},0,${+(m>=nj)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=t+n*Math.sin(s)}`)}rect(e,t,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function dM(r){let e=3;return r.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);e=n}return r},()=>new $he(e)}function hM(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function v7(r){this._context=r}v7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function WA(r){return new v7(r)}function y7(r){return r[0]}function b7(r){return r[1]}function w7(r,e){var t=Kt(!0),n=null,i=WA,s=null,a=dM(o);r=typeof r=="function"?r:r===void 0?y7:Kt(r),e=typeof e=="function"?e:e===void 0?b7:Kt(e);function o(l){var c,d=(l=hM(l)).length,f,m=!1,g;for(n==null&&(s=i(g=a())),c=0;c<=d;++c)!(c<d&&t(f=l[c],c,l))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+r(f,c,l),+e(f,c,l));if(g)return s=null,g+""||null}return o.x=function(l){return arguments.length?(r=typeof l=="function"?l:Kt(+l),o):r},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Kt(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:Kt(!!l),o):t},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}function __(r,e,t){var n=null,i=Kt(!0),s=null,a=WA,o=null,l=dM(c);r=typeof r=="function"?r:r===void 0?y7:Kt(+r),e=typeof e=="function"?e:Kt(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?b7:Kt(+t);function c(f){var m,g,x,y=(f=hM(f)).length,b,_=!1,E,A=new Array(y),C=new Array(y);for(s==null&&(o=a(E=l())),m=0;m<=y;++m){if(!(m<y&&i(b=f[m],m,f))===_)if(_=!_)g=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=m-1;x>=g;--x)o.point(A[x],C[x]);o.lineEnd(),o.areaEnd()}_&&(A[m]=+r(b,m,f),C[m]=+e(b,m,f),o.point(n?+n(b,m,f):A[m],t?+t(b,m,f):C[m]))}if(E)return o=null,E+""||null}function d(){return w7().defined(i).curve(a).context(s)}return c.x=function(f){return arguments.length?(r=typeof f=="function"?f:Kt(+f),n=null,c):r},c.x0=function(f){return arguments.length?(r=typeof f=="function"?f:Kt(+f),c):r},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Kt(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Kt(+f),t=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Kt(+f),c):e},c.y1=function(f){return arguments.length?(t=f==null?null:typeof f=="function"?f:Kt(+f),c):t},c.lineX0=c.lineY0=function(){return d().x(r).y(e)},c.lineY1=function(){return d().x(r).y(t)},c.lineX1=function(){return d().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Kt(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),c):a},c.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),c):s},c}class x7{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function Fhe(r){return new x7(r,!0)}function Bhe(r){return new x7(r,!1)}const fM={draw(r,e){const t=Da(e/nS);r.moveTo(t,0),r.arc(0,0,t,0,HA)}},Uhe={draw(r,e){const t=Da(e/5)/2;r.moveTo(-3*t,-t),r.lineTo(-t,-t),r.lineTo(-t,-3*t),r.lineTo(t,-3*t),r.lineTo(t,-t),r.lineTo(3*t,-t),r.lineTo(3*t,t),r.lineTo(t,t),r.lineTo(t,3*t),r.lineTo(-t,3*t),r.lineTo(-t,t),r.lineTo(-3*t,t),r.closePath()}},_7=Da(1/3),zhe=_7*2,qhe={draw(r,e){const t=Da(e/zhe),n=t*_7;r.moveTo(0,-t),r.lineTo(n,0),r.lineTo(0,t),r.lineTo(-n,0),r.closePath()}},Hhe={draw(r,e){const t=Da(e),n=-t/2;r.rect(n,n,t,t)}},Whe=.8908130915292852,S7=rS(nS/10)/rS(7*nS/10),Vhe=rS(HA/10)*S7,Ghe=-m7(HA/10)*S7,Khe={draw(r,e){const t=Da(e*Whe),n=Vhe*t,i=Ghe*t;r.moveTo(0,-t),r.lineTo(n,i);for(let s=1;s<5;++s){const a=HA*s/5,o=m7(a),l=rS(a);r.lineTo(l*t,-o*t),r.lineTo(o*n-l*i,l*n+o*i)}r.closePath()}},rP=Da(3),Yhe={draw(r,e){const t=-Da(e/(rP*3));r.moveTo(0,t*2),r.lineTo(-rP*t,-t),r.lineTo(rP*t,-t),r.closePath()}},Os=-.5,Ns=Da(3)/2,sj=1/Da(12),Xhe=(sj/2+1)*3,Jhe={draw(r,e){const t=Da(e/Xhe),n=t/2,i=t*sj,s=n,a=t*sj+t,o=-s,l=a;r.moveTo(n,i),r.lineTo(s,a),r.lineTo(o,l),r.lineTo(Os*n-Ns*i,Ns*n+Os*i),r.lineTo(Os*s-Ns*a,Ns*s+Os*a),r.lineTo(Os*o-Ns*l,Ns*o+Os*l),r.lineTo(Os*n+Ns*i,Os*i-Ns*n),r.lineTo(Os*s+Ns*a,Os*a-Ns*s),r.lineTo(Os*o+Ns*l,Os*l-Ns*o),r.closePath()}};function Qhe(r,e){let t=null,n=dM(i);r=typeof r=="function"?r:Kt(r||fM),e=typeof e=="function"?e:Kt(e===void 0?64:+e);function i(){let s;if(t||(t=s=n()),r.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return i.type=function(s){return arguments.length?(r=typeof s=="function"?s:Kt(s),i):r},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Kt(+s),i):e},i.context=function(s){return arguments.length?(t=s??null,i):t},i}function iS(){}function sS(r,e,t){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+t)/6)}function A7(r){this._context=r}A7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sS(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function Zhe(r){return new A7(r)}function E7(r){this._context=r}E7.prototype={areaStart:iS,areaEnd:iS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:sS(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function efe(r){return new E7(r)}function k7(r){this._context=r}k7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+r)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 3:this._point=4;default:sS(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function tfe(r){return new k7(r)}function C7(r){this._context=r}C7.prototype={areaStart:iS,areaEnd:iS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function rfe(r){return new C7(r)}function P3(r){return r<0?-1:1}function O3(r,e,t){var n=r._x1-r._x0,i=e-r._x1,s=(r._y1-r._y0)/(n||i<0&&-0),a=(t-r._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(P3(s)+P3(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function N3(r,e){var t=r._x1-r._x0;return t?(3*(r._y1-r._y0)/t-e)/2:e}function nP(r,e,t){var n=r._x0,i=r._y0,s=r._x1,a=r._y1,o=(s-n)/3;r._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*t,s,a)}function aS(r){this._context=r}aS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nP(this,this._t0,N3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var t=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,nP(this,N3(this,t=O3(this,r,e)),t);break;default:nP(this,this._t0,t=O3(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=t}}};function T7(r){this._context=new P7(r)}(T7.prototype=Object.create(aS.prototype)).point=function(r,e){aS.prototype.point.call(this,e,r)};function P7(r){this._context=r}P7.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,t,n,i,s){this._context.bezierCurveTo(e,r,n,t,s,i)}};function nfe(r){return new aS(r)}function ife(r){return new T7(r)}function O7(r){this._context=r}O7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,t=r.length;if(t)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),t===2)this._context.lineTo(r[1],e[1]);else for(var n=R3(r),i=R3(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],r[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function R3(r){var e,t=r.length-1,n,i=new Array(t),s=new Array(t),a=new Array(t);for(i[0]=0,s[0]=2,a[0]=r[0]+2*r[1],e=1;e<t-1;++e)i[e]=1,s[e]=4,a[e]=4*r[e]+2*r[e+1];for(i[t-1]=2,s[t-1]=7,a[t-1]=8*r[t-1]+r[t],e=1;e<t;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[t-1]=(r[t]+i[t-1])/2,e=0;e<t-1;++e)s[e]=2*r[e+1]-i[e+1];return[i,s]}function sfe(r){return new O7(r)}function VA(r,e){this._context=r,this._t=e}VA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var t=this._x*(1-this._t)+r*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=r,this._y=e}};function afe(r){return new VA(r,.5)}function ofe(r){return new VA(r,0)}function lfe(r){return new VA(r,1)}function lg(r,e){if((a=r.length)>1)for(var t=1,n,i,s=r[e[0]],a,o=s.length;t<a;++t)for(i=s,s=r[e[t]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function aj(r){for(var e=r.length,t=new Array(e);--e>=0;)t[e]=e;return t}function cfe(r,e){return r[e]}function ufe(r){const e=[];return e.key=r,e}function dfe(){var r=Kt([]),e=aj,t=lg,n=cfe;function i(s){var a=Array.from(r.apply(this,arguments),ufe),o,l=a.length,c=-1,d;for(const f of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+n(f,a[o].key,c,s)]).data=f;for(o=0,d=hM(e(a));o<l;++o)a[d[o]].index=o;return t(a,d),a}return i.keys=function(s){return arguments.length?(r=typeof s=="function"?s:Kt(Array.from(s)),i):r},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Kt(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?aj:typeof s=="function"?s:Kt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(t=s??lg,i):t},i}function hfe(r,e){if((n=r.length)>0){for(var t,n,i=0,s=r[0].length,a;i<s;++i){for(a=t=0;t<n;++t)a+=r[t][i][1]||0;if(a)for(t=0;t<n;++t)r[t][i][1]/=a}lg(r,e)}}function ffe(r,e){if((i=r.length)>0){for(var t=0,n=r[e[0]],i,s=n.length;t<s;++t){for(var a=0,o=0;a<i;++a)o+=r[a][t][1]||0;n[t][1]+=n[t][0]=-o/2}lg(r,e)}}function pfe(r,e){if(!(!((a=r.length)>0)||!((s=(i=r[e[0]]).length)>0))){for(var t=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,c=0;o<a;++o){for(var d=r[e[o]],f=d[n][1]||0,m=d[n-1][1]||0,g=(f-m)/2,x=0;x<o;++x){var y=r[e[x]],b=y[n][1]||0,_=y[n-1][1]||0;g+=b-_}l+=f,c+=g*f}i[n-1][1]+=i[n-1][0]=t,l&&(t-=c/l)}i[n-1][1]+=i[n-1][0]=t,lg(r,e)}}function Gy(r){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(r)}var mfe=["type","size","sizeType"];function oj(){return oj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},oj.apply(this,arguments)}function j3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function I3(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(t),!0).forEach(function(n){gfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):j3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function gfe(r,e,t){return e=vfe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function vfe(r){var e=yfe(r,"string");return Gy(e)=="symbol"?e:e+""}function yfe(r,e){if(Gy(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function bfe(r,e){if(r==null)return{};var t=wfe(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function wfe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var N7={symbolCircle:fM,symbolCross:Uhe,symbolDiamond:qhe,symbolSquare:Hhe,symbolStar:Khe,symbolTriangle:Yhe,symbolWye:Jhe},xfe=Math.PI/180,_fe=function(e){var t="symbol".concat(qA(e));return N7[t]||fM},Sfe=function(e,t,n){if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*xfe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Afe=function(e,t){N7["symbol".concat(qA(e))]=t},pM=function(e){var t=e.type,n=t===void 0?"circle":t,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=bfe(e,mfe),c=I3(I3({},l),{},{type:n,size:s,sizeType:o}),d=function(){var b=_fe(n),_=Qhe().type(b).size(Sfe(s,o,n));return _()},f=c.className,m=c.cx,g=c.cy,x=bt(c,!0);return m===+m&&g===+g&&s===+s?W.createElement("path",oj({},x,{className:pt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};pM.registerSymbol=Afe;function cg(r){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(r)}function lj(){return lj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},lj.apply(this,arguments)}function M3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Efe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(t),!0).forEach(function(n){Ky(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):M3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function kfe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Cfe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,j7(n.key),n)}}function Tfe(r,e,t){return e&&Cfe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Pfe(r,e,t){return e=oS(e),Ofe(r,R7()?Reflect.construct(e,t||[],oS(r).constructor):e.apply(r,t))}function Ofe(r,e){if(e&&(cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nfe(r)}function Nfe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function R7(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R7=function(){return!!r})()}function oS(r){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oS(r)}function Rfe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&cj(r,e)}function cj(r,e){return cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cj(r,e)}function Ky(r,e,t){return e=j7(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function j7(r){var e=jfe(r,"string");return cg(e)=="symbol"?e:e+""}function jfe(r,e){if(cg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Rs=32,mM=(function(r){function e(){return kfe(this,e),Pfe(this,e,arguments)}return Rfe(e,r),Tfe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Rs/2,a=Rs/6,o=Rs/3,l=n.inactive?i:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Rs,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Rs,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Rs/8,"h").concat(Rs,"v").concat(Rs*3/4,"h").concat(-Rs,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var c=Efe({},n);return delete c.legendIcon,W.cloneElement(n.legendIcon,c)}return W.createElement(pM,{fill:l,cx:s,cy:s,size:Rs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Rs,height:Rs},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,x){var y=g.formatter||l,b=pt(Ky(Ky({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var _=st(g.value)?null:g.value;Bl(!st(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=g.inactive?c:g.color;return W.createElement("li",lj({className:b,style:f,key:"legend-item-".concat(x)},tS(n.props,g,x)),W.createElement(tj,{width:a,height:a,viewBox:d,style:m},n.renderIcon(g)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},y?y(_,g,x):_))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,a=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(R.PureComponent);Ky(mM,"displayName","Legend");Ky(mM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var iP,D3;function Ife(){if(D3)return iP;D3=1;var r=FA();function e(){this.__data__=new r,this.size=0}return iP=e,iP}var sP,L3;function Mfe(){if(L3)return sP;L3=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return sP=r,sP}var aP,$3;function Dfe(){if($3)return aP;$3=1;function r(e){return this.__data__.get(e)}return aP=r,aP}var oP,F3;function Lfe(){if(F3)return oP;F3=1;function r(e){return this.__data__.has(e)}return oP=r,oP}var lP,B3;function $fe(){if(B3)return lP;B3=1;var r=FA(),e=sM(),t=aM(),n=200;function i(s,a){var o=this.__data__;if(o instanceof r){var l=o.__data__;if(!e||l.length<n-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new t(l)}return o.set(s,a),this.size=o.size,this}return lP=i,lP}var cP,U3;function I7(){if(U3)return cP;U3=1;var r=FA(),e=Ife(),t=Mfe(),n=Dfe(),i=Lfe(),s=$fe();function a(o){var l=this.__data__=new r(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=i,a.prototype.set=s,cP=a,cP}var uP,z3;function Ffe(){if(z3)return uP;z3=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return uP=e,uP}var dP,q3;function Bfe(){if(q3)return dP;q3=1;function r(e){return this.__data__.has(e)}return dP=r,dP}var hP,H3;function M7(){if(H3)return hP;H3=1;var r=aM(),e=Ffe(),t=Bfe();function n(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new r;++s<a;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,hP=n,hP}var fP,W3;function D7(){if(W3)return fP;W3=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}return fP=r,fP}var pP,V3;function L7(){if(V3)return pP;V3=1;function r(e,t){return e.has(t)}return pP=r,pP}var mP,G3;function $7(){if(G3)return mP;G3=1;var r=M7(),e=D7(),t=L7(),n=1,i=2;function s(a,o,l,c,d,f){var m=l&n,g=a.length,x=o.length;if(g!=x&&!(m&&x>g))return!1;var y=f.get(a),b=f.get(o);if(y&&b)return y==o&&b==a;var _=-1,E=!0,A=l&i?new r:void 0;for(f.set(a,o),f.set(o,a);++_<g;){var C=a[_],k=o[_];if(c)var P=m?c(k,C,_,o,a,f):c(C,k,_,a,o,f);if(P!==void 0){if(P)continue;E=!1;break}if(A){if(!e(o,function(j,M){if(!t(A,M)&&(C===j||d(C,j,l,c,f)))return A.push(M)})){E=!1;break}}else if(!(C===k||d(C,k,l,c,f))){E=!1;break}}return f.delete(a),f.delete(o),E}return mP=s,mP}var gP,K3;function Ufe(){if(K3)return gP;K3=1;var r=jo(),e=r.Uint8Array;return gP=e,gP}var vP,Y3;function zfe(){if(Y3)return vP;Y3=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i,s){n[++t]=[s,i]}),n}return vP=r,vP}var yP,X3;function gM(){if(X3)return yP;X3=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}return yP=r,yP}var bP,J3;function qfe(){if(J3)return bP;J3=1;var r=Iw(),e=Ufe(),t=iM(),n=$7(),i=zfe(),s=gM(),a=1,o=2,l="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",x="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",A=r?r.prototype:void 0,C=A?A.valueOf:void 0;function k(P,j,M,$,U,F,z){switch(M){case E:if(P.byteLength!=j.byteLength||P.byteOffset!=j.byteOffset)return!1;P=P.buffer,j=j.buffer;case _:return!(P.byteLength!=j.byteLength||!F(new e(P),new e(j)));case l:case c:case m:return t(+P,+j);case d:return P.name==j.name&&P.message==j.message;case g:case y:return P==j+"";case f:var V=i;case x:var X=$&a;if(V||(V=s),P.size!=j.size&&!X)return!1;var J=z.get(P);if(J)return J==j;$|=o,z.set(P,j);var H=n(V(P),V(j),$,U,F,z);return z.delete(P),H;case b:if(C)return C.call(P)==C.call(j)}return!1}return bP=k,bP}var wP,Q3;function F7(){if(Q3)return wP;Q3=1;function r(e,t){for(var n=-1,i=t.length,s=e.length;++n<i;)e[s+n]=t[n];return e}return wP=r,wP}var xP,Z3;function Hfe(){if(Z3)return xP;Z3=1;var r=F7(),e=Ni();function t(n,i,s){var a=i(n);return e(n)?a:r(a,s(n))}return xP=t,xP}var _P,e4;function Wfe(){if(e4)return _P;e4=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,s=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[s++]=o)}return a}return _P=r,_P}var SP,t4;function Vfe(){if(t4)return SP;t4=1;function r(){return[]}return SP=r,SP}var AP,r4;function Gfe(){if(r4)return AP;r4=1;var r=Wfe(),e=Vfe(),t=Object.prototype,n=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),r(i(a),function(o){return n.call(a,o)}))}:e;return AP=s,AP}var EP,n4;function Kfe(){if(n4)return EP;n4=1;function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}return EP=r,EP}var kP,i4;function Yfe(){if(i4)return kP;i4=1;var r=ec(),e=tc(),t="[object Arguments]";function n(i){return e(i)&&r(i)==t}return kP=n,kP}var CP,s4;function vM(){if(s4)return CP;s4=1;var r=Yfe(),e=tc(),t=Object.prototype,n=t.hasOwnProperty,i=t.propertyIsEnumerable,s=r((function(){return arguments})())?r:function(a){return e(a)&&n.call(a,"callee")&&!i.call(a,"callee")};return CP=s,CP}var vy={exports:{}},TP,a4;function Xfe(){if(a4)return TP;a4=1;function r(){return!1}return TP=r,TP}vy.exports;var o4;function B7(){return o4||(o4=1,(function(r,e){var t=jo(),n=Xfe(),i=e&&!e.nodeType&&e,s=i&&!0&&r&&!r.nodeType&&r,a=s&&s.exports===i,o=a?t.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;r.exports=c})(vy,vy.exports)),vy.exports}var PP,l4;function yM(){if(l4)return PP;l4=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,i){var s=typeof n;return i=i??r,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return PP=t,PP}var OP,c4;function bM(){if(c4)return OP;c4=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return OP=e,OP}var NP,u4;function Jfe(){if(u4)return NP;u4=1;var r=ec(),e=bM(),t=tc(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",g="[object Set]",x="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",E="[object Float32Array]",A="[object Float64Array]",C="[object Int8Array]",k="[object Int16Array]",P="[object Int32Array]",j="[object Uint8Array]",M="[object Uint8ClampedArray]",$="[object Uint16Array]",U="[object Uint32Array]",F={};F[E]=F[A]=F[C]=F[k]=F[P]=F[j]=F[M]=F[$]=F[U]=!0,F[n]=F[i]=F[b]=F[s]=F[_]=F[a]=F[o]=F[l]=F[c]=F[d]=F[f]=F[m]=F[g]=F[x]=F[y]=!1;function z(V){return t(V)&&e(V.length)&&!!F[r(V)]}return NP=z,NP}var RP,d4;function U7(){if(d4)return RP;d4=1;function r(e){return function(t){return e(t)}}return RP=r,RP}var yy={exports:{}};yy.exports;var h4;function Qfe(){return h4||(h4=1,(function(r,e){var t=o7(),n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,s=i&&i.exports===n,a=s&&t.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();r.exports=o})(yy,yy.exports)),yy.exports}var jP,f4;function z7(){if(f4)return jP;f4=1;var r=Jfe(),e=U7(),t=Qfe(),n=t&&t.isTypedArray,i=n?e(n):r;return jP=i,jP}var IP,p4;function Zfe(){if(p4)return IP;p4=1;var r=Kfe(),e=vM(),t=Ni(),n=B7(),i=yM(),s=z7(),a=Object.prototype,o=a.hasOwnProperty;function l(c,d){var f=t(c),m=!f&&e(c),g=!f&&!m&&n(c),x=!f&&!m&&!g&&s(c),y=f||m||g||x,b=y?r(c.length,String):[],_=b.length;for(var E in c)(d||o.call(c,E))&&!(y&&(E=="length"||g&&(E=="offset"||E=="parent")||x&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,_)))&&b.push(E);return b}return IP=l,IP}var MP,m4;function epe(){if(m4)return MP;m4=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,i=typeof n=="function"&&n.prototype||r;return t===i}return MP=e,MP}var DP,g4;function q7(){if(g4)return DP;g4=1;function r(e,t){return function(n){return e(t(n))}}return DP=r,DP}var LP,v4;function tpe(){if(v4)return LP;v4=1;var r=q7(),e=r(Object.keys,Object);return LP=e,LP}var $P,y4;function rpe(){if(y4)return $P;y4=1;var r=epe(),e=tpe(),t=Object.prototype,n=t.hasOwnProperty;function i(s){if(!r(s))return e(s);var a=[];for(var o in Object(s))n.call(s,o)&&o!="constructor"&&a.push(o);return a}return $P=i,$P}var FP,b4;function Lw(){if(b4)return FP;b4=1;var r=nM(),e=bM();function t(n){return n!=null&&e(n.length)&&!r(n)}return FP=t,FP}var BP,w4;function GA(){if(w4)return BP;w4=1;var r=Zfe(),e=rpe(),t=Lw();function n(i){return t(i)?r(i):e(i)}return BP=n,BP}var UP,x4;function npe(){if(x4)return UP;x4=1;var r=Hfe(),e=Gfe(),t=GA();function n(i){return r(i,t,e)}return UP=n,UP}var zP,_4;function ipe(){if(_4)return zP;_4=1;var r=npe(),e=1,t=Object.prototype,n=t.hasOwnProperty;function i(s,a,o,l,c,d){var f=o&e,m=r(s),g=m.length,x=r(a),y=x.length;if(g!=y&&!f)return!1;for(var b=g;b--;){var _=m[b];if(!(f?_ in a:n.call(a,_)))return!1}var E=d.get(s),A=d.get(a);if(E&&A)return E==a&&A==s;var C=!0;d.set(s,a),d.set(a,s);for(var k=f;++b<g;){_=m[b];var P=s[_],j=a[_];if(l)var M=f?l(j,P,_,a,s,d):l(P,j,_,s,a,d);if(!(M===void 0?P===j||c(P,j,o,l,d):M)){C=!1;break}k||(k=_=="constructor")}if(C&&!k){var $=s.constructor,U=a.constructor;$!=U&&"constructor"in s&&"constructor"in a&&!(typeof $=="function"&&$ instanceof $&&typeof U=="function"&&U instanceof U)&&(C=!1)}return d.delete(s),d.delete(a),C}return zP=i,zP}var qP,S4;function spe(){if(S4)return qP;S4=1;var r=pf(),e=jo(),t=r(e,"DataView");return qP=t,qP}var HP,A4;function ape(){if(A4)return HP;A4=1;var r=pf(),e=jo(),t=r(e,"Promise");return HP=t,HP}var WP,E4;function H7(){if(E4)return WP;E4=1;var r=pf(),e=jo(),t=r(e,"Set");return WP=t,WP}var VP,k4;function ope(){if(k4)return VP;k4=1;var r=pf(),e=jo(),t=r(e,"WeakMap");return VP=t,VP}var GP,C4;function lpe(){if(C4)return GP;C4=1;var r=spe(),e=sM(),t=ape(),n=H7(),i=ope(),s=ec(),a=l7(),o="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",f="[object WeakMap]",m="[object DataView]",g=a(r),x=a(e),y=a(t),b=a(n),_=a(i),E=s;return(r&&E(new r(new ArrayBuffer(1)))!=m||e&&E(new e)!=o||t&&E(t.resolve())!=c||n&&E(new n)!=d||i&&E(new i)!=f)&&(E=function(A){var C=s(A),k=C==l?A.constructor:void 0,P=k?a(k):"";if(P)switch(P){case g:return m;case x:return o;case y:return c;case b:return d;case _:return f}return C}),GP=E,GP}var KP,T4;function cpe(){if(T4)return KP;T4=1;var r=I7(),e=$7(),t=qfe(),n=ipe(),i=lpe(),s=Ni(),a=B7(),o=z7(),l=1,c="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function x(y,b,_,E,A,C){var k=s(y),P=s(b),j=k?d:i(y),M=P?d:i(b);j=j==c?f:j,M=M==c?f:M;var $=j==f,U=M==f,F=j==M;if(F&&a(y)){if(!a(b))return!1;k=!0,$=!1}if(F&&!$)return C||(C=new r),k||o(y)?e(y,b,_,E,A,C):t(y,b,j,_,E,A,C);if(!(_&l)){var z=$&&g.call(y,"__wrapped__"),V=U&&g.call(b,"__wrapped__");if(z||V){var X=z?y.value():y,J=V?b.value():b;return C||(C=new r),A(X,J,_,E,C)}}return F?(C||(C=new r),n(y,b,_,E,A,C)):!1}return KP=x,KP}var YP,P4;function wM(){if(P4)return YP;P4=1;var r=cpe(),e=tc();function t(n,i,s,a,o){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:r(n,i,s,a,t,o)}return YP=t,YP}var XP,O4;function upe(){if(O4)return XP;O4=1;var r=I7(),e=wM(),t=1,n=2;function i(s,a,o,l){var c=o.length,d=c,f=!l;if(s==null)return!d;for(s=Object(s);c--;){var m=o[c];if(f&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++c<d;){m=o[c];var g=m[0],x=s[g],y=m[1];if(f&&m[2]){if(x===void 0&&!(g in s))return!1}else{var b=new r;if(l)var _=l(x,y,g,s,a,b);if(!(_===void 0?e(y,x,t|n,l,b):_))return!1}}return!0}return XP=i,XP}var JP,N4;function W7(){if(N4)return JP;N4=1;var r=qu();function e(t){return t===t&&!r(t)}return JP=e,JP}var QP,R4;function dpe(){if(R4)return QP;R4=1;var r=W7(),e=GA();function t(n){for(var i=e(n),s=i.length;s--;){var a=i[s],o=n[a];i[s]=[a,o,r(o)]}return i}return QP=t,QP}var ZP,j4;function V7(){if(j4)return ZP;j4=1;function r(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}return ZP=r,ZP}var eO,I4;function hpe(){if(I4)return eO;I4=1;var r=upe(),e=dpe(),t=V7();function n(i){var s=e(i);return s.length==1&&s[0][2]?t(s[0][0],s[0][1]):function(a){return a===i||r(a,i,s)}}return eO=n,eO}var tO,M4;function fpe(){if(M4)return tO;M4=1;function r(e,t){return e!=null&&t in Object(e)}return tO=r,tO}var rO,D4;function ppe(){if(D4)return rO;D4=1;var r=d7(),e=vM(),t=Ni(),n=yM(),i=bM(),s=UA();function a(o,l,c){l=r(l,o);for(var d=-1,f=l.length,m=!1;++d<f;){var g=s(l[d]);if(!(m=o!=null&&c(o,g)))break;o=o[g]}return m||++d!=f?m:(f=o==null?0:o.length,!!f&&i(f)&&n(g,f)&&(t(o)||e(o)))}return rO=a,rO}var nO,L4;function mpe(){if(L4)return nO;L4=1;var r=fpe(),e=ppe();function t(n,i){return n!=null&&e(n,i,r)}return nO=t,nO}var iO,$4;function gpe(){if($4)return iO;$4=1;var r=wM(),e=h7(),t=mpe(),n=rM(),i=W7(),s=V7(),a=UA(),o=1,l=2;function c(d,f){return n(d)&&i(f)?s(a(d),f):function(m){var g=e(m,d);return g===void 0&&g===f?t(m,d):r(f,g,o|l)}}return iO=c,iO}var sO,F4;function zg(){if(F4)return sO;F4=1;function r(e){return e}return sO=r,sO}var aO,B4;function vpe(){if(B4)return aO;B4=1;function r(e){return function(t){return t==null?void 0:t[e]}}return aO=r,aO}var oO,U4;function ype(){if(U4)return oO;U4=1;var r=lM();function e(t){return function(n){return r(n,t)}}return oO=e,oO}var lO,z4;function bpe(){if(z4)return lO;z4=1;var r=vpe(),e=ype(),t=rM(),n=UA();function i(s){return t(s)?r(n(s)):e(s)}return lO=i,lO}var cO,q4;function Hu(){if(q4)return cO;q4=1;var r=hpe(),e=gpe(),t=zg(),n=Ni(),i=bpe();function s(a){return typeof a=="function"?a:a==null?t:typeof a=="object"?n(a)?e(a[0],a[1]):r(a):i(a)}return cO=s,cO}var uO,H4;function G7(){if(H4)return uO;H4=1;function r(e,t,n,i){for(var s=e.length,a=n+(i?1:-1);i?a--:++a<s;)if(t(e[a],a,e))return a;return-1}return uO=r,uO}var dO,W4;function wpe(){if(W4)return dO;W4=1;function r(e){return e!==e}return dO=r,dO}var hO,V4;function xpe(){if(V4)return hO;V4=1;function r(e,t,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===t)return i;return-1}return hO=r,hO}var fO,G4;function _pe(){if(G4)return fO;G4=1;var r=G7(),e=wpe(),t=xpe();function n(i,s,a){return s===s?t(i,s,a):r(i,e,a)}return fO=n,fO}var pO,K4;function Spe(){if(K4)return pO;K4=1;var r=_pe();function e(t,n){var i=t==null?0:t.length;return!!i&&r(t,n,0)>-1}return pO=e,pO}var mO,Y4;function Ape(){if(Y4)return mO;Y4=1;function r(e,t,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(t,e[i]))return!0;return!1}return mO=r,mO}var gO,X4;function Epe(){if(X4)return gO;X4=1;function r(){}return gO=r,gO}var vO,J4;function kpe(){if(J4)return vO;J4=1;var r=H7(),e=Epe(),t=gM(),n=1/0,i=r&&1/t(new r([,-0]))[1]==n?function(s){return new r(s)}:e;return vO=i,vO}var yO,Q4;function Cpe(){if(Q4)return yO;Q4=1;var r=M7(),e=Spe(),t=Ape(),n=L7(),i=kpe(),s=gM(),a=200;function o(l,c,d){var f=-1,m=e,g=l.length,x=!0,y=[],b=y;if(d)x=!1,m=t;else if(g>=a){var _=c?null:i(l);if(_)return s(_);x=!1,m=n,b=new r}else b=c?[]:y;e:for(;++f<g;){var E=l[f],A=c?c(E):E;if(E=d||E!==0?E:0,x&&A===A){for(var C=b.length;C--;)if(b[C]===A)continue e;c&&b.push(A),y.push(E)}else m(b,A,d)||(b!==y&&b.push(A),y.push(E))}return y}return yO=o,yO}var bO,Z4;function Tpe(){if(Z4)return bO;Z4=1;var r=Hu(),e=Cpe();function t(n,i){return n&&n.length?e(n,r(i,2)):[]}return bO=t,bO}var Ppe=Tpe();const eU=$t(Ppe);function K7(r,e,t){return e===!0?eU(r,t):st(e)?eU(r,e):r}function ug(r){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(r)}var Ope=["ref"];function tU(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Vo(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(t),!0).forEach(function(n){KA(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):tU(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Npe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function rU(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,X7(n.key),n)}}function Rpe(r,e,t){return e&&rU(r.prototype,e),t&&rU(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function jpe(r,e,t){return e=lS(e),Ipe(r,Y7()?Reflect.construct(e,t||[],lS(r).constructor):e.apply(r,t))}function Ipe(r,e){if(e&&(ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mpe(r)}function Mpe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Y7(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y7=function(){return!!r})()}function lS(r){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lS(r)}function Dpe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&uj(r,e)}function uj(r,e){return uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uj(r,e)}function KA(r,e,t){return e=X7(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function X7(r){var e=Lpe(r,"string");return ug(e)=="symbol"?e:e+""}function Lpe(r,e){if(ug(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function $pe(r,e){if(r==null)return{};var t=Fpe(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Fpe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Bpe(r){return r.value}function Upe(r,e){if(W.isValidElement(r))return W.cloneElement(r,e);if(typeof r=="function")return W.createElement(r,e);e.ref;var t=$pe(e,Ope);return W.createElement(mM,t)}var nU=1,Op=(function(r){function e(){var t;Npe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=jpe(this,e,[].concat(i)),KA(t,"lastBoundingBox",{width:-1,height:-1}),t}return Dpe(e,r),Rpe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>nU||Math.abs(i.height-this.lastBoundingBox.height)>nU)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();f={left:((c||0)-g.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var x=this.getBBoxSnapshot();m={top:((d||0)-x.height)/2}}else m=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Vo(Vo({},f),m)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=Vo(Vo({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return W.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},Upe(s,Vo(Vo({},this.props),{},{payload:K7(d,c,Bpe)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Vo(Vo({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&xe(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])})(R.PureComponent);KA(Op,"displayName","Legend");KA(Op,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var wO,iU;function zpe(){if(iU)return wO;iU=1;var r=Iw(),e=vM(),t=Ni(),n=r?r.isConcatSpreadable:void 0;function i(s){return t(s)||e(s)||!!(n&&s&&s[n])}return wO=i,wO}var xO,sU;function J7(){if(sU)return xO;sU=1;var r=F7(),e=zpe();function t(n,i,s,a,o){var l=-1,c=n.length;for(s||(s=e),o||(o=[]);++l<c;){var d=n[l];i>0&&s(d)?i>1?t(d,i-1,s,a,o):r(o,d):a||(o[o.length]=d)}return o}return xO=t,xO}var _O,aU;function qpe(){if(aU)return _O;aU=1;function r(e){return function(t,n,i){for(var s=-1,a=Object(t),o=i(t),l=o.length;l--;){var c=o[e?l:++s];if(n(a[c],c,a)===!1)break}return t}}return _O=r,_O}var SO,oU;function Hpe(){if(oU)return SO;oU=1;var r=qpe(),e=r();return SO=e,SO}var AO,lU;function Q7(){if(lU)return AO;lU=1;var r=Hpe(),e=GA();function t(n,i){return n&&r(n,i,e)}return AO=t,AO}var EO,cU;function Wpe(){if(cU)return EO;cU=1;var r=Lw();function e(t,n){return function(i,s){if(i==null)return i;if(!r(i))return t(i,s);for(var a=i.length,o=n?a:-1,l=Object(i);(n?o--:++o<a)&&s(l[o],o,l)!==!1;);return i}}return EO=e,EO}var kO,uU;function xM(){if(uU)return kO;uU=1;var r=Q7(),e=Wpe(),t=e(r);return kO=t,kO}var CO,dU;function Z7(){if(dU)return CO;dU=1;var r=xM(),e=Lw();function t(n,i){var s=-1,a=e(n)?Array(n.length):[];return r(n,function(o,l,c){a[++s]=i(o,l,c)}),a}return CO=t,CO}var TO,hU;function Vpe(){if(hU)return TO;hU=1;function r(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}return TO=r,TO}var PO,fU;function Gpe(){if(fU)return PO;fU=1;var r=Bg();function e(t,n){if(t!==n){var i=t!==void 0,s=t===null,a=t===t,o=r(t),l=n!==void 0,c=n===null,d=n===n,f=r(n);if(!c&&!f&&!o&&t>n||o&&l&&d&&!c&&!f||s&&l&&d||!i&&d||!a)return 1;if(!s&&!o&&!f&&t<n||f&&i&&a&&!s&&!o||c&&i&&a||!l&&a||!d)return-1}return 0}return PO=e,PO}var OO,pU;function Kpe(){if(pU)return OO;pU=1;var r=Gpe();function e(t,n,i){for(var s=-1,a=t.criteria,o=n.criteria,l=a.length,c=i.length;++s<l;){var d=r(a[s],o[s]);if(d){if(s>=c)return d;var f=i[s];return d*(f=="desc"?-1:1)}}return t.index-n.index}return OO=e,OO}var NO,mU;function Ype(){if(mU)return NO;mU=1;var r=oM(),e=lM(),t=Hu(),n=Z7(),i=Vpe(),s=U7(),a=Kpe(),o=zg(),l=Ni();function c(d,f,m){f.length?f=r(f,function(y){return l(y)?function(b){return e(b,y.length===1?y[0]:y)}:y}):f=[o];var g=-1;f=r(f,s(t));var x=n(d,function(y,b,_){var E=r(f,function(A){return A(y)});return{criteria:E,index:++g,value:y}});return i(x,function(y,b){return a(y,b,m)})}return NO=c,NO}var RO,gU;function Xpe(){if(gU)return RO;gU=1;function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}return RO=r,RO}var jO,vU;function Jpe(){if(vU)return jO;vU=1;var r=Xpe(),e=Math.max;function t(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var a=arguments,o=-1,l=e(a.length-i,0),c=Array(l);++o<l;)c[o]=a[i+o];o=-1;for(var d=Array(i+1);++o<i;)d[o]=a[o];return d[i]=s(c),r(n,this,d)}}return jO=t,jO}var IO,yU;function Qpe(){if(yU)return IO;yU=1;function r(e){return function(){return e}}return IO=r,IO}var MO,bU;function e9(){if(bU)return MO;bU=1;var r=pf(),e=(function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}})();return MO=e,MO}var DO,wU;function Zpe(){if(wU)return DO;wU=1;var r=Qpe(),e=e9(),t=zg(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:r(s),writable:!0})}:t;return DO=n,DO}var LO,xU;function eme(){if(xU)return LO;xU=1;var r=800,e=16,t=Date.now;function n(i){var s=0,a=0;return function(){var o=t(),l=e-(o-a);if(a=o,l>0){if(++s>=r)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return LO=n,LO}var $O,_U;function tme(){if(_U)return $O;_U=1;var r=Zpe(),e=eme(),t=e(r);return $O=t,$O}var FO,SU;function rme(){if(SU)return FO;SU=1;var r=zg(),e=Jpe(),t=tme();function n(i,s){return t(e(i,s,r),i+"")}return FO=n,FO}var BO,AU;function YA(){if(AU)return BO;AU=1;var r=iM(),e=Lw(),t=yM(),n=qu();function i(s,a,o){if(!n(o))return!1;var l=typeof a;return(l=="number"?e(o)&&t(a,o.length):l=="string"&&a in o)?r(o[a],s):!1}return BO=i,BO}var UO,EU;function nme(){if(EU)return UO;EU=1;var r=J7(),e=Ype(),t=rme(),n=YA(),i=t(function(s,a){if(s==null)return[];var o=a.length;return o>1&&n(s,a[0],a[1])?a=[]:o>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),e(s,r(a,1),[])});return UO=i,UO}var ime=nme();const _M=$t(ime);function Yy(r){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(r)}function dj(){return dj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},dj.apply(this,arguments)}function sme(r,e){return cme(r)||lme(r,e)||ome(r,e)||ame()}function ame(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ome(r,e){if(r){if(typeof r=="string")return kU(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kU(r,e)}}function kU(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function lme(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function cme(r){if(Array.isArray(r))return r}function CU(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function zO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CU(Object(t),!0).forEach(function(n){ume(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):CU(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ume(r,e,t){return e=dme(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dme(r){var e=hme(r,"string");return Yy(e)=="symbol"?e:e+""}function hme(r,e){if(Yy(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function fme(r){return Array.isArray(r)&&Qr(r[0])&&Qr(r[1])?r.join(" ~ "):r}var pme=function(e){var t=e.separator,n=t===void 0?" : ":t,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,m=e.itemSorter,g=e.wrapperClassName,x=e.labelClassName,y=e.label,b=e.labelFormatter,_=e.accessibilityLayer,E=_===void 0?!1:_,A=function(){if(d&&d.length){var z={padding:0,margin:0},V=(m?_M(d,m):d).map(function(X,J){if(X.type==="none")return null;var H=zO({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},o),G=X.formatter||f||fme,B=X.value,ee=X.name,ne=B,q=ee;if(G&&ne!=null&&q!=null){var Y=G(B,ee,X,J,d);if(Array.isArray(Y)){var re=sme(Y,2);ne=re[0],q=re[1]}else ne=Y}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:H},Qr(q)?W.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Qr(q)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},ne),W.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:z},V)}return null},C=zO({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),k=zO({margin:0},c),P=!Et(y),j=P?y:"",M=pt("recharts-default-tooltip",g),$=pt("recharts-tooltip-label",x);P&&b&&d!==void 0&&d!==null&&(j=b(y,d));var U=E?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",dj({className:M,style:C},U),W.createElement("p",{className:$,style:k},W.isValidElement(j)?j:"".concat(j)),A())};function Xy(r){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(r)}function S_(r,e,t){return e=mme(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function mme(r){var e=gme(r,"string");return Xy(e)=="symbol"?e:e+""}function gme(r,e){if(Xy(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Fv="recharts-tooltip-wrapper",vme={visibility:"hidden"};function yme(r){var e=r.coordinate,t=r.translateX,n=r.translateY;return pt(Fv,S_(S_(S_(S_({},"".concat(Fv,"-right"),xe(t)&&e&&xe(e.x)&&t>=e.x),"".concat(Fv,"-left"),xe(t)&&e&&xe(e.x)&&t<e.x),"".concat(Fv,"-bottom"),xe(n)&&e&&xe(e.y)&&n>=e.y),"".concat(Fv,"-top"),xe(n)&&e&&xe(e.y)&&n<e.y))}function TU(r){var e=r.allowEscapeViewBox,t=r.coordinate,n=r.key,i=r.offsetTopLeft,s=r.position,a=r.reverseDirection,o=r.tooltipDimension,l=r.viewBox,c=r.viewBoxDimension;if(s&&xe(s[n]))return s[n];var d=t[n]-o-i,f=t[n]+i;if(e[n])return a[n]?d:f;if(a[n]){var m=d,g=l[n];return m<g?Math.max(f,l[n]):Math.max(d,l[n])}var x=f+o,y=l[n]+c;return x>y?Math.max(d,l[n]):Math.max(f,l[n])}function bme(r){var e=r.translateX,t=r.translateY,n=r.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function wme(r){var e=r.allowEscapeViewBox,t=r.coordinate,n=r.offsetTopLeft,i=r.position,s=r.reverseDirection,a=r.tooltipBox,o=r.useTranslate3d,l=r.viewBox,c,d,f;return a.height>0&&a.width>0&&t?(d=TU({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=TU({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=bme({translateX:d,translateY:f,useTranslate3d:o})):c=vme,{cssProperties:c,cssClasses:yme({translateX:d,translateY:f,coordinate:t})}}function dg(r){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(r)}function PU(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function OU(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PU(Object(t),!0).forEach(function(n){fj(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):PU(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function xme(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _me(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,r9(n.key),n)}}function Sme(r,e,t){return e&&_me(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Ame(r,e,t){return e=cS(e),Eme(r,t9()?Reflect.construct(e,t||[],cS(r).constructor):e.apply(r,t))}function Eme(r,e){if(e&&(dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kme(r)}function kme(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function t9(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!r})()}function cS(r){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cS(r)}function Cme(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&hj(r,e)}function hj(r,e){return hj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hj(r,e)}function fj(r,e,t){return e=r9(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function r9(r){var e=Tme(r,"string");return dg(e)=="symbol"?e:e+""}function Tme(r,e){if(dg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var NU=1,Pme=(function(r){function e(){var t;xme(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=Ame(this,e,[].concat(i)),fj(t,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fj(t,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,d;t.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=t.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=t.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),t}return Cme(e,r),Sme(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>NU||Math.abs(n.height-this.state.lastBoundingBox.height)>NU)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,m=i.isAnimationActive,g=i.offset,x=i.position,y=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,A=wme({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:g,position:x,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:_}),C=A.cssClasses,k=A.cssProperties,P=OU(OU({transition:m&&s?"transform ".concat(o,"ms ").concat(l):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},E);return W.createElement("div",{tabIndex:-1,className:C,style:P,ref:function(M){n.wrapperNode=M}},c)}}])})(R.PureComponent),Ome=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},$w={isSsr:Ome()};function hg(r){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(r)}function RU(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function jU(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RU(Object(t),!0).forEach(function(n){SM(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):RU(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Nme(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Rme(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,i9(n.key),n)}}function jme(r,e,t){return e&&Rme(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Ime(r,e,t){return e=uS(e),Mme(r,n9()?Reflect.construct(e,t||[],uS(r).constructor):e.apply(r,t))}function Mme(r,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dme(r)}function Dme(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function n9(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n9=function(){return!!r})()}function uS(r){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uS(r)}function Lme(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&pj(r,e)}function pj(r,e){return pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pj(r,e)}function SM(r,e,t){return e=i9(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function i9(r){var e=$me(r,"string");return hg(e)=="symbol"?e:e+""}function $me(r,e){if(hg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function Fme(r){return r.dataKey}function Bme(r,e){return W.isValidElement(r)?W.cloneElement(r,e):typeof r=="function"?W.createElement(r,e):W.createElement(pme,e)}var Ga=(function(r){function e(){return Nme(this,e),Ime(this,e,arguments)}return Lme(e,r),jme(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,m=i.isAnimationActive,g=i.offset,x=i.payload,y=i.payloadUniqBy,b=i.position,_=i.reverseDirection,E=i.useTranslate3d,A=i.viewBox,C=i.wrapperStyle,k=x??[];f&&k.length&&(k=K7(x.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),y,Fme));var P=k.length>0;return W.createElement(Pme,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:m,active:s,coordinate:d,hasPayload:P,offset:g,position:b,reverseDirection:_,useTranslate3d:E,viewBox:A,wrapperStyle:C},Bme(c,jU(jU({},this.props),{},{payload:k})))}}])})(R.PureComponent);SM(Ga,"displayName","Tooltip");SM(Ga,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!$w.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qO,IU;function Ume(){if(IU)return qO;IU=1;var r=jo(),e=function(){return r.Date.now()};return qO=e,qO}var HO,MU;function zme(){if(MU)return HO;MU=1;var r=/\s/;function e(t){for(var n=t.length;n--&&r.test(t.charAt(n)););return n}return HO=e,HO}var WO,DU;function qme(){if(DU)return WO;DU=1;var r=zme(),e=/^\s+/;function t(n){return n&&n.slice(0,r(n)+1).replace(e,"")}return WO=t,WO}var VO,LU;function s9(){if(LU)return VO;LU=1;var r=qme(),e=qu(),t=Bg(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(t(c))return n;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=r(c);var f=s.test(c);return f||a.test(c)?o(c.slice(2),f?2:8):i.test(c)?n:+c}return VO=l,VO}var GO,$U;function Hme(){if($U)return GO;$U=1;var r=qu(),e=Ume(),t=s9(),n="Expected a function",i=Math.max,s=Math.min;function a(o,l,c){var d,f,m,g,x,y,b=0,_=!1,E=!1,A=!0;if(typeof o!="function")throw new TypeError(n);l=t(l)||0,r(c)&&(_=!!c.leading,E="maxWait"in c,m=E?i(t(c.maxWait)||0,l):m,A="trailing"in c?!!c.trailing:A);function C(V){var X=d,J=f;return d=f=void 0,b=V,g=o.apply(J,X),g}function k(V){return b=V,x=setTimeout(M,l),_?C(V):g}function P(V){var X=V-y,J=V-b,H=l-X;return E?s(H,m-J):H}function j(V){var X=V-y,J=V-b;return y===void 0||X>=l||X<0||E&&J>=m}function M(){var V=e();if(j(V))return $(V);x=setTimeout(M,P(V))}function $(V){return x=void 0,A&&d?C(V):(d=f=void 0,g)}function U(){x!==void 0&&clearTimeout(x),b=0,d=y=f=x=void 0}function F(){return x===void 0?g:$(e())}function z(){var V=e(),X=j(V);if(d=arguments,f=this,y=V,X){if(x===void 0)return k(y);if(E)return clearTimeout(x),x=setTimeout(M,l),C(y)}return x===void 0&&(x=setTimeout(M,l)),g}return z.cancel=U,z.flush=F,z}return GO=a,GO}var KO,FU;function Wme(){if(FU)return KO;FU=1;var r=Hme(),e=qu(),t="Expected a function";function n(i,s,a){var o=!0,l=!0;if(typeof i!="function")throw new TypeError(t);return e(a)&&(o="leading"in a?!!a.leading:o,l="trailing"in a?!!a.trailing:l),r(i,s,{leading:o,maxWait:s,trailing:l})}return KO=n,KO}var Vme=Wme();const a9=$t(Vme);function Jy(r){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(r)}function BU(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function A_(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BU(Object(t),!0).forEach(function(n){Gme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):BU(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Gme(r,e,t){return e=Kme(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Kme(r){var e=Yme(r,"string");return Jy(e)=="symbol"?e:e+""}function Yme(r,e){if(Jy(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Xme(r,e){return ege(r)||Zme(r,e)||Qme(r,e)||Jme()}function Jme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qme(r,e){if(r){if(typeof r=="string")return UU(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return UU(r,e)}}function UU(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Zme(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function ege(r){if(Array.isArray(r))return r}var tge=R.forwardRef(function(r,e){var t=r.aspect,n=r.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=r.width,a=s===void 0?"100%":s,o=r.height,l=o===void 0?"100%":o,c=r.minWidth,d=c===void 0?0:c,f=r.minHeight,m=r.maxHeight,g=r.children,x=r.debounce,y=x===void 0?0:x,b=r.id,_=r.className,E=r.onResize,A=r.style,C=A===void 0?{}:A,k=R.useRef(null),P=R.useRef();P.current=E,R.useImperativeHandle(e,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var j=R.useState({containerWidth:i.width,containerHeight:i.height}),M=Xme(j,2),$=M[0],U=M[1],F=R.useCallback(function(V,X){U(function(J){var H=Math.round(V),G=Math.round(X);return J.containerWidth===H&&J.containerHeight===G?J:{containerWidth:H,containerHeight:G}})},[]);R.useEffect(function(){var V=function(ee){var ne,q=ee[0].contentRect,Y=q.width,re=q.height;F(Y,re),(ne=P.current)===null||ne===void 0||ne.call(P,Y,re)};y>0&&(V=a9(V,y,{trailing:!0,leading:!1}));var X=new ResizeObserver(V),J=k.current.getBoundingClientRect(),H=J.width,G=J.height;return F(H,G),X.observe(k.current),function(){X.disconnect()}},[F,y]);var z=R.useMemo(function(){var V=$.containerWidth,X=$.containerHeight;if(V<0||X<0)return null;Bl(Nd(a)||Nd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Bl(!t||t>0,"The aspect(%s) must be greater than zero.",t);var J=Nd(a)?V:a,H=Nd(l)?X:l;t&&t>0&&(J?H=J/t:H&&(J=H*t),m&&H>m&&(H=m)),Bl(J>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,H,a,l,d,f,t);var G=!Array.isArray(g)&&Fl(g.type).endsWith("Chart");return W.Children.map(g,function(B){return W.isValidElement(B)?R.cloneElement(B,A_({width:J,height:H},G?{style:A_({height:"100%",width:"100%",maxHeight:H,maxWidth:J},B.props.style)}:{})):B})},[t,g,l,m,f,d,$,a]);return W.createElement("div",{id:b?"".concat(b):void 0,className:pt("recharts-responsive-container",_),style:A_(A_({},C),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:m}),ref:k},z)}),o9=function(e){return null};o9.displayName="Cell";function Qy(r){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(r)}function zU(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function mj(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zU(Object(t),!0).forEach(function(n){rge(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zU(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function rge(r,e,t){return e=nge(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function nge(r){var e=ige(r,"string");return Qy(e)=="symbol"?e:e+""}function ige(r,e){if(Qy(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var tp={widthCache:{},cacheCount:0},sge=2e3,age={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qU="recharts_measurement_span";function oge(r){var e=mj({},r);return Object.keys(e).forEach(function(t){e[t]||delete e[t]}),e}var Ey=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||$w.isSsr)return{width:0,height:0};var n=oge(t),i=JSON.stringify({text:e,copyStyle:n});if(tp.widthCache[i])return tp.widthCache[i];try{var s=document.getElementById(qU);s||(s=document.createElement("span"),s.setAttribute("id",qU),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=mj(mj({},age),n);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return tp.widthCache[i]=l,++tp.cacheCount>sge&&(tp.cacheCount=0,tp.widthCache={}),l}catch{return{width:0,height:0}}},lge=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Zy(r){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(r)}function dS(r,e){return hge(r)||dge(r,e)||uge(r,e)||cge()}function cge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uge(r,e){if(r){if(typeof r=="string")return HU(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return HU(r,e)}}function HU(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function dge(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function hge(r){if(Array.isArray(r))return r}function fge(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function WU(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,mge(n.key),n)}}function pge(r,e,t){return e&&WU(r.prototype,e),t&&WU(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function mge(r){var e=gge(r,"string");return Zy(e)=="symbol"?e:e+""}function gge(r,e){if(Zy(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var VU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,l9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bge=Object.keys(l9),yp="NaN";function wge(r,e){return r*l9[e]}var E_=(function(){function r(e,t){fge(this,r),this.num=e,this.unit=t,this.num=e,this.unit=t,Number.isNaN(e)&&(this.unit=""),t!==""&&!vge.test(t)&&(this.num=NaN,this.unit=""),bge.includes(t)&&(this.num=wge(e,t),this.unit="px")}return pge(r,[{key:"add",value:function(t){return this.unit!==t.unit?new r(NaN,""):new r(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new r(NaN,""):new r(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new r(NaN,""):new r(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new r(NaN,""):new r(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var n,i=(n=yge.exec(t))!==null&&n!==void 0?n:[],s=dS(i,3),a=s[1],o=s[2];return new r(parseFloat(a),o??"")}}])})();function c9(r){if(r.includes(yp))return yp;for(var e=r;e.includes("*")||e.includes("/");){var t,n=(t=VU.exec(e))!==null&&t!==void 0?t:[],i=dS(n,4),s=i[1],a=i[2],o=i[3],l=E_.parse(s??""),c=E_.parse(o??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return yp;e=e.replace(VU,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=GU.exec(e))!==null&&f!==void 0?f:[],g=dS(m,4),x=g[1],y=g[2],b=g[3],_=E_.parse(x??""),E=E_.parse(b??""),A=y==="+"?_.add(E):_.subtract(E);if(A.isNaN())return yp;e=e.replace(GU,A.toString())}return e}var KU=/\(([^()]*)\)/;function xge(r){for(var e=r;e.includes("(");){var t=KU.exec(e),n=dS(t,2),i=n[1];e=e.replace(KU,c9(i))}return e}function _ge(r){var e=r.replace(/\s+/g,"");return e=xge(e),e=c9(e),e}function Sge(r){try{return _ge(r)}catch{return yp}}function YO(r){var e=Sge(r.slice(5,-1));return e===yp?"":e}var Age=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ege=["dx","dy","angle","className","breakAll"];function gj(){return gj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},gj.apply(this,arguments)}function YU(r,e){if(r==null)return{};var t=kge(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function kge(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function XU(r,e){return Oge(r)||Pge(r,e)||Tge(r,e)||Cge()}function Cge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tge(r,e){if(r){if(typeof r=="string")return JU(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return JU(r,e)}}function JU(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Pge(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Oge(r){if(Array.isArray(r))return r}var u9=/[ \f\n\r\t\v\u2028\u2029]+/,d9=function(e){var t=e.children,n=e.breakAll,i=e.style;try{var s=[];Et(t)||(n?s=t.toString().split(""):s=t.toString().split(u9));var a=s.map(function(l){return{word:l,width:Ey(l,i).width}}),o=n?0:Ey("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Nge=function(e,t,n,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=xe(a),f=o,m=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(H,G){var B=G.word,ee=G.width,ne=H[H.length-1];if(ne&&(i==null||s||ne.width+ee+n<Number(i)))ne.words.push(B),ne.width+=ee+n;else{var q={words:[B],width:ee};H.push(q)}return H},[])},g=m(t),x=function(J){return J.reduce(function(H,G){return H.width>G.width?H:G})};if(!d)return g;for(var y="",b=function(J){var H=f.slice(0,J),G=d9({breakAll:c,style:l,children:H+y}).wordsWithComputedWidth,B=m(G),ee=B.length>a||x(B).width>Number(i);return[ee,B]},_=0,E=f.length-1,A=0,C;_<=E&&A<=f.length-1;){var k=Math.floor((_+E)/2),P=k-1,j=b(P),M=XU(j,2),$=M[0],U=M[1],F=b(k),z=XU(F,1),V=z[0];if(!$&&!V&&(_=k+1),$&&V&&(E=k-1),!$&&V){C=U;break}A++}return C||g},QU=function(e){var t=Et(e)?[]:e.toString().split(u9);return[{words:t}]},Rge=function(e){var t=e.width,n=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((t||n)&&!$w.isSsr){var l,c,d=d9({breakAll:a,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;l=f,c=m}else return QU(i);return Nge({breakAll:a,children:i,maxLines:o,style:s},l,c,t,n)}return QU(i)},ZU="#808080",hS=function(e){var t=e.x,n=t===void 0?0:t,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,g=m===void 0?"start":m,x=e.verticalAnchor,y=x===void 0?"end":x,b=e.fill,_=b===void 0?ZU:b,E=YU(e,Age),A=R.useMemo(function(){return Rge({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:f,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,f,E.style,E.width]),C=E.dx,k=E.dy,P=E.angle,j=E.className,M=E.breakAll,$=YU(E,Ege);if(!Qr(n)||!Qr(s))return null;var U=n+(xe(C)?C:0),F=s+(xe(k)?k:0),z;switch(y){case"start":z=YO("calc(".concat(c,")"));break;case"middle":z=YO("calc(".concat((A.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:z=YO("calc(".concat(A.length-1," * -").concat(o,")"));break}var V=[];if(f){var X=A[0].width,J=E.width;V.push("scale(".concat((xe(J)?J/X:1)/X,")"))}return P&&V.push("rotate(".concat(P,", ").concat(U,", ").concat(F,")")),V.length&&($.transform=V.join(" ")),W.createElement("text",gj({},bt($,!0),{x:U,y:F,className:pt("recharts-text",j),textAnchor:g,fill:_.includes("url")?ZU:_}),A.map(function(H,G){var B=H.words.join(M?"":" ");return W.createElement("tspan",{x:U,dy:G===0?z:o,key:"".concat(B,"-").concat(G)},B)}))};function Ou(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function jge(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function AM(r){let e,t,n;r.length!==2?(e=Ou,t=(o,l)=>Ou(r(o),l),n=(o,l)=>r(o)-l):(e=r===Ou||r===jge?r:Ige,t=r,n=r);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;t(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;t(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function Ige(){return 0}function h9(r){return r===null?NaN:+r}function*Mge(r,e){for(let t of r)t!=null&&(t=+t)>=t&&(yield t)}const Dge=AM(Ou),Fw=Dge.right;AM(h9).center;class ez extends Map{constructor(e,t=Fge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(tz(this,e))}has(e){return super.has(tz(this,e))}set(e,t){return super.set(Lge(this,e),t)}delete(e){return super.delete($ge(this,e))}}function tz({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):t}function Lge({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):(r.set(n,t),t)}function $ge({_intern:r,_key:e},t){const n=e(t);return r.has(n)&&(t=r.get(n),r.delete(n)),t}function Fge(r){return r!==null&&typeof r=="object"?r.valueOf():r}function Bge(r=Ou){if(r===Ou)return f9;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,t)=>{const n=r(e,t);return n||n===0?n:(r(t,t)===0)-(r(e,e)===0)}}function f9(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const Uge=Math.sqrt(50),zge=Math.sqrt(10),qge=Math.sqrt(2);function fS(r,e,t){const n=(e-r)/Math.max(0,t),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Uge?10:s>=zge?5:s>=qge?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(r*c),l=Math.round(e*c),o/c<r&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(r/c),l=Math.round(e/c),o*c<r&&++o,l*c>e&&--l),l<o&&.5<=t&&t<2?fS(r,e,t*2):[o,l,c]}function vj(r,e,t){if(e=+e,r=+r,t=+t,!(t>0))return[];if(r===e)return[r];const n=e<r,[i,s,a]=n?fS(e,r,t):fS(r,e,t);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function yj(r,e,t){return e=+e,r=+r,t=+t,fS(r,e,t)[2]}function bj(r,e,t){e=+e,r=+r,t=+t;const n=e<r,i=n?yj(e,r,t):yj(r,e,t);return(n?-1:1)*(i<0?1/-i:i)}function rz(r,e){let t;for(const n of r)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);return t}function nz(r,e){let t;for(const n of r)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);return t}function p9(r,e,t=0,n=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),n=Math.floor(Math.min(r.length-1,n)),!(t<=e&&e<=n))return r;for(i=i===void 0?f9:Bge(i);n>t;){if(n-t>600){const l=n-t+1,c=e-t+1,d=Math.log(l),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),g=Math.max(t,Math.floor(e-c*f/l+m)),x=Math.min(n,Math.floor(e+(l-c)*f/l+m));p9(r,e,g,x,i)}const s=r[e];let a=t,o=n;for(Bv(r,t,e),i(r[n],s)>0&&Bv(r,t,n);a<o;){for(Bv(r,a,o),++a,--o;i(r[a],s)<0;)++a;for(;i(r[o],s)>0;)--o}i(r[t],s)===0?Bv(r,t,o):(++o,Bv(r,o,n)),o<=e&&(t=o+1),e<=o&&(n=o-1)}return r}function Bv(r,e,t){const n=r[e];r[e]=r[t],r[t]=n}function Hge(r,e,t){if(r=Float64Array.from(Mge(r)),!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return nz(r);if(e>=1)return rz(r);var n,i=(n-1)*e,s=Math.floor(i),a=rz(p9(r,s).subarray(0,s+1)),o=nz(r.subarray(s+1));return a+(o-a)*(i-s)}}function Wge(r,e,t=h9){if(!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return+t(r[0],0,r);if(e>=1)return+t(r[n-1],n-1,r);var n,i=(n-1)*e,s=Math.floor(i),a=+t(r[s],s,r),o=+t(r[s+1],s+1,r);return a+(o-a)*(i-s)}}function Vge(r,e,t){r=+r,e=+e,t=(i=arguments.length)<2?(e=r,r=0,1):i<3?1:+t;for(var n=-1,i=Math.max(0,Math.ceil((e-r)/t))|0,s=new Array(i);++n<i;)s[n]=r+n*t;return s}function Qs(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function rc(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wj=Symbol("implicit");function EM(){var r=new ez,e=[],t=[],n=wj;function i(s){let a=r.get(s);if(a===void 0){if(n!==wj)return n;r.set(s,a=e.push(s)-1)}return t[a%t.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],r=new ez;for(const a of s)r.has(a)||r.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(t=Array.from(s),i):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return EM(e,t).unknown(n)},Qs.apply(i,arguments),i}function e0(){var r=EM().unknown(void 0),e=r.domain,t=r.range,n=0,i=1,s,a,o=!1,l=0,c=0,d=.5;delete r.unknown;function f(){var m=e().length,g=i<n,x=g?i:n,y=g?n:i;s=(y-x)/Math.max(1,m-l+c*2),o&&(s=Math.floor(s)),x+=(y-x-s*(m-l))*d,a=s*(1-l),o&&(x=Math.round(x),a=Math.round(a));var b=Vge(m).map(function(_){return x+s*_});return t(g?b.reverse():b)}return r.domain=function(m){return arguments.length?(e(m),f()):e()},r.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,f()):[n,i]},r.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,o=!0,f()},r.bandwidth=function(){return a},r.step=function(){return s},r.round=function(m){return arguments.length?(o=!!m,f()):o},r.padding=function(m){return arguments.length?(l=Math.min(1,c=+m),f()):l},r.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),f()):l},r.paddingOuter=function(m){return arguments.length?(c=+m,f()):c},r.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},r.copy=function(){return e0(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Qs.apply(f(),arguments)}function m9(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return m9(e())},r}function ky(){return m9(e0.apply(null,arguments).paddingInner(1))}function kM(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function g9(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function Bw(){}var t0=.7,pS=1/t0,Np="\\s*([+-]?\\d+)\\s*",r0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",So="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gge=/^#([0-9a-f]{3,8})$/,Kge=new RegExp(`^rgb\\(${Np},${Np},${Np}\\)$`),Yge=new RegExp(`^rgb\\(${So},${So},${So}\\)$`),Xge=new RegExp(`^rgba\\(${Np},${Np},${Np},${r0}\\)$`),Jge=new RegExp(`^rgba\\(${So},${So},${So},${r0}\\)$`),Qge=new RegExp(`^hsl\\(${r0},${So},${So}\\)$`),Zge=new RegExp(`^hsla\\(${r0},${So},${So},${r0}\\)$`),iz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kM(Bw,n0,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:sz,formatHex:sz,formatHex8:eve,formatHsl:tve,formatRgb:az,toString:az});function sz(){return this.rgb().formatHex()}function eve(){return this.rgb().formatHex8()}function tve(){return v9(this).formatHsl()}function az(){return this.rgb().formatRgb()}function n0(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=Gge.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?oz(e):t===3?new Pi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?k_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?k_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Kge.exec(r))?new Pi(e[1],e[2],e[3],1):(e=Yge.exec(r))?new Pi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Xge.exec(r))?k_(e[1],e[2],e[3],e[4]):(e=Jge.exec(r))?k_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Qge.exec(r))?uz(e[1],e[2]/100,e[3]/100,1):(e=Zge.exec(r))?uz(e[1],e[2]/100,e[3]/100,e[4]):iz.hasOwnProperty(r)?oz(iz[r]):r==="transparent"?new Pi(NaN,NaN,NaN,0):null}function oz(r){return new Pi(r>>16&255,r>>8&255,r&255,1)}function k_(r,e,t,n){return n<=0&&(r=e=t=NaN),new Pi(r,e,t,n)}function rve(r){return r instanceof Bw||(r=n0(r)),r?(r=r.rgb(),new Pi(r.r,r.g,r.b,r.opacity)):new Pi}function xj(r,e,t,n){return arguments.length===1?rve(r):new Pi(r,e,t,n??1)}function Pi(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}kM(Pi,xj,g9(Bw,{brighter(r){return r=r==null?pS:Math.pow(pS,r),new Pi(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?t0:Math.pow(t0,r),new Pi(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Pi(Xh(this.r),Xh(this.g),Xh(this.b),mS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lz,formatHex:lz,formatHex8:nve,formatRgb:cz,toString:cz}));function lz(){return`#${Rd(this.r)}${Rd(this.g)}${Rd(this.b)}`}function nve(){return`#${Rd(this.r)}${Rd(this.g)}${Rd(this.b)}${Rd((isNaN(this.opacity)?1:this.opacity)*255)}`}function cz(){const r=mS(this.opacity);return`${r===1?"rgb(":"rgba("}${Xh(this.r)}, ${Xh(this.g)}, ${Xh(this.b)}${r===1?")":`, ${r})`}`}function mS(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function Xh(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Rd(r){return r=Xh(r),(r<16?"0":"")+r.toString(16)}function uz(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new Ta(r,e,t,n)}function v9(r){if(r instanceof Ta)return new Ta(r.h,r.s,r.l,r.opacity);if(r instanceof Bw||(r=n0(r)),!r)return new Ta;if(r instanceof Ta)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,i=Math.min(e,t,n),s=Math.max(e,t,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(t-n)/o+(t<n)*6:t===s?a=(n-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Ta(a,o,l,r.opacity)}function ive(r,e,t,n){return arguments.length===1?v9(r):new Ta(r,e,t,n??1)}function Ta(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}kM(Ta,ive,g9(Bw,{brighter(r){return r=r==null?pS:Math.pow(pS,r),new Ta(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?t0:Math.pow(t0,r),new Ta(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,i=2*t-n;return new Pi(XO(r>=240?r-240:r+120,i,n),XO(r,i,n),XO(r<120?r+240:r-120,i,n),this.opacity)},clamp(){return new Ta(dz(this.h),C_(this.s),C_(this.l),mS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=mS(this.opacity);return`${r===1?"hsl(":"hsla("}${dz(this.h)}, ${C_(this.s)*100}%, ${C_(this.l)*100}%${r===1?")":`, ${r})`}`}}));function dz(r){return r=(r||0)%360,r<0?r+360:r}function C_(r){return Math.max(0,Math.min(1,r||0))}function XO(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const CM=r=>()=>r;function sve(r,e){return function(t){return r+t*e}}function ave(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function ove(r){return(r=+r)==1?y9:function(e,t){return t-e?ave(e,t,r):CM(isNaN(e)?t:e)}}function y9(r,e){var t=e-r;return t?sve(r,t):CM(isNaN(r)?e:r)}const hz=(function r(e){var t=ove(e);function n(i,s){var a=t((i=xj(i)).r,(s=xj(s)).r),o=t(i.g,s.g),l=t(i.b,s.b),c=y9(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return n.gamma=r,n})(1);function lve(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),i;return function(s){for(i=0;i<t;++i)n[i]=r[i]*(1-s)+e[i]*s;return n}}function cve(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function uve(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,i=new Array(n),s=new Array(t),a;for(a=0;a<n;++a)i[a]=qg(r[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function dve(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function gS(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function hve(r,e){var t={},n={},i;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in r?t[i]=qg(r[i],e[i]):n[i]=e[i];return function(s){for(i in t)n[i]=t[i](s);return n}}var _j=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JO=new RegExp(_j.source,"g");function fve(r){return function(){return r}}function pve(r){return function(e){return r(e)+""}}function mve(r,e){var t=_j.lastIndex=JO.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(r=r+"",e=e+"";(n=_j.exec(r))&&(i=JO.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:gS(n,i)})),t=JO.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?pve(l[0].x):fve(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function qg(r,e){var t=typeof e,n;return e==null||t==="boolean"?CM(e):(t==="number"?gS:t==="string"?(n=n0(e))?(e=n,hz):mve:e instanceof n0?hz:e instanceof Date?dve:cve(e)?lve:Array.isArray(e)?uve:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?hve:gS)(r,e)}function TM(r,e){return r=+r,e=+e,function(t){return Math.round(r*(1-t)+e*t)}}function gve(r,e){e===void 0&&(e=r,r=qg);for(var t=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);t<n;)s[t]=r(i,i=e[++t]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function vve(r){return function(){return r}}function vS(r){return+r}var fz=[0,1];function ui(r){return r}function Sj(r,e){return(e-=r=+r)?function(t){return(t-r)/e}:vve(isNaN(e)?NaN:.5)}function yve(r,e){var t;return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function bve(r,e,t){var n=r[0],i=r[1],s=e[0],a=e[1];return i<n?(n=Sj(i,n),s=t(a,s)):(n=Sj(n,i),s=t(s,a)),function(o){return s(n(o))}}function wve(r,e,t){var n=Math.min(r.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(r[n]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=Sj(r[a],r[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=Fw(r,o,1,n)-1;return s[l](i[l](o))}}function Uw(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function XA(){var r=fz,e=fz,t=qg,n,i,s,a=ui,o,l,c;function d(){var m=Math.min(r.length,e.length);return a!==ui&&(a=yve(r[0],r[m-1])),o=m>2?wve:bve,l=c=null,f}function f(m){return m==null||isNaN(m=+m)?s:(l||(l=o(r.map(n),e,t)))(n(a(m)))}return f.invert=function(m){return a(i((c||(c=o(e,r.map(n),gS)))(m)))},f.domain=function(m){return arguments.length?(r=Array.from(m,vS),d()):r.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),t=TM,d()},f.clamp=function(m){return arguments.length?(a=m?!0:ui,d()):a!==ui},f.interpolate=function(m){return arguments.length?(t=m,d()):t},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,g){return n=m,i=g,d()}}function PM(){return XA()(ui,ui)}function xve(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function yS(r,e){if((t=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var t,n=r.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+r.slice(t+1)]}function fg(r){return r=yS(Math.abs(r)),r?r[1]:NaN}function _ve(r,e){return function(t,n){for(var i=t.length,s=[],a=0,o=r[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(t.substring(i-=o,i+o)),!((l+=o+1)>n));)o=r[a=(a+1)%r.length];return s.reverse().join(e)}}function Sve(r){return function(e){return e.replace(/[0-9]/g,function(t){return r[+t]})}}var Ave=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i0(r){if(!(e=Ave.exec(r)))throw new Error("invalid format: "+r);var e;return new OM({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}i0.prototype=OM.prototype;function OM(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}OM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Eve(r){e:for(var e=r.length,t=1,n=-1,i;t<e;++t)switch(r[t]){case".":n=i=t;break;case"0":n===0&&(n=t),i=t;break;default:if(!+r[t])break e;n>0&&(n=0);break}return n>0?r.slice(0,n)+r.slice(i+1):r}var b9;function kve(r,e){var t=yS(r,e);if(!t)return r+"";var n=t[0],i=t[1],s=i-(b9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+yS(r,Math.max(0,e+s-1))[0]}function pz(r,e){var t=yS(r,e);if(!t)return r+"";var n=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const mz={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:xve,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>pz(r*100,e),r:pz,s:kve,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function gz(r){return r}var vz=Array.prototype.map,yz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cve(r){var e=r.grouping===void 0||r.thousands===void 0?gz:_ve(vz.call(r.grouping,Number),r.thousands+""),t=r.currency===void 0?"":r.currency[0]+"",n=r.currency===void 0?"":r.currency[1]+"",i=r.decimal===void 0?".":r.decimal+"",s=r.numerals===void 0?gz:Sve(vz.call(r.numerals,String)),a=r.percent===void 0?"%":r.percent+"",o=r.minus===void 0?"":r.minus+"",l=r.nan===void 0?"NaN":r.nan+"";function c(f){f=i0(f);var m=f.fill,g=f.align,x=f.sign,y=f.symbol,b=f.zero,_=f.width,E=f.comma,A=f.precision,C=f.trim,k=f.type;k==="n"?(E=!0,k="g"):mz[k]||(A===void 0&&(A=12),C=!0,k="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var P=y==="$"?t:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",j=y==="$"?n:/[%p]/.test(k)?a:"",M=mz[k],$=/[defgprs%]/.test(k);A=A===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function U(F){var z=P,V=j,X,J,H;if(k==="c")V=M(F)+V,F="";else{F=+F;var G=F<0||1/F<0;if(F=isNaN(F)?l:M(Math.abs(F),A),C&&(F=Eve(F)),G&&+F==0&&x!=="+"&&(G=!1),z=(G?x==="("?x:o:x==="-"||x==="("?"":x)+z,V=(k==="s"?yz[8+b9/3]:"")+V+(G&&x==="("?")":""),$){for(X=-1,J=F.length;++X<J;)if(H=F.charCodeAt(X),48>H||H>57){V=(H===46?i+F.slice(X+1):F.slice(X))+V,F=F.slice(0,X);break}}}E&&!b&&(F=e(F,1/0));var B=z.length+F.length+V.length,ee=B<_?new Array(_-B+1).join(m):"";switch(E&&b&&(F=e(ee+F,ee.length?_-V.length:1/0),ee=""),g){case"<":F=z+F+V+ee;break;case"=":F=z+ee+F+V;break;case"^":F=ee.slice(0,B=ee.length>>1)+z+F+V+ee.slice(B);break;default:F=ee+z+F+V;break}return s(F)}return U.toString=function(){return f+""},U}function d(f,m){var g=c((f=i0(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(fg(m)/3)))*3,y=Math.pow(10,-x),b=yz[8+x/3];return function(_){return g(y*_)+b}}return{format:c,formatPrefix:d}}var T_,NM,w9;Tve({thousands:",",grouping:[3],currency:["$",""]});function Tve(r){return T_=Cve(r),NM=T_.format,w9=T_.formatPrefix,T_}function Pve(r){return Math.max(0,-fg(Math.abs(r)))}function Ove(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fg(e)/3)))*3-fg(Math.abs(r)))}function Nve(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,fg(e)-fg(r))+1}function x9(r,e,t,n){var i=bj(r,e,t),s;switch(n=i0(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(r),Math.abs(e));return n.precision==null&&!isNaN(s=Ove(i,a))&&(n.precision=s),w9(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Nve(i,Math.max(Math.abs(r),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Pve(i))&&(n.precision=s-(n.type==="%")*2);break}}return NM(n)}function Wu(r){var e=r.domain;return r.ticks=function(t){var n=e();return vj(n[0],n[n.length-1],t??10)},r.tickFormat=function(t,n){var i=e();return x9(i[0],i[i.length-1],t??10,n)},r.nice=function(t){t==null&&(t=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,c,d=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);d-- >0;){if(c=yj(a,o,t),c===l)return n[i]=a,n[s]=o,e(n);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return r},r}function bS(){var r=PM();return r.copy=function(){return Uw(r,bS())},Qs.apply(r,arguments),Wu(r)}function _9(r){var e;function t(n){return n==null||isNaN(n=+n)?e:n}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(r=Array.from(n,vS),t):r.slice()},t.unknown=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return _9(r).unknown(e)},r=arguments.length?Array.from(r,vS):[0,1],Wu(t)}function S9(r,e){r=r.slice();var t=0,n=r.length-1,i=r[t],s=r[n],a;return s<i&&(a=t,t=n,n=a,a=i,i=s,s=a),r[t]=e.floor(i),r[n]=e.ceil(s),r}function bz(r){return Math.log(r)}function wz(r){return Math.exp(r)}function Rve(r){return-Math.log(-r)}function jve(r){return-Math.exp(-r)}function Ive(r){return isFinite(r)?+("1e"+r):r<0?0:r}function Mve(r){return r===10?Ive:r===Math.E?Math.exp:e=>Math.pow(r,e)}function Dve(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function xz(r){return(e,t)=>-r(-e,t)}function RM(r){const e=r(bz,wz),t=e.domain;let n=10,i,s;function a(){return i=Dve(n),s=Mve(n),t()[0]<0?(i=xz(i),s=xz(s),r(Rve,jve)):r(bz,wz),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let m=i(c),g=i(d),x,y;const b=o==null?10:+o;let _=[];if(!(n%1)&&g-m<b){if(m=Math.floor(m),g=Math.ceil(g),c>0){for(;m<=g;++m)for(x=1;x<n;++x)if(y=m<0?x/s(-m):x*s(m),!(y<c)){if(y>d)break;_.push(y)}}else for(;m<=g;++m)for(x=n-1;x>=1;--x)if(y=m>0?x/s(-m):x*s(m),!(y<c)){if(y>d)break;_.push(y)}_.length*2<b&&(_=vj(c,d,b))}else _=vj(m,g,Math.min(g-m,b)).map(s);return f?_.reverse():_},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=i0(l)).precision==null&&(l.trim=!0),l=NM(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},e.nice=()=>t(S9(t(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function A9(){const r=RM(XA()).domain([1,10]);return r.copy=()=>Uw(r,A9()).base(r.base()),Qs.apply(r,arguments),r}function _z(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function Sz(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function jM(r){var e=1,t=r(_z(e),Sz(e));return t.constant=function(n){return arguments.length?r(_z(e=+n),Sz(e)):e},Wu(t)}function E9(){var r=jM(XA());return r.copy=function(){return Uw(r,E9()).constant(r.constant())},Qs.apply(r,arguments)}function Az(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function Lve(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function $ve(r){return r<0?-r*r:r*r}function IM(r){var e=r(ui,ui),t=1;function n(){return t===1?r(ui,ui):t===.5?r(Lve,$ve):r(Az(t),Az(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,n()):t},Wu(e)}function MM(){var r=IM(XA());return r.copy=function(){return Uw(r,MM()).exponent(r.exponent())},Qs.apply(r,arguments),r}function Fve(){return MM.apply(null,arguments).exponent(.5)}function Ez(r){return Math.sign(r)*r*r}function Bve(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function k9(){var r=PM(),e=[0,1],t=!1,n;function i(s){var a=Bve(r(s));return isNaN(a)?n:t?Math.round(a):a}return i.invert=function(s){return r.invert(Ez(s))},i.domain=function(s){return arguments.length?(r.domain(s),i):r.domain()},i.range=function(s){return arguments.length?(r.range((e=Array.from(s,vS)).map(Ez)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(t=!!s,i):t},i.clamp=function(s){return arguments.length?(r.clamp(s),i):r.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return k9(r.domain(),e).round(t).clamp(r.clamp()).unknown(n)},Qs.apply(i,arguments),Wu(i)}function C9(){var r=[],e=[],t=[],n;function i(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=Wge(r,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[Fw(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:r[0],o<t.length?t[o]:r[r.length-1]]},s.domain=function(a){if(!arguments.length)return r.slice();r=[];for(let o of a)o!=null&&!isNaN(o=+o)&&r.push(o);return r.sort(Ou),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return t.slice()},s.copy=function(){return C9().domain(r).range(e).unknown(n)},Qs.apply(s,arguments)}function T9(){var r=0,e=1,t=1,n=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Fw(n,l,0,t)]:s}function o(){var l=-1;for(n=new Array(t);++l<t;)n[l]=((l+1)*e-(l-t)*r)/(t+1);return a}return a.domain=function(l){return arguments.length?([r,e]=l,r=+r,e=+e,o()):[r,e]},a.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[r,n[0]]:c>=t?[n[t-1],e]:[n[c-1],n[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return T9().domain([r,e]).range(i).unknown(s)},Qs.apply(Wu(a),arguments)}function P9(){var r=[.5],e=[0,1],t,n=1;function i(s){return s!=null&&s<=s?e[Fw(r,s,0,n)]:t}return i.domain=function(s){return arguments.length?(r=Array.from(s),n=Math.min(r.length,e.length-1),i):r.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(r.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[r[a-1],r[a]]},i.unknown=function(s){return arguments.length?(t=s,i):t},i.copy=function(){return P9().domain(r).range(e).unknown(t)},Qs.apply(i,arguments)}const QO=new Date,ZO=new Date;function tn(r,e,t,n){function i(s){return r(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(r(s=new Date(+s)),s),i.ceil=s=>(r(s=new Date(s-1)),e(s,1),r(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),r(s);while(c<s&&s<a);return l},i.filter=s=>tn(a=>{if(a>=a)for(;r(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(i.count=(s,a)=>(QO.setTime(+s),ZO.setTime(+a),r(QO),r(ZO),Math.floor(t(QO,ZO))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const wS=tn(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);wS.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?tn(e=>{e.setTime(Math.floor(e/r)*r)},(e,t)=>{e.setTime(+e+t*r)},(e,t)=>(t-e)/r):wS);wS.range;const Ml=1e3,Gs=Ml*60,Dl=Gs*60,Kl=Dl*24,DM=Kl*7,kz=Kl*30,eN=Kl*365,jd=tn(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*Ml)},(r,e)=>(e-r)/Ml,r=>r.getUTCSeconds());jd.range;const LM=tn(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Ml)},(r,e)=>{r.setTime(+r+e*Gs)},(r,e)=>(e-r)/Gs,r=>r.getMinutes());LM.range;const $M=tn(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*Gs)},(r,e)=>(e-r)/Gs,r=>r.getUTCMinutes());$M.range;const FM=tn(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Ml-r.getMinutes()*Gs)},(r,e)=>{r.setTime(+r+e*Dl)},(r,e)=>(e-r)/Dl,r=>r.getHours());FM.range;const BM=tn(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*Dl)},(r,e)=>(e-r)/Dl,r=>r.getUTCHours());BM.range;const zw=tn(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*Gs)/Kl,r=>r.getDate()-1);zw.range;const JA=tn(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/Kl,r=>r.getUTCDate()-1);JA.range;const O9=tn(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/Kl,r=>Math.floor(r/Kl));O9.range;function mf(r){return tn(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gs)/DM)}const QA=mf(0),xS=mf(1),Uve=mf(2),zve=mf(3),pg=mf(4),qve=mf(5),Hve=mf(6);QA.range;xS.range;Uve.range;zve.range;pg.range;qve.range;Hve.range;function gf(r){return tn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/DM)}const ZA=gf(0),_S=gf(1),Wve=gf(2),Vve=gf(3),mg=gf(4),Gve=gf(5),Kve=gf(6);ZA.range;_S.range;Wve.range;Vve.range;mg.range;Gve.range;Kve.range;const UM=tn(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());UM.range;const zM=tn(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());zM.range;const Yl=tn(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());Yl.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:tn(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*r)});Yl.range;const Xl=tn(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());Xl.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:tn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*r)});Xl.range;function N9(r,e,t,n,i,s){const a=[[jd,1,Ml],[jd,5,5*Ml],[jd,15,15*Ml],[jd,30,30*Ml],[s,1,Gs],[s,5,5*Gs],[s,15,15*Gs],[s,30,30*Gs],[i,1,Dl],[i,3,3*Dl],[i,6,6*Dl],[i,12,12*Dl],[n,1,Kl],[n,2,2*Kl],[t,1,DM],[e,1,kz],[e,3,3*kz],[r,1,eN]];function o(c,d,f){const m=d<c;m&&([c,d]=[d,c]);const g=f&&typeof f.range=="function"?f:l(c,d,f),x=g?g.range(c,+d+1):[];return m?x.reverse():x}function l(c,d,f){const m=Math.abs(d-c)/f,g=AM(([,,b])=>b).right(a,m);if(g===a.length)return r.every(bj(c/eN,d/eN,f));if(g===0)return wS.every(Math.max(bj(c,d,f),1));const[x,y]=a[m/a[g-1][2]<a[g][2]/m?g-1:g];return x.every(y)}return[o,l]}const[Yve,Xve]=N9(Xl,zM,ZA,O9,BM,$M),[Jve,Qve]=N9(Yl,UM,QA,zw,FM,LM);function tN(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function rN(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Uv(r,e,t){return{y:r,m:e,d:t,H:0,M:0,S:0,L:0}}function Zve(r){var e=r.dateTime,t=r.date,n=r.time,i=r.periods,s=r.days,a=r.shortDays,o=r.months,l=r.shortMonths,c=zv(i),d=qv(i),f=zv(s),m=qv(s),g=zv(a),x=qv(a),y=zv(o),b=qv(o),_=zv(l),E=qv(l),A={a:G,A:B,b:ee,B:ne,c:null,d:Rz,e:Rz,f:_ye,g:Rye,G:Iye,H:bye,I:wye,j:xye,L:R9,m:Sye,M:Aye,p:q,q:Y,Q:Mz,s:Dz,S:Eye,u:kye,U:Cye,V:Tye,w:Pye,W:Oye,x:null,X:null,y:Nye,Y:jye,Z:Mye,"%":Iz},C={a:re,A:ue,b:me,B:ge,c:null,d:jz,e:jz,f:Fye,g:Yye,G:Jye,H:Dye,I:Lye,j:$ye,L:I9,m:Bye,M:Uye,p:oe,q:we,Q:Mz,s:Dz,S:zye,u:qye,U:Hye,V:Wye,w:Vye,W:Gye,x:null,X:null,y:Kye,Y:Xye,Z:Qye,"%":Iz},k={a:U,A:F,b:z,B:V,c:X,d:Oz,e:Oz,f:mye,g:Pz,G:Tz,H:Nz,I:Nz,j:dye,L:pye,m:uye,M:hye,p:$,q:cye,Q:vye,s:yye,S:fye,u:iye,U:sye,V:aye,w:nye,W:oye,x:J,X:H,y:Pz,Y:Tz,Z:lye,"%":gye};A.x=P(t,A),A.X=P(n,A),A.c=P(e,A),C.x=P(t,C),C.X=P(n,C),C.c=P(e,C);function P(le,pe){return function(be){var ae=[],We=-1,De=0,xt=le.length,gt,_t,In;for(be instanceof Date||(be=new Date(+be));++We<xt;)le.charCodeAt(We)===37&&(ae.push(le.slice(De,We)),(_t=Cz[gt=le.charAt(++We)])!=null?gt=le.charAt(++We):_t=gt==="e"?" ":"0",(In=pe[gt])&&(gt=In(be,_t)),ae.push(gt),De=We+1);return ae.push(le.slice(De,We)),ae.join("")}}function j(le,pe){return function(be){var ae=Uv(1900,void 0,1),We=M(ae,le,be+="",0),De,xt;if(We!=be.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(pe&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(De=rN(Uv(ae.y,0,1)),xt=De.getUTCDay(),De=xt>4||xt===0?_S.ceil(De):_S(De),De=JA.offset(De,(ae.V-1)*7),ae.y=De.getUTCFullYear(),ae.m=De.getUTCMonth(),ae.d=De.getUTCDate()+(ae.w+6)%7):(De=tN(Uv(ae.y,0,1)),xt=De.getDay(),De=xt>4||xt===0?xS.ceil(De):xS(De),De=zw.offset(De,(ae.V-1)*7),ae.y=De.getFullYear(),ae.m=De.getMonth(),ae.d=De.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),xt="Z"in ae?rN(Uv(ae.y,0,1)).getUTCDay():tN(Uv(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(xt+5)%7:ae.w+ae.U*7-(xt+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,rN(ae)):tN(ae)}}function M(le,pe,be,ae){for(var We=0,De=pe.length,xt=be.length,gt,_t;We<De;){if(ae>=xt)return-1;if(gt=pe.charCodeAt(We++),gt===37){if(gt=pe.charAt(We++),_t=k[gt in Cz?pe.charAt(We++):gt],!_t||(ae=_t(le,be,ae))<0)return-1}else if(gt!=be.charCodeAt(ae++))return-1}return ae}function $(le,pe,be){var ae=c.exec(pe.slice(be));return ae?(le.p=d.get(ae[0].toLowerCase()),be+ae[0].length):-1}function U(le,pe,be){var ae=g.exec(pe.slice(be));return ae?(le.w=x.get(ae[0].toLowerCase()),be+ae[0].length):-1}function F(le,pe,be){var ae=f.exec(pe.slice(be));return ae?(le.w=m.get(ae[0].toLowerCase()),be+ae[0].length):-1}function z(le,pe,be){var ae=_.exec(pe.slice(be));return ae?(le.m=E.get(ae[0].toLowerCase()),be+ae[0].length):-1}function V(le,pe,be){var ae=y.exec(pe.slice(be));return ae?(le.m=b.get(ae[0].toLowerCase()),be+ae[0].length):-1}function X(le,pe,be){return M(le,e,pe,be)}function J(le,pe,be){return M(le,t,pe,be)}function H(le,pe,be){return M(le,n,pe,be)}function G(le){return a[le.getDay()]}function B(le){return s[le.getDay()]}function ee(le){return l[le.getMonth()]}function ne(le){return o[le.getMonth()]}function q(le){return i[+(le.getHours()>=12)]}function Y(le){return 1+~~(le.getMonth()/3)}function re(le){return a[le.getUTCDay()]}function ue(le){return s[le.getUTCDay()]}function me(le){return l[le.getUTCMonth()]}function ge(le){return o[le.getUTCMonth()]}function oe(le){return i[+(le.getUTCHours()>=12)]}function we(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var pe=P(le+="",A);return pe.toString=function(){return le},pe},parse:function(le){var pe=j(le+="",!1);return pe.toString=function(){return le},pe},utcFormat:function(le){var pe=P(le+="",C);return pe.toString=function(){return le},pe},utcParse:function(le){var pe=j(le+="",!0);return pe.toString=function(){return le},pe}}}var Cz={"-":"",_:" ",0:"0"},gn=/^\s*\d+/,eye=/^%/,tye=/[\\^$*+?|[\]().{}]/g;function mt(r,e,t){var n=r<0?"-":"",i=(n?-r:r)+"",s=i.length;return n+(s<t?new Array(t-s+1).join(e)+i:i)}function rye(r){return r.replace(tye,"\\$&")}function zv(r){return new RegExp("^(?:"+r.map(rye).join("|")+")","i")}function qv(r){return new Map(r.map((e,t)=>[e.toLowerCase(),t]))}function nye(r,e,t){var n=gn.exec(e.slice(t,t+1));return n?(r.w=+n[0],t+n[0].length):-1}function iye(r,e,t){var n=gn.exec(e.slice(t,t+1));return n?(r.u=+n[0],t+n[0].length):-1}function sye(r,e,t){var n=gn.exec(e.slice(t,t+2));return n?(r.U=+n[0],t+n[0].length):-1}function aye(r,e,t){var n=gn.exec(e.slice(t,t+2));return n?(r.V=+n[0],t+n[0].length):-1}function oye(r,e,t){var n=gn.exec(e.slice(t,t+2));return n?(r.W=+n[0],t+n[0].length):-1}function Tz(r,e,t){var n=gn.exec(e.slice(t,t+4));return n?(r.y=+n[0],t+n[0].length):-1}function Pz(r,e,t){var n=gn.exec(e.slice(t,t+2));return n?(r.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function lye(r,e,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return n?(r.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function cye(r,e,t){var n=gn.exec(e.slice(t,t+1));return n?(r.q=n[0]*3-3,t+n[0].length):-1}function uye(r,e,t){var n=gn.exec(e.slice(t,t+2));return n?(r.m=n[0]-1,t+n[0].length):-1}function Oz(r,e,t){var n=gn.exec(e.slice(t,t+2));return n?(r.d=+n[0],t+n[0].length):-1}function dye(r,e,t){var n=gn.exec(e.slice(t,t+3));return n?(r.m=0,r.d=+n[0],t+n[0].length):-1}function Nz(r,e,t){var n=gn.exec(e.slice(t,t+2));return n?(r.H=+n[0],t+n[0].length):-1}function hye(r,e,t){var n=gn.exec(e.slice(t,t+2));return n?(r.M=+n[0],t+n[0].length):-1}function fye(r,e,t){var n=gn.exec(e.slice(t,t+2));return n?(r.S=+n[0],t+n[0].length):-1}function pye(r,e,t){var n=gn.exec(e.slice(t,t+3));return n?(r.L=+n[0],t+n[0].length):-1}function mye(r,e,t){var n=gn.exec(e.slice(t,t+6));return n?(r.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function gye(r,e,t){var n=eye.exec(e.slice(t,t+1));return n?t+n[0].length:-1}function vye(r,e,t){var n=gn.exec(e.slice(t));return n?(r.Q=+n[0],t+n[0].length):-1}function yye(r,e,t){var n=gn.exec(e.slice(t));return n?(r.s=+n[0],t+n[0].length):-1}function Rz(r,e){return mt(r.getDate(),e,2)}function bye(r,e){return mt(r.getHours(),e,2)}function wye(r,e){return mt(r.getHours()%12||12,e,2)}function xye(r,e){return mt(1+zw.count(Yl(r),r),e,3)}function R9(r,e){return mt(r.getMilliseconds(),e,3)}function _ye(r,e){return R9(r,e)+"000"}function Sye(r,e){return mt(r.getMonth()+1,e,2)}function Aye(r,e){return mt(r.getMinutes(),e,2)}function Eye(r,e){return mt(r.getSeconds(),e,2)}function kye(r){var e=r.getDay();return e===0?7:e}function Cye(r,e){return mt(QA.count(Yl(r)-1,r),e,2)}function j9(r){var e=r.getDay();return e>=4||e===0?pg(r):pg.ceil(r)}function Tye(r,e){return r=j9(r),mt(pg.count(Yl(r),r)+(Yl(r).getDay()===4),e,2)}function Pye(r){return r.getDay()}function Oye(r,e){return mt(xS.count(Yl(r)-1,r),e,2)}function Nye(r,e){return mt(r.getFullYear()%100,e,2)}function Rye(r,e){return r=j9(r),mt(r.getFullYear()%100,e,2)}function jye(r,e){return mt(r.getFullYear()%1e4,e,4)}function Iye(r,e){var t=r.getDay();return r=t>=4||t===0?pg(r):pg.ceil(r),mt(r.getFullYear()%1e4,e,4)}function Mye(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function jz(r,e){return mt(r.getUTCDate(),e,2)}function Dye(r,e){return mt(r.getUTCHours(),e,2)}function Lye(r,e){return mt(r.getUTCHours()%12||12,e,2)}function $ye(r,e){return mt(1+JA.count(Xl(r),r),e,3)}function I9(r,e){return mt(r.getUTCMilliseconds(),e,3)}function Fye(r,e){return I9(r,e)+"000"}function Bye(r,e){return mt(r.getUTCMonth()+1,e,2)}function Uye(r,e){return mt(r.getUTCMinutes(),e,2)}function zye(r,e){return mt(r.getUTCSeconds(),e,2)}function qye(r){var e=r.getUTCDay();return e===0?7:e}function Hye(r,e){return mt(ZA.count(Xl(r)-1,r),e,2)}function M9(r){var e=r.getUTCDay();return e>=4||e===0?mg(r):mg.ceil(r)}function Wye(r,e){return r=M9(r),mt(mg.count(Xl(r),r)+(Xl(r).getUTCDay()===4),e,2)}function Vye(r){return r.getUTCDay()}function Gye(r,e){return mt(_S.count(Xl(r)-1,r),e,2)}function Kye(r,e){return mt(r.getUTCFullYear()%100,e,2)}function Yye(r,e){return r=M9(r),mt(r.getUTCFullYear()%100,e,2)}function Xye(r,e){return mt(r.getUTCFullYear()%1e4,e,4)}function Jye(r,e){var t=r.getUTCDay();return r=t>=4||t===0?mg(r):mg.ceil(r),mt(r.getUTCFullYear()%1e4,e,4)}function Qye(){return"+0000"}function Iz(){return"%"}function Mz(r){return+r}function Dz(r){return Math.floor(+r/1e3)}var rp,D9,L9;Zye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zye(r){return rp=Zve(r),D9=rp.format,rp.parse,L9=rp.utcFormat,rp.utcParse,rp}function e0e(r){return new Date(r)}function t0e(r){return r instanceof Date?+r:+new Date(+r)}function qM(r,e,t,n,i,s,a,o,l,c){var d=PM(),f=d.invert,m=d.domain,g=c(".%L"),x=c(":%S"),y=c("%I:%M"),b=c("%I %p"),_=c("%a %d"),E=c("%b %d"),A=c("%B"),C=c("%Y");function k(P){return(l(P)<P?g:o(P)<P?x:a(P)<P?y:s(P)<P?b:n(P)<P?i(P)<P?_:E:t(P)<P?A:C)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?m(Array.from(P,t0e)):m().map(e0e)},d.ticks=function(P){var j=m();return r(j[0],j[j.length-1],P??10)},d.tickFormat=function(P,j){return j==null?k:c(j)},d.nice=function(P){var j=m();return(!P||typeof P.range!="function")&&(P=e(j[0],j[j.length-1],P??10)),P?m(S9(j,P)):d},d.copy=function(){return Uw(d,qM(r,e,t,n,i,s,a,o,l,c))},d}function r0e(){return Qs.apply(qM(Jve,Qve,Yl,UM,QA,zw,FM,LM,jd,D9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function n0e(){return Qs.apply(qM(Yve,Xve,Xl,zM,ZA,JA,BM,$M,jd,L9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function eE(){var r=0,e=1,t,n,i,s,a=ui,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(s(f)-t)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([r,e]=f,t=s(r=+r),n=s(e=+e),i=t===n?0:1/(n-t),c):[r,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(a=f,c):a};function d(f){return function(m){var g,x;return arguments.length?([g,x]=m,a=f(g,x),c):[a(0),a(1)]}}return c.range=d(qg),c.rangeRound=d(TM),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,t=f(r),n=f(e),i=t===n?0:1/(n-t),c}}function Vu(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function $9(){var r=Wu(eE()(ui));return r.copy=function(){return Vu(r,$9())},rc.apply(r,arguments)}function F9(){var r=RM(eE()).domain([1,10]);return r.copy=function(){return Vu(r,F9()).base(r.base())},rc.apply(r,arguments)}function B9(){var r=jM(eE());return r.copy=function(){return Vu(r,B9()).constant(r.constant())},rc.apply(r,arguments)}function HM(){var r=IM(eE());return r.copy=function(){return Vu(r,HM()).exponent(r.exponent())},rc.apply(r,arguments)}function i0e(){return HM.apply(null,arguments).exponent(.5)}function U9(){var r=[],e=ui;function t(n){if(n!=null&&!isNaN(n=+n))return e((Fw(r,n,1)-1)/(r.length-1))}return t.domain=function(n){if(!arguments.length)return r.slice();r=[];for(let i of n)i!=null&&!isNaN(i=+i)&&r.push(i);return r.sort(Ou),t},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.range=function(){return r.map((n,i)=>e(i/(r.length-1)))},t.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Hge(r,s/n))},t.copy=function(){return U9(e).domain(r)},rc.apply(t,arguments)}function tE(){var r=0,e=.5,t=1,n=1,i,s,a,o,l,c=ui,d,f=!1,m;function g(y){return isNaN(y=+y)?m:(y=.5+((y=+d(y))-s)*(n*y<n*s?o:l),c(f?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([r,e,t]=y,i=d(r=+r),s=d(e=+e),a=d(t=+t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,g):[r,e,t]},g.clamp=function(y){return arguments.length?(f=!!y,g):f},g.interpolator=function(y){return arguments.length?(c=y,g):c};function x(y){return function(b){var _,E,A;return arguments.length?([_,E,A]=b,c=gve(y,[_,E,A]),g):[c(0),c(.5),c(1)]}}return g.range=x(qg),g.rangeRound=x(TM),g.unknown=function(y){return arguments.length?(m=y,g):m},function(y){return d=y,i=y(r),s=y(e),a=y(t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,g}}function z9(){var r=Wu(tE()(ui));return r.copy=function(){return Vu(r,z9())},rc.apply(r,arguments)}function q9(){var r=RM(tE()).domain([.1,1,10]);return r.copy=function(){return Vu(r,q9()).base(r.base())},rc.apply(r,arguments)}function H9(){var r=jM(tE());return r.copy=function(){return Vu(r,H9()).constant(r.constant())},rc.apply(r,arguments)}function WM(){var r=IM(tE());return r.copy=function(){return Vu(r,WM()).exponent(r.exponent())},rc.apply(r,arguments)}function s0e(){return WM.apply(null,arguments).exponent(.5)}const Lz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:e0,scaleDiverging:z9,scaleDivergingLog:q9,scaleDivergingPow:WM,scaleDivergingSqrt:s0e,scaleDivergingSymlog:H9,scaleIdentity:_9,scaleImplicit:wj,scaleLinear:bS,scaleLog:A9,scaleOrdinal:EM,scalePoint:ky,scalePow:MM,scaleQuantile:C9,scaleQuantize:T9,scaleRadial:k9,scaleSequential:$9,scaleSequentialLog:F9,scaleSequentialPow:HM,scaleSequentialQuantile:U9,scaleSequentialSqrt:i0e,scaleSequentialSymlog:B9,scaleSqrt:Fve,scaleSymlog:E9,scaleThreshold:P9,scaleTime:r0e,scaleUtc:n0e,tickFormat:x9},Symbol.toStringTag,{value:"Module"}));var nN,$z;function W9(){if($z)return nN;$z=1;var r=Bg();function e(t,n,i){for(var s=-1,a=t.length;++s<a;){var o=t[s],l=n(o);if(l!=null&&(c===void 0?l===l&&!r(l):i(l,c)))var c=l,d=o}return d}return nN=e,nN}var iN,Fz;function a0e(){if(Fz)return iN;Fz=1;function r(e,t){return e>t}return iN=r,iN}var sN,Bz;function o0e(){if(Bz)return sN;Bz=1;var r=W9(),e=a0e(),t=zg();function n(i){return i&&i.length?r(i,t,e):void 0}return sN=n,sN}var l0e=o0e();const rE=$t(l0e);var aN,Uz;function c0e(){if(Uz)return aN;Uz=1;function r(e,t){return e<t}return aN=r,aN}var oN,zz;function u0e(){if(zz)return oN;zz=1;var r=W9(),e=c0e(),t=zg();function n(i){return i&&i.length?r(i,t,e):void 0}return oN=n,oN}var d0e=u0e();const nE=$t(d0e);var lN,qz;function h0e(){if(qz)return lN;qz=1;var r=oM(),e=Hu(),t=Z7(),n=Ni();function i(s,a){var o=n(s)?r:t;return o(s,e(a,3))}return lN=i,lN}var cN,Hz;function f0e(){if(Hz)return cN;Hz=1;var r=J7(),e=h0e();function t(n,i){return r(e(n,i),1)}return cN=t,cN}var p0e=f0e();const m0e=$t(p0e);var uN,Wz;function g0e(){if(Wz)return uN;Wz=1;var r=wM();function e(t,n){return r(t,n)}return uN=e,uN}var v0e=g0e();const VM=$t(v0e);var Hg=1e9,y0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},KM,lr=!0,Js="[DecimalError] ",Jh=Js+"Invalid argument: ",GM=Js+"Exponent out of range: ",Wg=Math.floor,xd=Math.pow,b0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ps,pn=1e7,rr=7,V9=9007199254740991,SS=Wg(V9/rr),Te={};Te.absoluteValue=Te.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};Te.comparedTo=Te.cmp=function(r){var e,t,n,i,s=this;if(r=new s.constructor(r),s.s!==r.s)return s.s||-r.s;if(s.e!==r.e)return s.e>r.e^s.s<0?1:-1;for(n=s.d.length,i=r.d.length,e=0,t=n<i?n:i;e<t;++e)if(s.d[e]!==r.d[e])return s.d[e]>r.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var r=this,e=r.d.length-1,t=(e-r.e)*rr;if(e=r.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Te.dividedBy=Te.div=function(r){return Ul(this,new this.constructor(r))};Te.dividedToIntegerBy=Te.idiv=function(r){var e=this,t=e.constructor;return qt(Ul(e,new t(r),0,1),t.precision)};Te.equals=Te.eq=function(r){return!this.cmp(r)};Te.exponent=function(){return Fr(this)};Te.greaterThan=Te.gt=function(r){return this.cmp(r)>0};Te.greaterThanOrEqualTo=Te.gte=function(r){return this.cmp(r)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(r){return this.cmp(r)<0};Te.lessThanOrEqualTo=Te.lte=function(r){return this.cmp(r)<1};Te.logarithm=Te.log=function(r){var e,t=this,n=t.constructor,i=n.precision,s=i+5;if(r===void 0)r=new n(10);else if(r=new n(r),r.s<1||r.eq(ps))throw Error(Js+"NaN");if(t.s<1)throw Error(Js+(t.s?"NaN":"-Infinity"));return t.eq(ps)?new n(0):(lr=!1,e=Ul(s0(t,s),s0(r,s),s),lr=!0,qt(e,i))};Te.minus=Te.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?Y9(e,r):G9(e,(r.s=-r.s,r))};Te.modulo=Te.mod=function(r){var e,t=this,n=t.constructor,i=n.precision;if(r=new n(r),!r.s)throw Error(Js+"NaN");return t.s?(lr=!1,e=Ul(t,r,0,1).times(r),lr=!0,t.minus(e)):qt(new n(t),i)};Te.naturalExponential=Te.exp=function(){return K9(this)};Te.naturalLogarithm=Te.ln=function(){return s0(this)};Te.negated=Te.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};Te.plus=Te.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?G9(e,r):Y9(e,(r.s=-r.s,r))};Te.precision=Te.sd=function(r){var e,t,n,i=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Jh+r);if(e=Fr(i)+1,n=i.d.length-1,t=n*rr+1,n=i.d[n],n){for(;n%10==0;n/=10)t--;for(n=i.d[0];n>=10;n/=10)t++}return r&&e>t?e:t};Te.squareRoot=Te.sqrt=function(){var r,e,t,n,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Js+"NaN")}for(r=Fr(o),lr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=wo(o.d),(e.length+r)%2==0&&(e+="0"),i=Math.sqrt(e),r=Wg((r+1)/2)-(r<0||r%2),i==1/0?e="5e"+r:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),n=new l(e)):n=new l(i.toString()),t=l.precision,i=a=t+3;;)if(s=n,n=s.plus(Ul(o,s,a+2)).times(.5),wo(s.d).slice(0,a)===(e=wo(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(qt(s,t+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return lr=!0,qt(n,t)};Te.times=Te.mul=function(r){var e,t,n,i,s,a,o,l,c,d=this,f=d.constructor,m=d.d,g=(r=new f(r)).d;if(!d.s||!r.s)return new f(0);for(r.s*=d.s,t=d.e+r.e,l=m.length,c=g.length,l<c&&(s=m,m=g,g=s,a=l,l=c,c=a),s=[],a=l+c,n=a;n--;)s.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=s[i]+g[n]*m[i-n-1]+e,s[i--]=o%pn|0,e=o/pn|0;s[i]=(s[i]+e)%pn|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),r.d=s,r.e=t,lr?qt(r,f.precision):r};Te.toDecimalPlaces=Te.todp=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(Co(r,0,Hg),e===void 0?e=n.rounding:Co(e,0,8),qt(t,r+Fr(t)+1,e))};Te.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=lf(n,!0):(Co(r,0,Hg),e===void 0?e=i.rounding:Co(e,0,8),n=qt(new i(n),r+1,e),t=lf(n,!0,r+1)),t};Te.toFixed=function(r,e){var t,n,i=this,s=i.constructor;return r===void 0?lf(i):(Co(r,0,Hg),e===void 0?e=s.rounding:Co(e,0,8),n=qt(new s(i),r+Fr(i)+1,e),t=lf(n.abs(),!1,r+Fr(n)+1),i.isneg()&&!i.isZero()?"-"+t:t)};Te.toInteger=Te.toint=function(){var r=this,e=r.constructor;return qt(new e(r),Fr(r)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(r){var e,t,n,i,s,a,o=this,l=o.constructor,c=12,d=+(r=new l(r));if(!r.s)return new l(ps);if(o=new l(o),!o.s){if(r.s<1)throw Error(Js+"Infinity");return o}if(o.eq(ps))return o;if(n=l.precision,r.eq(ps))return qt(o,n);if(e=r.e,t=r.d.length-1,a=e>=t,s=o.s,a){if((t=d<0?-d:d)<=V9){for(i=new l(ps),e=Math.ceil(n/rr+4),lr=!1;t%2&&(i=i.times(o),Gz(i.d,e)),t=Wg(t/2),t!==0;)o=o.times(o),Gz(o.d,e);return lr=!0,r.s<0?new l(ps).div(i):qt(i,n)}}else if(s<0)throw Error(Js+"NaN");return s=s<0&&r.d[Math.max(e,t)]&1?-1:1,o.s=1,lr=!1,i=r.times(s0(o,n+c)),lr=!0,i=K9(i),i.s=s,i};Te.toPrecision=function(r,e){var t,n,i=this,s=i.constructor;return r===void 0?(t=Fr(i),n=lf(i,t<=s.toExpNeg||t>=s.toExpPos)):(Co(r,1,Hg),e===void 0?e=s.rounding:Co(e,0,8),i=qt(new s(i),r,e),t=Fr(i),n=lf(i,r<=t||t<=s.toExpNeg,r)),n};Te.toSignificantDigits=Te.tosd=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(Co(r,1,Hg),e===void 0?e=n.rounding:Co(e,0,8)),qt(new n(t),r,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=Fr(r),t=r.constructor;return lf(r,e<=t.toExpNeg||e>=t.toExpPos)};function G9(r,e){var t,n,i,s,a,o,l,c,d=r.constructor,f=d.precision;if(!r.s||!e.s)return e.s||(e=new d(r)),lr?qt(e,f):e;if(l=r.d,c=e.d,a=r.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(n=l,s=-s,o=c.length):(n=c,i=a,o=l.length),a=Math.ceil(f/rr),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,n=c,c=l,l=n),t=0;s;)t=(l[--s]=l[s]+c[s]+t)/pn|0,l[s]%=pn;for(t&&(l.unshift(t),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,lr?qt(e,f):e}function Co(r,e,t){if(r!==~~r||r<e||r>t)throw Error(Jh+r)}function wo(r){var e,t,n,i=r.length-1,s="",a=r[0];if(i>0){for(s+=a,e=1;e<i;e++)n=r[e]+"",t=rr-n.length,t&&(s+=jc(t)),s+=n;a=r[e],n=a+"",t=rr-n.length,t&&(s+=jc(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Ul=(function(){function r(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%pn|0,a=s/pn|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function t(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*pn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,l,c,d,f,m,g,x,y,b,_,E,A,C,k,P,j,M,$=n.constructor,U=n.s==i.s?1:-1,F=n.d,z=i.d;if(!n.s)return new $(n);if(!i.s)throw Error(Js+"Division by zero");for(l=n.e-i.e,j=z.length,k=F.length,g=new $(U),x=g.d=[],c=0;z[c]==(F[c]||0);)++c;if(z[c]>(F[c]||0)&&--l,s==null?E=s=$.precision:a?E=s+(Fr(n)-Fr(i))+1:E=s,E<0)return new $(0);if(E=E/rr+2|0,c=0,j==1)for(d=0,z=z[0],E++;(c<k||d)&&E--;c++)A=d*pn+(F[c]||0),x[c]=A/z|0,d=A%z|0;else{for(d=pn/(z[0]+1)|0,d>1&&(z=r(z,d),F=r(F,d),j=z.length,k=F.length),C=j,y=F.slice(0,j),b=y.length;b<j;)y[b++]=0;M=z.slice(),M.unshift(0),P=z[0],z[1]>=pn/2&&++P;do d=0,o=e(z,y,j,b),o<0?(_=y[0],j!=b&&(_=_*pn+(y[1]||0)),d=_/P|0,d>1?(d>=pn&&(d=pn-1),f=r(z,d),m=f.length,b=y.length,o=e(f,y,m,b),o==1&&(d--,t(f,j<m?M:z,m))):(d==0&&(o=d=1),f=z.slice()),m=f.length,m<b&&f.unshift(0),t(y,f,b),o==-1&&(b=y.length,o=e(z,y,j,b),o<1&&(d++,t(y,j<b?M:z,b))),b=y.length):o===0&&(d++,y=[0]),x[c++]=d,o&&y[0]?y[b++]=F[C]||0:(y=[F[C]],b=1);while((C++<k||y[0]!==void 0)&&E--)}return x[0]||x.shift(),g.e=l,qt(g,a?s+Fr(g)+1:s)}})();function K9(r,e){var t,n,i,s,a,o,l=0,c=0,d=r.constructor,f=d.precision;if(Fr(r)>16)throw Error(GM+Fr(r));if(!r.s)return new d(ps);for(lr=!1,o=f,a=new d(.03125);r.abs().gte(.1);)r=r.times(a),c+=5;for(n=Math.log(xd(2,c))/Math.LN10*2+5|0,o+=n,t=i=s=new d(ps),d.precision=o;;){if(i=qt(i.times(r),o),t=t.times(++l),a=s.plus(Ul(i,t,o)),wo(a.d).slice(0,o)===wo(s.d).slice(0,o)){for(;c--;)s=qt(s.times(s),o);return d.precision=f,e==null?(lr=!0,qt(s,f)):s}s=a}}function Fr(r){for(var e=r.e*rr,t=r.d[0];t>=10;t/=10)e++;return e}function dN(r,e,t){if(e>r.LN10.sd())throw lr=!0,t&&(r.precision=t),Error(Js+"LN10 precision limit exceeded");return qt(new r(r.LN10),e)}function jc(r){for(var e="";r--;)e+="0";return e}function s0(r,e){var t,n,i,s,a,o,l,c,d,f=1,m=10,g=r,x=g.d,y=g.constructor,b=y.precision;if(g.s<1)throw Error(Js+(g.s?"NaN":"-Infinity"));if(g.eq(ps))return new y(0);if(e==null?(lr=!1,c=b):c=e,g.eq(10))return e==null&&(lr=!0),dN(y,c);if(c+=m,y.precision=c,t=wo(x),n=t.charAt(0),s=Fr(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)g=g.times(r),t=wo(g.d),n=t.charAt(0),f++;s=Fr(g),n>1?(g=new y("0."+t),s++):g=new y(n+"."+t.slice(1))}else return l=dN(y,c+2,b).times(s+""),g=s0(new y(n+"."+t.slice(1)),c-m).plus(l),y.precision=b,e==null?(lr=!0,qt(g,b)):g;for(o=a=g=Ul(g.minus(ps),g.plus(ps),c),d=qt(g.times(g),c),i=3;;){if(a=qt(a.times(d),c),l=o.plus(Ul(a,new y(i),c)),wo(l.d).slice(0,c)===wo(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(dN(y,c+2,b).times(s+""))),o=Ul(o,new y(f),c),y.precision=b,e==null?(lr=!0,qt(o,b)):o;o=l,i+=2}}function Vz(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,t=t-n-1,r.e=Wg(t/rr),r.d=[],n=(t+1)%rr,t<0&&(n+=rr),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=rr;n<i;)r.d.push(+e.slice(n,n+=rr));e=e.slice(n),n=rr-e.length}else n-=i;for(;n--;)e+="0";if(r.d.push(+e),lr&&(r.e>SS||r.e<-SS))throw Error(GM+t)}else r.s=0,r.e=0,r.d=[0];return r}function qt(r,e,t){var n,i,s,a,o,l,c,d,f=r.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=rr,i=e,c=f[d=0];else{if(d=Math.ceil((n+1)/rr),s=f.length,d>=s)return r;for(c=s=f[d],a=1;s>=10;s/=10)a++;n%=rr,i=n-rr+a}if(t!==void 0&&(s=xd(10,a-i-1),o=c/s%10|0,l=e<0||f[d+1]!==void 0||c%s,l=t<4?(o||l)&&(t==0||t==(r.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(n>0?i>0?c/xd(10,a-i):0:f[d-1])%10&1||t==(r.s<0?8:7))),e<1||!f[0])return l?(s=Fr(r),f.length=1,e=e-s-1,f[0]=xd(10,(rr-e%rr)%rr),r.e=Wg(-e/rr)||0):(f.length=1,f[0]=r.e=r.s=0),r;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=xd(10,rr-n),f[d]=i>0?(c/xd(10,a-i)%xd(10,i)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==pn&&(f[0]=1,++r.e);break}else{if(f[d]+=s,f[d]!=pn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(lr&&(r.e>SS||r.e<-SS))throw Error(GM+Fr(r));return r}function Y9(r,e){var t,n,i,s,a,o,l,c,d,f,m=r.constructor,g=m.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new m(r),lr?qt(e,g):e;if(l=r.d,f=e.d,n=e.e,c=r.e,l=l.slice(),a=c-n,a){for(d=a<0,d?(t=l,a=-a,o=f.length):(t=f,n=c,o=l.length),i=Math.max(Math.ceil(g/rr),o)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(t=l,l=f,f=t,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=pn-1;--l[s],l[i]+=pn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,lr?qt(e,g):e):new m(0)}function lf(r,e,t){var n,i=Fr(r),s=wo(r.d),a=s.length;return e?(t&&(n=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+jc(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+jc(-i-1)+s,t&&(n=t-a)>0&&(s+=jc(n))):i>=a?(s+=jc(i+1-a),t&&(n=t-i-1)>0&&(s=s+"."+jc(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),t&&(n=t-a)>0&&(i+1===a&&(s+="."),s+=jc(n))),r.s<0?"-"+s:s}function Gz(r,e){if(r.length>e)return r.length=e,!0}function X9(r){var e,t,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Jh+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return Vz(a,s.toString())}else if(typeof s!="string")throw Error(Jh+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,b0e.test(s))Vz(a,s);else throw Error(Jh+s)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=X9,i.config=i.set=w0e,r===void 0&&(r={}),r)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function w0e(r){if(!r||typeof r!="object")throw Error(Js+"Object expected");var e,t,n,i=["precision",1,Hg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=r[t=i[e]])!==void 0)if(Wg(n)===n&&n>=i[e+1]&&n<=i[e+2])this[t]=n;else throw Error(Jh+t+": "+n);if((n=r[t="LN10"])!==void 0)if(n==Math.LN10)this[t]=new this(n);else throw Error(Jh+t+": "+n);return this}var KM=X9(y0e);ps=new KM(1);const Dt=KM;function x0e(r){return E0e(r)||A0e(r)||S0e(r)||_0e()}function _0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S0e(r,e){if(r){if(typeof r=="string")return Aj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Aj(r,e)}}function A0e(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function E0e(r){if(Array.isArray(r))return Aj(r)}function Aj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var k0e=function(e){return e},J9={},Q9=function(e){return e===J9},Kz=function(e){return function t(){return arguments.length===0||arguments.length===1&&Q9(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},C0e=function r(e,t){return e===1?t:Kz(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==J9}).length;return a>=e?t.apply(void 0,i):r(e-a,Kz(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=i.map(function(f){return Q9(f)?l.shift():f});return t.apply(void 0,x0e(d).concat(l))}))})},iE=function(e){return C0e(e.length,e)},Ej=function(e,t){for(var n=[],i=e;i<t;++i)n[i-e]=i;return n},T0e=iE(function(r,e){return Array.isArray(e)?e.map(r):Object.keys(e).map(function(t){return e[t]}).map(r)}),P0e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return k0e;var i=t.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},kj=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Z9=function(e){var t=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t&&s.every(function(o,l){return o===t[l]})||(t=s,n=e.apply(void 0,s)),n}};function O0e(r){var e;return r===0?e=1:e=Math.floor(new Dt(r).abs().log(10).toNumber())+1,e}function N0e(r,e,t){for(var n=new Dt(r),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(t),i++;return s}var R0e=iE(function(r,e,t){var n=+r,i=+e;return n+t*(i-n)}),j0e=iE(function(r,e,t){var n=e-+r;return n=n||1/0,(t-r)/n}),I0e=iE(function(r,e,t){var n=e-+r;return n=n||1/0,Math.max(0,Math.min(1,(t-r)/n))});const sE={rangeStep:N0e,getDigitCount:O0e,interpolateNumber:R0e,uninterpolateNumber:j0e,uninterpolateTruncation:I0e};function Cj(r){return L0e(r)||D0e(r)||eK(r)||M0e()}function M0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D0e(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function L0e(r){if(Array.isArray(r))return Tj(r)}function a0(r,e){return B0e(r)||F0e(r,e)||eK(r,e)||$0e()}function $0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eK(r,e){if(r){if(typeof r=="string")return Tj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tj(r,e)}}function Tj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function F0e(r,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var t=[],n=!0,i=!1,s=void 0;try{for(var a=r[Symbol.iterator](),o;!(n=(o=a.next()).done)&&(t.push(o.value),!(e&&t.length===e));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return t}}function B0e(r){if(Array.isArray(r))return r}function tK(r){var e=a0(r,2),t=e[0],n=e[1],i=t,s=n;return t>n&&(i=n,s=t),[i,s]}function rK(r,e,t){if(r.lte(0))return new Dt(0);var n=sE.getDigitCount(r.toNumber()),i=new Dt(10).pow(n),s=r.div(i),a=n!==1?.05:.1,o=new Dt(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(i);return e?l:new Dt(Math.ceil(l))}function U0e(r,e,t){var n=1,i=new Dt(r);if(!i.isint()&&t){var s=Math.abs(r);s<1?(n=new Dt(10).pow(sE.getDigitCount(r)-1),i=new Dt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Dt(Math.floor(r)))}else r===0?i=new Dt(Math.floor((e-1)/2)):t||(i=new Dt(Math.floor(r)));var a=Math.floor((e-1)/2),o=P0e(T0e(function(l){return i.add(new Dt(l-a).mul(n)).toNumber()}),Ej);return o(0,e)}function nK(r,e,t,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-r)/(t-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var s=rK(new Dt(e).sub(r).div(t-1),n,i),a;r<=0&&e>=0?a=new Dt(0):(a=new Dt(r).add(e).div(2),a=a.sub(new Dt(a).mod(s)));var o=Math.ceil(a.sub(r).div(s).toNumber()),l=Math.ceil(new Dt(e).sub(a).div(s).toNumber()),c=o+l+1;return c>t?nK(r,e,t,n,i+1):(c<t&&(l=e>0?l+(t-c):l,o=e>0?o:o+(t-c)),{step:s,tickMin:a.sub(new Dt(o).mul(s)),tickMax:a.add(new Dt(l).mul(s))})}function z0e(r){var e=a0(r,2),t=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=tK([t,n]),l=a0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(Cj(Ej(0,i-1).map(function(){return 1/0}))):[].concat(Cj(Ej(0,i-1).map(function(){return-1/0})),[d]);return t>n?kj(f):f}if(c===d)return U0e(c,i,s);var m=nK(c,d,a,s),g=m.step,x=m.tickMin,y=m.tickMax,b=sE.rangeStep(x,y.add(new Dt(.1).mul(g)),g);return t>n?kj(b):b}function q0e(r,e){var t=a0(r,2),n=t[0],i=t[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=tK([n,i]),o=a0(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var d=Math.max(e,2),f=rK(new Dt(c).sub(l).div(d-1),s,0),m=[].concat(Cj(sE.rangeStep(new Dt(l),new Dt(c).sub(new Dt(.99).mul(f)),f)),[c]);return n>i?kj(m):m}var H0e=Z9(z0e),W0e=Z9(q0e),V0e="Invariant failed";function cf(r,e){throw new Error(V0e)}var G0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gg(r){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(r)}function AS(){return AS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},AS.apply(this,arguments)}function K0e(r,e){return Q0e(r)||J0e(r,e)||X0e(r,e)||Y0e()}function Y0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X0e(r,e){if(r){if(typeof r=="string")return Yz(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Yz(r,e)}}function Yz(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function J0e(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Q0e(r){if(Array.isArray(r))return r}function Z0e(r,e){if(r==null)return{};var t=ebe(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function ebe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function tbe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function rbe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,aK(n.key),n)}}function nbe(r,e,t){return e&&rbe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function ibe(r,e,t){return e=ES(e),sbe(r,iK()?Reflect.construct(e,t||[],ES(r).constructor):e.apply(r,t))}function sbe(r,e){if(e&&(gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return abe(r)}function abe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function iK(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iK=function(){return!!r})()}function ES(r){return ES=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ES(r)}function obe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Pj(r,e)}function Pj(r,e){return Pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pj(r,e)}function sK(r,e,t){return e=aK(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function aK(r){var e=lbe(r,"string");return gg(e)=="symbol"?e:e+""}function lbe(r,e){if(gg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var aE=(function(r){function e(){return tbe(this,e),ibe(this,e,arguments)}return obe(e,r),nbe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,a=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=Z0e(n,G0e),g=bt(m,!1);this.props.direction==="x"&&d.type!=="number"&&cf();var x=l.map(function(y){var b=c(y,o),_=b.x,E=b.y,A=b.value,C=b.errorVal;if(!C)return null;var k=[],P,j;if(Array.isArray(C)){var M=K0e(C,2);P=M[0],j=M[1]}else P=j=C;if(s==="vertical"){var $=d.scale,U=E+i,F=U+a,z=U-a,V=$(A-P),X=$(A+j);k.push({x1:X,y1:F,x2:X,y2:z}),k.push({x1:V,y1:U,x2:X,y2:U}),k.push({x1:V,y1:F,x2:V,y2:z})}else if(s==="horizontal"){var J=f.scale,H=_+i,G=H-a,B=H+a,ee=J(A-P),ne=J(A+j);k.push({x1:G,y1:ne,x2:B,y2:ne}),k.push({x1:H,y1:ee,x2:H,y2:ne}),k.push({x1:G,y1:ee,x2:B,y2:ee})}return W.createElement(mn,AS({className:"recharts-errorBar",key:"bar-".concat(k.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},g),k.map(function(q){return W.createElement("line",AS({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return W.createElement(mn,{className:"recharts-errorBars"},x)}}])})(W.Component);sK(aE,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sK(aE,"displayName","ErrorBar");function o0(r){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o0(r)}function Xz(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function md(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xz(Object(t),!0).forEach(function(n){cbe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Xz(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function cbe(r,e,t){return e=ube(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ube(r){var e=dbe(r,"string");return o0(e)=="symbol"?e:e+""}function dbe(r,e){if(o0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(o0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var oK=function(e){var t=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=ls(t,Op);if(!a)return null;var o=Op.defaultProps,l=o!==void 0?md(md({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(n||[]).reduce(function(d,f){var m=f.item,g=f.props,x=g.sectors||g.data||[];return d.concat(x.map(function(y){return{type:a.props.iconType||m.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,g=m!==void 0?md(md({},m),f.props):{},x=g.dataKey,y=g.name,b=g.legendType,_=g.hide;return{inactive:_,dataKey:x,type:l.iconType||b||"square",color:YM(f),value:y||x,payload:g}}),md(md(md({},l),Op.getWithHeight(a,i)),{},{payload:c,item:a})};function l0(r){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l0(r)}function Jz(r){return mbe(r)||pbe(r)||fbe(r)||hbe()}function hbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fbe(r,e){if(r){if(typeof r=="string")return Oj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Oj(r,e)}}function pbe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function mbe(r){if(Array.isArray(r))return Oj(r)}function Oj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Qz(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function kr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qz(Object(t),!0).forEach(function(n){Rp(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Qz(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Rp(r,e,t){return e=gbe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function gbe(r){var e=vbe(r,"string");return l0(e)=="symbol"?e:e+""}function vbe(r,e){if(l0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(l0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function To(r,e,t){return Et(r)||Et(e)?t:Qr(e)?Ks(r,e,t):st(e)?e(r):t}function Cy(r,e,t,n){var i=m0e(r,function(o){return To(o,e)});if(t==="number"){var s=i.filter(function(o){return xe(o)||parseFloat(o)});return s.length?[nE(s),rE(s)]:[1/0,-1/0]}var a=n?i.filter(function(o){return!Et(o)}):i;return a.map(function(o){return Qr(o)||o instanceof Date?o:""})}var ybe=function(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(t=n==null?void 0:n.length)!==null&&t!==void 0?t:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var d=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,m=c>=o-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(Pa(f-d)!==Pa(m-f)){var x=[];if(Pa(m-f)===Pa(l[1]-l[0])){g=m;var y=f+l[1]-l[0];x[0]=Math.min(y,(y+d)/2),x[1]=Math.max(y,(y+d)/2)}else{g=d;var b=m+l[1]-l[0];x[0]=Math.min(f,(b+f)/2),x[1]=Math.max(f,(b+f)/2)}var _=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){a=i[c].index;break}}else{var E=Math.min(d,m),A=Math.max(d,m);if(e>(E+f)/2&&e<=(A+f)/2){a=i[c].index;break}}}else for(var C=0;C<o;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<o-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===o-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){a=n[C].index;break}return a},YM=function(e){var t,n=e,i=n.type.displayName,s=(t=e.type)!==null&&t!==void 0&&t.defaultProps?kr(kr({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},bbe=function(e){var t=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var d=s[o[l]].stackGroups,f=Object.keys(d),m=0,g=f.length;m<g;m++){var x=d[f[m]],y=x.items,b=x.cateAxisId,_=y.filter(function(j){return Fl(j.type).indexOf("Bar")>=0});if(_&&_.length){var E=_[0].type.defaultProps,A=E!==void 0?kr(kr({},E),_[0].props):_[0].props,C=A.barSize,k=A[b];a[k]||(a[k]=[]);var P=Et(C)?t:C;a[k].push({item:_[0],stackList:_.slice(1),barSize:Et(P)?void 0:of(P,n,0)})}}return a},wbe=function(e){var t=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=of(t,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var m=!1,g=i/l,x=a.reduce(function(C,k){return C+k.barSize||0},0);x+=(l-1)*c,x>=i&&(x-=(l-1)*c,c=0),x>=i&&g>0&&(m=!0,g*=.9,x=l*g);var y=(i-x)/2>>0,b={offset:y-c,size:0};d=a.reduce(function(C,k){var P={item:k.item,position:{offset:b.offset+b.size+c,size:m?g:k.barSize}},j=[].concat(Jz(C),[P]);return b=j[j.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(M){j.push({item:M,position:b})}),j},f)}else{var _=of(n,i,0,!0);i-2*_-(l-1)*c<=0&&(c=0);var E=(i-2*_-(l-1)*c)/l;E>1&&(E>>=0);var A=o===+o?Math.min(E,o):E;d=a.reduce(function(C,k,P){var j=[].concat(Jz(C),[{item:k.item,position:{offset:_+(E+c)*P+(E-A)/2,size:A}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(M){j.push({item:M,position:j[j.length-1].position})}),j},f)}return d},xbe=function(e,t,n,i){var s=n.children,a=n.width,o=n.margin,l=a-(o.left||0)-(o.right||0),c=oK({children:s,legendWidth:l});if(c){var d=i||{},f=d.width,m=d.height,g=c.align,x=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&x==="middle")&&g!=="center"&&xe(e[g]))return kr(kr({},e),{},Rp({},g,e[g]+(f||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&x!=="middle"&&xe(e[x]))return kr(kr({},e),{},Rp({},x,e[x]+(m||0)))}return e},_be=function(e,t,n){return Et(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||n==="x"?t==="xAxis":n==="y"?t==="yAxis":!0},lK=function(e,t,n,i,s){var a=t.props.children,o=Na(a,aE).filter(function(c){return _be(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=To(d,n);if(Et(f))return c;var m=Array.isArray(f)?[nE(f),rE(f)]:[f,f],g=l.reduce(function(x,y){var b=To(d,y,0),_=m[0]-Math.abs(Array.isArray(b)?b[0]:b),E=m[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(_,x[0]),Math.max(E,x[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},Sbe=function(e,t,n,i,s){var a=t.map(function(o){return lK(e,o,n,s,i)}).filter(function(o){return!Et(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},cK=function(e,t,n,i,s){var a=t.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&lK(e,l,c,i)||Cy(e,c,n,s)});if(n==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},uK=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},dK=function(e,t,n,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===t&&(s=!0),l.coordinate===n&&(a=!0),l.coordinate});return s||o.push(t),a||o.push(n),o},Ll=function(e,t,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(t||n)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Pa(o[0]-o[1])*2*c:c,t&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:i(m)+c,value:f,offset:c}});return d.filter(function(f){return!Dw(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:i(f)+c,value:f,index:m,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,m){return{coordinate:i(f)+c,value:s?s[f]:f,index:m,offset:c}})},hN=new WeakMap,P_=function(e,t){if(typeof t!="function")return e;hN.has(e)||hN.set(e,new WeakMap);var n=hN.get(e);if(n.has(t))return n.get(t);var i=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,i),i},Abe=function(e,t,n){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:e0(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:bS(),realScaleType:"linear"}:s==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:ky(),realScaleType:"point"}:s==="category"?{scale:e0(),realScaleType:"band"}:{scale:bS(),realScaleType:"linear"};if(Mw(i)){var l="scale".concat(qA(i));return{scale:(Lz[l]||ky)(),realScaleType:Lz[l]?l:"point"}}return st(i)?{scale:i}:{scale:ky(),realScaleType:"point"}},Zz=1e-4,Ebe=function(e){var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,i=e.range(),s=Math.min(i[0],i[1])-Zz,a=Math.max(i[0],i[1])+Zz,o=e(t[0]),l=e(t[n-1]);(o<s||o>a||l<s||l>a)&&e.domain([t[0],t[n-1]])}},kbe=function(e,t){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===t)return e[n].position;return null},Cbe=function(e,t){if(!t||t.length!==2||!xe(t[0])||!xe(t[1]))return e;var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!xe(e[0])||e[0]<n)&&(s[0]=n),(!xe(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},Tbe=function(e){var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0,o=0;o<t;++o){var l=Dw(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},Pbe=function(e){var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0;a<t;++a){var o=Dw(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Obe={sign:Tbe,expand:hfe,none:lg,silhouette:ffe,wiggle:pfe,positive:Pbe},Nbe=function(e,t,n){var i=t.map(function(o){return o.props.dataKey}),s=Obe[n],a=dfe().keys(i).value(function(o,l){return+To(o,l,0)}).order(aj).offset(s);return a(e)},Rbe=function(e,t,n,i,s,a){if(!e)return null;var o=a?t.reverse():t,l={},c=o.reduce(function(f,m){var g,x=(g=m.type)!==null&&g!==void 0&&g.defaultProps?kr(kr({},m.type.defaultProps),m.props):m.props,y=x.stackId,b=x.hide;if(b)return f;var _=x[n],E=f[_]||{hasStack:!1,stackGroups:{}};if(Qr(y)){var A=E.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};A.items.push(m),E.hasStack=!0,E.stackGroups[y]=A}else E.stackGroups[zA("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return kr(kr({},f),{},Rp({},_,E))},l),d={};return Object.keys(c).reduce(function(f,m){var g=c[m];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,b){var _=g.stackGroups[b];return kr(kr({},y),{},Rp({},b,{numericAxisId:n,cateAxisId:i,items:_.items,stackedData:Nbe(e,_.items,s)}))},x)}return kr(kr({},f),{},Rp({},m,g))},d)},jbe=function(e,t){var n=t.realScaleType,i=t.type,s=t.tickCount,a=t.originalDomain,o=t.allowDecimals,l=n||t.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=H0e(c,s,o);return e.domain([nE(d),rE(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),m=W0e(f,s,o);return{niceTicks:m}}return null},e6=function(e){var t=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(t.type==="category")return n[o]?n[o].coordinate+i:null;var l=To(a,t.dataKey,t.domain[o]);return Et(l)?null:t.scale(l)-s/2+i},Ibe=function(e){var t=e.numericAxis,n=t.scale.domain();if(t.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Mbe=function(e,t){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?kr(kr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Qr(s)){var a=t[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},Dbe=function(e){return e.reduce(function(t,n){return[nE(n.concat([t[0]]).filter(xe)),rE(n.concat([t[1]]).filter(xe))]},[1/0,-1/0])},hK=function(e,t,n){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,d){var f=Dbe(d.slice(t,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},t6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nj=function(e,t,n){if(st(e))return e(t,n);if(!Array.isArray(e))return t;var i=[];if(xe(e[0]))i[0]=n?e[0]:Math.min(e[0],t[0]);else if(t6.test(e[0])){var s=+t6.exec(e[0])[1];i[0]=t[0]-s}else st(e[0])?i[0]=e[0](t[0]):i[0]=t[0];if(xe(e[1]))i[1]=n?e[1]:Math.max(e[1],t[1]);else if(r6.test(e[1])){var a=+r6.exec(e[1])[1];i[1]=t[1]+a}else st(e[1])?i[1]=e[1](t[1]):i[1]=t[1];return i},kS=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&t&&t.length>=2){for(var s=_M(t,function(f){return f.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],d=s[o-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},n6=function(e,t,n){return!e||!e.length||VM(e,Ks(n,"type.defaultProps.domain"))?t:e},fK=function(e,t){var n=e.type.defaultProps?kr(kr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,a=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return kr(kr({},bt(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:YM(e),value:To(t,i),type:l,payload:t,chartType:c,hide:d})};function c0(r){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c0(r)}function i6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function s6(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(t),!0).forEach(function(n){Lbe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):i6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Lbe(r,e,t){return e=$be(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function $be(r){var e=Fbe(r,"string");return c0(e)=="symbol"?e:e+""}function Fbe(r,e){if(c0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(c0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var CS=Math.PI/180,Bbe=function(e){return e*180/Math.PI},jn=function(e,t,n,i){return{x:e+Math.cos(-CS*i)*n,y:t+Math.sin(-CS*i)*n}},Ube=function(e,t){var n=e.x,i=e.y,s=t.x,a=t.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-a,2))},zbe=function(e,t){var n=e.x,i=e.y,s=t.cx,a=t.cy,o=Ube({x:n,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(n-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:Bbe(c),angleInRadian:c}},qbe=function(e){var t=e.startAngle,n=e.endAngle,i=Math.floor(t/360),s=Math.floor(n/360),a=Math.min(i,s);return{startAngle:t-a*360,endAngle:n-a*360}},Hbe=function(e,t){var n=t.startAngle,i=t.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},a6=function(e,t){var n=e.x,i=e.y,s=zbe({x:n,y:i},t),a=s.radius,o=s.angle,l=t.innerRadius,c=t.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var d=qbe(t),f=d.startAngle,m=d.endAngle,g=o,x;if(f<=m){for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}else{for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}return x?s6(s6({},t),{},{radius:a,angle:Hbe(g,t)}):null};function u0(r){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(r)}var Wbe=["offset"];function Vbe(r){return Xbe(r)||Ybe(r)||Kbe(r)||Gbe()}function Gbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kbe(r,e){if(r){if(typeof r=="string")return Rj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rj(r,e)}}function Ybe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Xbe(r){if(Array.isArray(r))return Rj(r)}function Rj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Jbe(r,e){if(r==null)return{};var t=Qbe(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Qbe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function o6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Gr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(t),!0).forEach(function(n){Zbe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):o6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Zbe(r,e,t){return e=ewe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ewe(r){var e=twe(r,"string");return u0(e)=="symbol"?e:e+""}function twe(r,e){if(u0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(u0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function d0(){return d0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},d0.apply(this,arguments)}var rwe=function(e){var t=e.value,n=e.formatter,i=Et(e.children)?t:e.children;return st(n)?n(i):i},nwe=function(e,t){var n=Pa(t-e),i=Math.min(Math.abs(t-e),360);return n*i},iwe=function(e,t,n){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,d=l.cy,f=l.innerRadius,m=l.outerRadius,g=l.startAngle,x=l.endAngle,y=l.clockWise,b=(f+m)/2,_=nwe(g,x),E=_>=0?1:-1,A,C;i==="insideStart"?(A=g+E*a,C=y):i==="insideEnd"?(A=x-E*a,C=!y):i==="end"&&(A=x+E*a,C=y),C=_<=0?C:!C;var k=jn(c,d,b,A),P=jn(c,d,b,A+(C?1:-1)*359),j="M".concat(k.x,",").concat(k.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(P.x,",").concat(P.y),M=Et(e.id)?zA("recharts-radial-line-"):e.id;return W.createElement("text",d0({},n,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",o)}),W.createElement("defs",null,W.createElement("path",{id:M,d:j})),W.createElement("textPath",{xlinkHref:"#".concat(M)},t))},swe=function(e){var t=e.viewBox,n=e.offset,i=e.position,s=t,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(i==="outside"){var g=jn(a,o,c+n,m),x=g.x,y=g.y;return{x,y,textAnchor:x>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,_=jn(a,o,b,m),E=_.x,A=_.y;return{x:E,y:A,textAnchor:"middle",verticalAnchor:"middle"}},awe=function(e){var t=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,a=t,o=a.x,l=a.y,c=a.width,d=a.height,f=d>=0?1:-1,m=f*i,g=f>0?"end":"start",x=f>0?"start":"end",y=c>=0?1:-1,b=y*i,_=y>0?"end":"start",E=y>0?"start":"end";if(s==="top"){var A={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return Gr(Gr({},A),n?{height:Math.max(l-n.y,0),width:c}:{})}if(s==="bottom"){var C={x:o+c/2,y:l+d+m,textAnchor:"middle",verticalAnchor:x};return Gr(Gr({},C),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(s==="left"){var k={x:o-b,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return Gr(Gr({},k),n?{width:Math.max(k.x-n.x,0),height:d}:{})}if(s==="right"){var P={x:o+c+b,y:l+d/2,textAnchor:E,verticalAnchor:"middle"};return Gr(Gr({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:d}:{})}var j=n?{width:c,height:d}:{};return s==="insideLeft"?Gr({x:o+b,y:l+d/2,textAnchor:E,verticalAnchor:"middle"},j):s==="insideRight"?Gr({x:o+c-b,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},j):s==="insideTop"?Gr({x:o+c/2,y:l+m,textAnchor:"middle",verticalAnchor:x},j):s==="insideBottom"?Gr({x:o+c/2,y:l+d-m,textAnchor:"middle",verticalAnchor:g},j):s==="insideTopLeft"?Gr({x:o+b,y:l+m,textAnchor:E,verticalAnchor:x},j):s==="insideTopRight"?Gr({x:o+c-b,y:l+m,textAnchor:_,verticalAnchor:x},j):s==="insideBottomLeft"?Gr({x:o+b,y:l+d-m,textAnchor:E,verticalAnchor:g},j):s==="insideBottomRight"?Gr({x:o+c-b,y:l+d-m,textAnchor:_,verticalAnchor:g},j):Ug(s)&&(xe(s.x)||Nd(s.x))&&(xe(s.y)||Nd(s.y))?Gr({x:o+of(s.x,c),y:l+of(s.y,d),textAnchor:"end",verticalAnchor:"end"},j):Gr({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},owe=function(e){return"cx"in e&&xe(e.cx)};function Xn(r){var e=r.offset,t=e===void 0?5:e,n=Jbe(r,Wbe),i=Gr({offset:t},n),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,m=i.textBreakAll;if(!s||Et(o)&&Et(l)&&!R.isValidElement(c)&&!st(c))return null;if(R.isValidElement(c))return R.cloneElement(c,i);var g;if(st(c)){if(g=R.createElement(c,i),R.isValidElement(g))return g}else g=rwe(i);var x=owe(s),y=bt(i,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return iwe(i,g,y);var b=x?swe(i):awe(i);return W.createElement(hS,d0({className:pt("recharts-label",f)},y,b,{breakAll:m}),g)}Xn.displayName="Label";var pK=function(e){var t=e.cx,n=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,g=e.top,x=e.left,y=e.width,b=e.height,_=e.clockWise,E=e.labelViewBox;if(E)return E;if(xe(y)&&xe(b)){if(xe(f)&&xe(m))return{x:f,y:m,width:y,height:b};if(xe(g)&&xe(x))return{x:g,y:x,width:y,height:b}}return xe(f)&&xe(m)?{x:f,y:m,width:0,height:0}:xe(t)&&xe(n)?{cx:t,cy:n,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:_}:e.viewBox?e.viewBox:{}},lwe=function(e,t){return e?e===!0?W.createElement(Xn,{key:"label-implicit",viewBox:t}):Qr(e)?W.createElement(Xn,{key:"label-implicit",viewBox:t,value:e}):R.isValidElement(e)?e.type===Xn?R.cloneElement(e,{key:"label-implicit",viewBox:t}):W.createElement(Xn,{key:"label-implicit",content:e,viewBox:t}):st(e)?W.createElement(Xn,{key:"label-implicit",content:e,viewBox:t}):Ug(e)?W.createElement(Xn,d0({viewBox:t},e,{key:"label-implicit"})):null:null},cwe=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=pK(e),a=Na(i,Xn).map(function(l,c){return R.cloneElement(l,{viewBox:t||s,key:"label-".concat(c)})});if(!n)return a;var o=lwe(e.label,t||s);return[o].concat(Vbe(a))};Xn.parseViewBox=pK;Xn.renderCallByParent=cwe;var fN,l6;function uwe(){if(l6)return fN;l6=1;function r(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return fN=r,fN}var dwe=uwe();const hwe=$t(dwe);function h0(r){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(r)}var fwe=["valueAccessor"],pwe=["data","dataKey","clockWise","id","textBreakAll"];function mwe(r){return bwe(r)||ywe(r)||vwe(r)||gwe()}function gwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vwe(r,e){if(r){if(typeof r=="string")return jj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jj(r,e)}}function ywe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function bwe(r){if(Array.isArray(r))return jj(r)}function jj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function TS(){return TS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},TS.apply(this,arguments)}function c6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function u6(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?c6(Object(t),!0).forEach(function(n){wwe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):c6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function wwe(r,e,t){return e=xwe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xwe(r){var e=_we(r,"string");return h0(e)=="symbol"?e:e+""}function _we(r,e){if(h0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(h0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function d6(r,e){if(r==null)return{};var t=Swe(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Swe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var Awe=function(e){return Array.isArray(e.value)?hwe(e.value):e.value};function Qh(r){var e=r.valueAccessor,t=e===void 0?Awe:e,n=d6(r,fwe),i=n.data,s=n.dataKey,a=n.clockWise,o=n.id,l=n.textBreakAll,c=d6(n,pwe);return!i||!i.length?null:W.createElement(mn,{className:"recharts-label-list"},i.map(function(d,f){var m=Et(s)?t(d,f):To(d&&d.payload,s),g=Et(o)?{}:{id:"".concat(o,"-").concat(f)};return W.createElement(Xn,TS({},bt(d,!0),c,g,{parentViewBox:d.parentViewBox,value:m,textBreakAll:l,viewBox:Xn.parseViewBox(Et(a)?d:u6(u6({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Qh.displayName="LabelList";function Ewe(r,e){return r?r===!0?W.createElement(Qh,{key:"labelList-implicit",data:e}):W.isValidElement(r)||st(r)?W.createElement(Qh,{key:"labelList-implicit",data:e,content:r}):Ug(r)?W.createElement(Qh,TS({data:e},r,{key:"labelList-implicit"})):null:null}function kwe(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&t&&!r.label)return null;var n=r.children,i=Na(n,Qh).map(function(a,o){return R.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!t)return i;var s=Ewe(r.label,e);return[s].concat(mwe(i))}Qh.renderCallByParent=kwe;function f0(r){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(r)}function Ij(){return Ij=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ij.apply(this,arguments)}function h6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function f6(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(t),!0).forEach(function(n){Cwe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):h6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Cwe(r,e,t){return e=Twe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Twe(r){var e=Pwe(r,"string");return f0(e)=="symbol"?e:e+""}function Pwe(r,e){if(f0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(f0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Owe=function(e,t){var n=Pa(t-e),i=Math.min(Math.abs(t-e),359.999);return n*i},O_=function(e){var t=e.cx,n=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/CS,m=c?s:s+a*f,g=jn(t,n,d,m),x=jn(t,n,i,m),y=c?s-a*f:s,b=jn(t,n,d*Math.cos(f*CS),y);return{center:g,circleTangency:x,lineTangency:b,theta:f}},mK=function(e){var t=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=Owe(a,o),c=a+l,d=jn(t,n,s,a),f=jn(t,n,s,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=jn(t,n,i,a),x=jn(t,n,i,c);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},Nwe=function(e){var t=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=Pa(d-c),m=O_({cx:t,cy:n,radius:s,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),g=m.circleTangency,x=m.lineTangency,y=m.theta,b=O_({cx:t,cy:n,radius:s,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),_=b.circleTangency,E=b.lineTangency,A=b.theta,C=l?Math.abs(c-d):Math.abs(c-d)-y-A;if(C<0)return o?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):mK({cx:t,cy:n,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d});var k="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var P=O_({cx:t,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),j=P.circleTangency,M=P.lineTangency,$=P.theta,U=O_({cx:t,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),F=U.circleTangency,z=U.lineTangency,V=U.theta,X=l?Math.abs(c-d):Math.abs(c-d)-$-V;if(X<0&&a===0)return"".concat(k,"L").concat(t,",").concat(n,"Z");k+="L".concat(z.x,",").concat(z.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(X>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,"Z")}else k+="L".concat(t,",").concat(n,"Z");return k},Rwe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gK=function(e){var t=f6(f6({},Rwe),e),n=t.cx,i=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,f=t.endAngle,m=t.className;if(a<s||d===f)return null;var g=pt("recharts-sector",m),x=a-s,y=of(o,x,0,!0),b;return y>0&&Math.abs(d-f)<360?b=Nwe({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(y,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):b=mK({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:f}),W.createElement("path",Ij({},bt(t,!0),{className:g,d:b,role:"img"}))};function p0(r){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(r)}function Mj(){return Mj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Mj.apply(this,arguments)}function p6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function m6(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(t),!0).forEach(function(n){jwe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):p6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function jwe(r,e,t){return e=Iwe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Iwe(r){var e=Mwe(r,"string");return p0(e)=="symbol"?e:e+""}function Mwe(r,e){if(p0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(p0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var g6={curveBasisClosed:efe,curveBasisOpen:tfe,curveBasis:Zhe,curveBumpX:Fhe,curveBumpY:Bhe,curveLinearClosed:rfe,curveLinear:WA,curveMonotoneX:nfe,curveMonotoneY:ife,curveNatural:sfe,curveStep:afe,curveStepAfter:lfe,curveStepBefore:ofe},N_=function(e){return e.x===+e.x&&e.y===+e.y},Hv=function(e){return e.x},Wv=function(e){return e.y},Dwe=function(e,t){if(st(e))return e;var n="curve".concat(qA(e));return(n==="curveMonotone"||n==="curveBump")&&t?g6["".concat(n).concat(t==="vertical"?"Y":"X")]:g6[n]||WA},Lwe=function(e){var t=e.type,n=t===void 0?"linear":t,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=Dwe(n,o),f=c?s.filter(function(y){return N_(y)}):s,m;if(Array.isArray(a)){var g=c?a.filter(function(y){return N_(y)}):a,x=f.map(function(y,b){return m6(m6({},y),{},{base:g[b]})});return o==="vertical"?m=__().y(Wv).x1(Hv).x0(function(y){return y.base.x}):m=__().x(Hv).y1(Wv).y0(function(y){return y.base.y}),m.defined(N_).curve(d),m(x)}return o==="vertical"&&xe(a)?m=__().y(Wv).x1(Hv).x0(a):xe(a)?m=__().x(Hv).y1(Wv).y0(a):m=w7().x(Hv).y(Wv),m.defined(N_).curve(d),m(f)},v6=function(e){var t=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?Lwe(e):i;return W.createElement("path",Mj({},bt(e,!1),eS(e),{className:pt("recharts-curve",t),d:a,ref:s}))},pN={exports:{}},mN,y6;function $we(){if(y6)return mN;y6=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mN=r,mN}var gN,b6;function Fwe(){if(b6)return gN;b6=1;var r=$we();function e(){}function t(){}return t.resetWarningCache=e,gN=function(){function n(a,o,l,c,d,f){if(f!==r){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},gN}var w6;function Bwe(){return w6||(w6=1,pN.exports=Fwe()()),pN.exports}var Uwe=Bwe();const At=$t(Uwe),{getOwnPropertyNames:zwe,getOwnPropertySymbols:qwe}=Object,{hasOwnProperty:Hwe}=Object.prototype;function vN(r,e){return function(n,i,s){return r(n,i,s)&&e(n,i,s)}}function R_(r){return function(t,n,i){if(!t||!n||typeof t!="object"||typeof n!="object")return r(t,n,i);const{cache:s}=i,a=s.get(t),o=s.get(n);if(a&&o)return a===n&&o===t;s.set(t,n),s.set(n,t);const l=r(t,n,i);return s.delete(t),s.delete(n),l}}function Wwe(r){return r!=null?r[Symbol.toStringTag]:void 0}function x6(r){return zwe(r).concat(qwe(r))}const Vwe=Object.hasOwn||((r,e)=>Hwe.call(r,e));function vf(r,e){return r===e||!r&&!e&&r!==r&&e!==e}const Gwe="__v",Kwe="__o",Ywe="_owner",{getOwnPropertyDescriptor:_6,keys:S6}=Object;function Xwe(r,e){return r.byteLength===e.byteLength&&PS(new Uint8Array(r),new Uint8Array(e))}function Jwe(r,e,t){let n=r.length;if(e.length!==n)return!1;for(;n-- >0;)if(!t.equals(r[n],e[n],n,n,r,e,t))return!1;return!0}function Qwe(r,e){return r.byteLength===e.byteLength&&PS(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Zwe(r,e){return vf(r.getTime(),e.getTime())}function exe(r,e){return r.name===e.name&&r.message===e.message&&r.cause===e.cause&&r.stack===e.stack}function txe(r,e){return r===e}function A6(r,e,t){const n=r.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),s=r.entries();let a,o,l=0;for(;(a=s.next())&&!a.done;){const c=e.entries();let d=!1,f=0;for(;(o=c.next())&&!o.done;){if(i[f]){f++;continue}const m=a.value,g=o.value;if(t.equals(m[0],g[0],l,f,r,e,t)&&t.equals(m[1],g[1],m[0],g[0],r,e,t)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}const rxe=vf;function nxe(r,e,t){const n=S6(r);let i=n.length;if(S6(e).length!==i)return!1;for(;i-- >0;)if(!vK(r,e,t,n[i]))return!1;return!0}function Vv(r,e,t){const n=x6(r);let i=n.length;if(x6(e).length!==i)return!1;let s,a,o;for(;i-- >0;)if(s=n[i],!vK(r,e,t,s)||(a=_6(r,s),o=_6(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function ixe(r,e){return vf(r.valueOf(),e.valueOf())}function sxe(r,e){return r.source===e.source&&r.flags===e.flags}function E6(r,e,t){const n=r.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),s=r.values();let a,o;for(;(a=s.next())&&!a.done;){const l=e.values();let c=!1,d=0;for(;(o=l.next())&&!o.done;){if(!i[d]&&t.equals(a.value,o.value,a.value,o.value,r,e,t)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function PS(r,e){let t=r.byteLength;if(e.byteLength!==t||r.byteOffset!==e.byteOffset)return!1;for(;t-- >0;)if(r[t]!==e[t])return!1;return!0}function axe(r,e){return r.hostname===e.hostname&&r.pathname===e.pathname&&r.protocol===e.protocol&&r.port===e.port&&r.hash===e.hash&&r.username===e.username&&r.password===e.password}function vK(r,e,t,n){return(n===Ywe||n===Kwe||n===Gwe)&&(r.$$typeof||e.$$typeof)?!0:Vwe(e,n)&&t.equals(r[n],e[n],n,n,r,e,t)}const oxe="[object ArrayBuffer]",lxe="[object Arguments]",cxe="[object Boolean]",uxe="[object DataView]",dxe="[object Date]",hxe="[object Error]",fxe="[object Map]",pxe="[object Number]",mxe="[object Object]",gxe="[object RegExp]",vxe="[object Set]",yxe="[object String]",bxe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},wxe="[object URL]",xxe=Object.prototype.toString;function _xe({areArrayBuffersEqual:r,areArraysEqual:e,areDataViewsEqual:t,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:a,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:m,areUrlsEqual:g,unknownTagComparators:x}){return function(b,_,E){if(b===_)return!0;if(b==null||_==null)return!1;const A=typeof b;if(A!==typeof _)return!1;if(A!=="object")return A==="number"?o(b,_,E):A==="function"?s(b,_,E):!1;const C=b.constructor;if(C!==_.constructor)return!1;if(C===Object)return l(b,_,E);if(Array.isArray(b))return e(b,_,E);if(C===Date)return n(b,_,E);if(C===RegExp)return d(b,_,E);if(C===Map)return a(b,_,E);if(C===Set)return f(b,_,E);const k=xxe.call(b);if(k===dxe)return n(b,_,E);if(k===gxe)return d(b,_,E);if(k===fxe)return a(b,_,E);if(k===vxe)return f(b,_,E);if(k===mxe)return typeof b.then!="function"&&typeof _.then!="function"&&l(b,_,E);if(k===wxe)return g(b,_,E);if(k===hxe)return i(b,_,E);if(k===lxe)return l(b,_,E);if(bxe[k])return m(b,_,E);if(k===oxe)return r(b,_,E);if(k===uxe)return t(b,_,E);if(k===cxe||k===pxe||k===yxe)return c(b,_,E);if(x){let P=x[k];if(!P){const j=Wwe(b);j&&(P=x[j])}if(P)return P(b,_,E)}return!1}}function Sxe({circular:r,createCustomConfig:e,strict:t}){let n={areArrayBuffersEqual:Xwe,areArraysEqual:t?Vv:Jwe,areDataViewsEqual:Qwe,areDatesEqual:Zwe,areErrorsEqual:exe,areFunctionsEqual:txe,areMapsEqual:t?vN(A6,Vv):A6,areNumbersEqual:rxe,areObjectsEqual:t?Vv:nxe,arePrimitiveWrappersEqual:ixe,areRegExpsEqual:sxe,areSetsEqual:t?vN(E6,Vv):E6,areTypedArraysEqual:t?vN(PS,Vv):PS,areUrlsEqual:axe,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),r){const i=R_(n.areArraysEqual),s=R_(n.areMapsEqual),a=R_(n.areObjectsEqual),o=R_(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:o})}return n}function Axe(r){return function(e,t,n,i,s,a,o){return r(e,t,o)}}function Exe({circular:r,comparator:e,createState:t,equals:n,strict:i}){if(t)return function(o,l){const{cache:c=r?new WeakMap:void 0,meta:d}=t();return e(o,l,{cache:c,equals:n,meta:d,strict:i})};if(r)return function(o,l){return e(o,l,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const s={cache:void 0,equals:n,meta:void 0,strict:i};return function(o,l){return e(o,l,s)}}const kxe=Gu();Gu({strict:!0});Gu({circular:!0});Gu({circular:!0,strict:!0});Gu({createInternalComparator:()=>vf});Gu({strict:!0,createInternalComparator:()=>vf});Gu({circular:!0,createInternalComparator:()=>vf});Gu({circular:!0,createInternalComparator:()=>vf,strict:!0});function Gu(r={}){const{circular:e=!1,createInternalComparator:t,createState:n,strict:i=!1}=r,s=Sxe(r),a=_xe(s),o=t?t(a):Axe(a);return Exe({circular:e,comparator:a,createState:n,equals:o,strict:i})}function Cxe(r){typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}function k6(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=-1,n=function i(s){t<0&&(t=s),s-t>e?(r(s),t=-1):Cxe(i)};requestAnimationFrame(n)}function Dj(r){"@babel/helpers - typeof";return Dj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dj(r)}function Txe(r){return Rxe(r)||Nxe(r)||Oxe(r)||Pxe()}function Pxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oxe(r,e){if(r){if(typeof r=="string")return C6(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C6(r,e)}}function C6(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Nxe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Rxe(r){if(Array.isArray(r))return r}function jxe(){var r={},e=function(){return null},t=!1,n=function i(s){if(!t){if(Array.isArray(s)){if(!s.length)return;var a=s,o=Txe(a),l=o[0],c=o.slice(1);if(typeof l=="number"){k6(i.bind(null,c),l);return}i(l),k6(i.bind(null,c));return}Dj(s)==="object"&&(r=s,e(r)),typeof s=="function"&&s()}};return{stop:function(){t=!0},start:function(s){t=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function m0(r){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m0(r)}function T6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function P6(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T6(Object(t),!0).forEach(function(n){yK(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):T6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function yK(r,e,t){return e=Ixe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ixe(r){var e=Mxe(r,"string");return m0(e)==="symbol"?e:String(e)}function Mxe(r,e){if(m0(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(m0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Dxe=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},Lxe=function(e){return e},$xe=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},Ty=function(e,t){return Object.keys(t).reduce(function(n,i){return P6(P6({},n),{},yK({},i,e(i,t[i])))},{})},O6=function(e,t,n){return e.map(function(i){return"".concat($xe(i)," ").concat(t,"ms ").concat(n)}).join(",")};function Fxe(r,e){return zxe(r)||Uxe(r,e)||bK(r,e)||Bxe()}function Bxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uxe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function zxe(r){if(Array.isArray(r))return r}function qxe(r){return Vxe(r)||Wxe(r)||bK(r)||Hxe()}function Hxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bK(r,e){if(r){if(typeof r=="string")return Lj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lj(r,e)}}function Wxe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Vxe(r){if(Array.isArray(r))return Lj(r)}function Lj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var OS=1e-4,wK=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},xK=function(e,t){return e.map(function(n,i){return n*Math.pow(t,i)}).reduce(function(n,i){return n+i})},N6=function(e,t){return function(n){var i=wK(e,t);return xK(i,n)}},Gxe=function(e,t){return function(n){var i=wK(e,t),s=[].concat(qxe(i.map(function(a,o){return a*o}).slice(1)),[0]);return xK(s,n)}},R6=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],s=t[1],a=t[2],o=t[3];if(t.length===1)switch(t[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=t[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=Fxe(c,4);i=d[0],s=d[1],a=d[2],o=d[3]}}}var f=N6(i,a),m=N6(s,o),g=Gxe(i,a),x=function(_){return _>1?1:_<0?0:_},y=function(_){for(var E=_>1?1:_,A=E,C=0;C<8;++C){var k=f(A)-E,P=g(A);if(Math.abs(k-E)<OS||P<OS)return m(A);A=x(A-k/P)}return m(A)};return y.isStepper=!1,y},Kxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,n=t===void 0?100:t,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(d,f,m){var g=-(d-f)*n,x=m*s,y=m+(g-x)*o/1e3,b=m*o/1e3+d;return Math.abs(b-f)<OS&&Math.abs(y)<OS?[f,0]:[b,y]};return l.isStepper=!0,l.dt=o,l},Yxe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return R6(i);case"spring":return Kxe();default:if(i.split("(")[0]==="cubic-bezier")return R6(i)}return typeof i=="function"?i:null};function g0(r){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g0(r)}function j6(r){return Qxe(r)||Jxe(r)||_K(r)||Xxe()}function Xxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jxe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Qxe(r){if(Array.isArray(r))return Fj(r)}function I6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Tn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I6(Object(t),!0).forEach(function(n){$j(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):I6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function $j(r,e,t){return e=Zxe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Zxe(r){var e=e_e(r,"string");return g0(e)==="symbol"?e:String(e)}function e_e(r,e){if(g0(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(g0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function t_e(r,e){return i_e(r)||n_e(r,e)||_K(r,e)||r_e()}function r_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _K(r,e){if(r){if(typeof r=="string")return Fj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fj(r,e)}}function Fj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function n_e(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function i_e(r){if(Array.isArray(r))return r}var NS=function(e,t,n){return e+(t-e)*n},Bj=function(e){var t=e.from,n=e.to;return t!==n},s_e=function r(e,t,n){var i=Ty(function(s,a){if(Bj(a)){var o=e(a.from,a.to,a.velocity),l=t_e(o,2),c=l[0],d=l[1];return Tn(Tn({},a),{},{from:c,velocity:d})}return a},t);return n<1?Ty(function(s,a){return Bj(a)?Tn(Tn({},a),{},{velocity:NS(a.velocity,i[s].velocity,n),from:NS(a.from,i[s].from,n)}):a},t):r(e,i,n-1)};const a_e=(function(r,e,t,n,i){var s=Dxe(r,e),a=s.reduce(function(b,_){return Tn(Tn({},b),{},$j({},_,[r[_],e[_]]))},{}),o=s.reduce(function(b,_){return Tn(Tn({},b),{},$j({},_,{from:r[_],velocity:0,to:e[_]}))},{}),l=-1,c,d,f=function(){return null},m=function(){return Ty(function(_,E){return E.from},o)},g=function(){return!Object.values(o).filter(Bj).length},x=function(_){c||(c=_);var E=_-c,A=E/t.dt;o=s_e(t,o,A),i(Tn(Tn(Tn({},r),e),m())),c=_,g()||(l=requestAnimationFrame(f))},y=function(_){d||(d=_);var E=(_-d)/n,A=Ty(function(k,P){return NS.apply(void 0,j6(P).concat([t(E)]))},a);if(i(Tn(Tn(Tn({},r),e),A)),E<1)l=requestAnimationFrame(f);else{var C=Ty(function(k,P){return NS.apply(void 0,j6(P).concat([t(1)]))},a);i(Tn(Tn(Tn({},r),e),C))}};return f=t.isStepper?x:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}});function vg(r){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(r)}var o_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function l_e(r,e){if(r==null)return{};var t=c_e(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function c_e(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function yN(r){return f_e(r)||h_e(r)||d_e(r)||u_e()}function u_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d_e(r,e){if(r){if(typeof r=="string")return Uj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Uj(r,e)}}function h_e(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function f_e(r){if(Array.isArray(r))return Uj(r)}function Uj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function M6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function oa(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(t),!0).forEach(function(n){by(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):M6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function by(r,e,t){return e=SK(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function p_e(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function m_e(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,SK(n.key),n)}}function g_e(r,e,t){return e&&m_e(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function SK(r){var e=v_e(r,"string");return vg(e)==="symbol"?e:String(e)}function v_e(r,e){if(vg(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(vg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function y_e(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&zj(r,e)}function zj(r,e){return zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zj(r,e)}function b_e(r){var e=w_e();return function(){var n=RS(r),i;if(e){var s=RS(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return qj(this,i)}}function qj(r,e){if(e&&(vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hj(r)}function Hj(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function w_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function RS(r){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},RS(r)}var Lu=(function(r){y_e(t,r);var e=b_e(t);function t(n,i){var s;p_e(this,t),s=e.call(this,n,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,d=a.to,f=a.steps,m=a.children,g=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Hj(s)),s.changeStyle=s.changeStyle.bind(Hj(s)),!o||g<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),qj(s);if(f&&f.length)s.state={style:f[0].style};else if(c){if(typeof m=="function")return s.state={style:c},qj(s);s.state={style:l?by({},l,c):c}}else s.state={style:{}};return s}return g_e(t,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(o){if(!a){var g={style:l?by({},l,d):d};this.state&&m&&(l&&m[l]!==d||!l&&m!==d)&&this.setState(g);return}if(!(kxe(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=x||c?f:i.to;if(this.state&&m){var b={style:l?by({},l,y):y};(l&&m[l]!==y||!l&&m!==y)&&this.setState(b)}this.runAnimation(oa(oa({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,m=i.onAnimationStart,g=a_e(a,o,Yxe(c),l,this.changeStyle),x=function(){s.stopJSAnimation=g()};this.manager.start([m,d,x,l,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],d=c.style,f=c.duration,m=f===void 0?0:f,g=function(y,b,_){if(_===0)return y;var E=b.duration,A=b.easing,C=A===void 0?"ease":A,k=b.style,P=b.properties,j=b.onAnimationEnd,M=_>0?a[_-1]:b,$=P||Object.keys(k);if(typeof C=="function"||C==="spring")return[].concat(yN(y),[s.runJSAnimation.bind(s,{from:M.style,to:k,duration:E,easing:C}),E]);var U=O6($,E,C),F=oa(oa(oa({},M.style),k),{},{transition:U});return[].concat(yN(y),[F,E,j]).filter(Lxe)};return this.manager.start([l].concat(yN(a.reduce(g,[d,Math.max(m,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=jxe());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,m=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var y=o?by({},o,l):l,b=O6(Object.keys(y),a,c);x.start([d,s,oa(oa({},y),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=l_e(i,o_e),c=R.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||c===0||a<=0)return s;var f=function(g){var x=g.props,y=x.style,b=y===void 0?{}:y,_=x.className,E=R.cloneElement(g,oa(oa({},l),{},{style:oa(oa({},b),d),className:_}));return E};return c===1?f(R.Children.only(s)):W.createElement("div",null,R.Children.map(s,function(m){return f(m)}))}}]),t})(R.PureComponent);Lu.displayName="Animate";Lu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Lu.propTypes={from:At.oneOfType([At.object,At.string]),to:At.oneOfType([At.object,At.string]),attributeName:At.string,duration:At.number,begin:At.number,easing:At.oneOfType([At.string,At.func]),steps:At.arrayOf(At.shape({duration:At.number.isRequired,style:At.object.isRequired,easing:At.oneOfType([At.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),At.func]),properties:At.arrayOf("string"),onAnimationEnd:At.func})),children:At.oneOfType([At.node,At.func]),isActive:At.bool,canBegin:At.bool,onAnimationEnd:At.func,shouldReAnimate:At.bool,onAnimationStart:At.func,onAnimationReStart:At.func};function v0(r){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v0(r)}function jS(){return jS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},jS.apply(this,arguments)}function x_e(r,e){return E_e(r)||A_e(r,e)||S_e(r,e)||__e()}function __e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S_e(r,e){if(r){if(typeof r=="string")return D6(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D6(r,e)}}function D6(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function A_e(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function E_e(r){if(Array.isArray(r))return r}function L6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $6(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(t),!0).forEach(function(n){k_e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):L6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function k_e(r,e,t){return e=C_e(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function C_e(r){var e=T_e(r,"string");return v0(e)=="symbol"?e:e+""}function T_e(r,e){if(v0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(v0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var F6=function(e,t,n,i,s){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,d;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,g=4;m<g;m++)f[m]=s[m]>a?a:s[m];d="M".concat(e,",").concat(t+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(t)),d+="L ".concat(e+n-l*f[1],",").concat(t),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+o*f[1])),d+="L ".concat(e+n,",").concat(t+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(t+i)),d+="L ".concat(e+l*f[3],",").concat(t+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+i-o*f[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var x=Math.min(a,s);d="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+l*x,",").concat(t,`
            L `).concat(e+n-l*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*x,`
            L `).concat(e+n,",").concat(t+i-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+n-l*x,",").concat(t+i,`
            L `).concat(e+l*x,",").concat(t+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e,",").concat(t+i-o*x," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},P_e=function(e,t){if(!e||!t)return!1;var n=e.x,i=e.y,s=t.x,a=t.y,o=t.width,l=t.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),d=Math.max(s,s+o),f=Math.min(a,a+l),m=Math.max(a,a+l);return n>=c&&n<=d&&i>=f&&i<=m}return!1},O_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XM=function(e){var t=$6($6({},O_e),e),n=R.useRef(),i=R.useState(-1),s=x_e(i,2),a=s[0],o=s[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&o(C)}catch{}},[]);var l=t.x,c=t.y,d=t.width,f=t.height,m=t.radius,g=t.className,x=t.animationEasing,y=t.animationDuration,b=t.animationBegin,_=t.isAnimationActive,E=t.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var A=pt("recharts-rectangle",g);return E?W.createElement(Lu,{canBegin:a>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:y,animationEasing:x,isActive:E},function(C){var k=C.width,P=C.height,j=C.x,M=C.y;return W.createElement(Lu,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:_,easing:x},W.createElement("path",jS({},bt(t,!0),{className:A,d:F6(j,M,k,P,m),ref:n})))}):W.createElement("path",jS({},bt(t,!0),{className:A,d:F6(l,c,d,f,m)}))};function Wj(){return Wj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Wj.apply(this,arguments)}var AK=function(e){var t=e.cx,n=e.cy,i=e.r,s=e.className,a=pt("recharts-dot",s);return t===+t&&n===+n&&i===+i?W.createElement("circle",Wj({},bt(e,!1),eS(e),{className:a,cx:t,cy:n,r:i})):null};function y0(r){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(r)}var N_e=["x","y","top","left","width","height","className"];function Vj(){return Vj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Vj.apply(this,arguments)}function B6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function R_e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B6(Object(t),!0).forEach(function(n){j_e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):B6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function j_e(r,e,t){return e=I_e(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function I_e(r){var e=M_e(r,"string");return y0(e)=="symbol"?e:e+""}function M_e(r,e){if(y0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function D_e(r,e){if(r==null)return{};var t=L_e(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function L_e(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var $_e=function(e,t,n,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(t,"h").concat(n)},F_e=function(e){var t=e.x,n=t===void 0?0:t,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,m=e.height,g=m===void 0?0:m,x=e.className,y=D_e(e,N_e),b=R_e({x:n,y:s,top:o,left:c,width:f,height:g},y);return!xe(n)||!xe(s)||!xe(f)||!xe(g)||!xe(o)||!xe(c)?null:W.createElement("path",Vj({},bt(b,!0),{className:pt("recharts-cross",x),d:$_e(n,s,f,g,o,c)}))},bN,U6;function B_e(){if(U6)return bN;U6=1;var r=q7(),e=r(Object.getPrototypeOf,Object);return bN=e,bN}var wN,z6;function U_e(){if(z6)return wN;z6=1;var r=ec(),e=B_e(),t=tc(),n="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,l=a.call(Object);function c(d){if(!t(d)||r(d)!=n)return!1;var f=e(d);if(f===null)return!0;var m=o.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&a.call(m)==l}return wN=c,wN}var z_e=U_e();const q_e=$t(z_e);var xN,q6;function H_e(){if(q6)return xN;q6=1;var r=ec(),e=tc(),t="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&r(i)==t}return xN=n,xN}var W_e=H_e();const V_e=$t(W_e);function b0(r){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(r)}function IS(){return IS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},IS.apply(this,arguments)}function G_e(r,e){return J_e(r)||X_e(r,e)||Y_e(r,e)||K_e()}function K_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y_e(r,e){if(r){if(typeof r=="string")return H6(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H6(r,e)}}function H6(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function X_e(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function J_e(r){if(Array.isArray(r))return r}function W6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function V6(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(t),!0).forEach(function(n){Q_e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):W6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Q_e(r,e,t){return e=Z_e(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Z_e(r){var e=e1e(r,"string");return b0(e)=="symbol"?e:e+""}function e1e(r,e){if(b0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(b0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var G6=function(e,t,n,i,s){var a=n-i,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+s),o+="L ".concat(e+n-a/2-i,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},t1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r1e=function(e){var t=V6(V6({},t1e),e),n=R.useRef(),i=R.useState(-1),s=G_e(i,2),a=s[0],o=s[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&o(A)}catch{}},[]);var l=t.x,c=t.y,d=t.upperWidth,f=t.lowerWidth,m=t.height,g=t.className,x=t.animationEasing,y=t.animationDuration,b=t.animationBegin,_=t.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var E=pt("recharts-trapezoid",g);return _?W.createElement(Lu,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:m,x:l,y:c},duration:y,animationEasing:x,isActive:_},function(A){var C=A.upperWidth,k=A.lowerWidth,P=A.height,j=A.x,M=A.y;return W.createElement(Lu,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:x},W.createElement("path",IS({},bt(t,!0),{className:E,d:G6(j,M,C,k,P),ref:n})))}):W.createElement("g",null,W.createElement("path",IS({},bt(t,!0),{className:E,d:G6(l,c,d,f,m)})))},n1e=["option","shapeType","propTransformer","activeClassName","isActive"];function w0(r){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(r)}function i1e(r,e){if(r==null)return{};var t=s1e(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function s1e(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function K6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function MS(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(t),!0).forEach(function(n){a1e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):K6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function a1e(r,e,t){return e=o1e(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function o1e(r){var e=l1e(r,"string");return w0(e)=="symbol"?e:e+""}function l1e(r,e){if(w0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(w0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function c1e(r,e){return MS(MS({},e),r)}function u1e(r,e){return r==="symbols"}function Y6(r){var e=r.shapeType,t=r.elementProps;switch(e){case"rectangle":return W.createElement(XM,t);case"trapezoid":return W.createElement(r1e,t);case"sector":return W.createElement(gK,t);case"symbols":if(u1e(e))return W.createElement(pM,t);break;default:return null}}function d1e(r){return R.isValidElement(r)?r.props:r}function h1e(r){var e=r.option,t=r.shapeType,n=r.propTransformer,i=n===void 0?c1e:n,s=r.activeClassName,a=s===void 0?"recharts-active-shape":s,o=r.isActive,l=i1e(r,n1e),c;if(R.isValidElement(e))c=R.cloneElement(e,MS(MS({},l),d1e(e)));else if(st(e))c=e(l);else if(q_e(e)&&!V_e(e)){var d=i(e,l);c=W.createElement(Y6,{shapeType:t,elementProps:d})}else{var f=l;c=W.createElement(Y6,{shapeType:t,elementProps:f})}return o?W.createElement(mn,{className:a},c):c}function oE(r,e){return e!=null&&"trapezoids"in r.props}function lE(r,e){return e!=null&&"sectors"in r.props}function x0(r,e){return e!=null&&"points"in r.props}function f1e(r,e){var t,n,i=r.x===(e==null||(t=e.labelViewBox)===null||t===void 0?void 0:t.x)||r.x===e.x,s=r.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||r.y===e.y;return i&&s}function p1e(r,e){var t=r.endAngle===e.endAngle,n=r.startAngle===e.startAngle;return t&&n}function m1e(r,e){var t=r.x===e.x,n=r.y===e.y,i=r.z===e.z;return t&&n&&i}function g1e(r,e){var t;return oE(r,e)?t=f1e:lE(r,e)?t=p1e:x0(r,e)&&(t=m1e),t}function v1e(r,e){var t;return oE(r,e)?t="trapezoids":lE(r,e)?t="sectors":x0(r,e)&&(t="points"),t}function y1e(r,e){if(oE(r,e)){var t;return(t=e.tooltipPayload)===null||t===void 0||(t=t[0])===null||t===void 0||(t=t.payload)===null||t===void 0?void 0:t.payload}if(lE(r,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return x0(r,e)?e.payload:{}}function b1e(r){var e=r.activeTooltipItem,t=r.graphicalItem,n=r.itemData,i=v1e(t,e),s=y1e(t,e),a=n.filter(function(l,c){var d=VM(s,l),f=t.props[i].filter(function(x){var y=g1e(t,e);return y(x,e)}),m=t.props[i].indexOf(f[f.length-1]),g=c===m;return d&&g}),o=n.indexOf(a[a.length-1]);return o}var _N,X6;function w1e(){if(X6)return _N;X6=1;var r=Math.ceil,e=Math.max;function t(n,i,s,a){for(var o=-1,l=e(r((i-n)/(s||1)),0),c=Array(l);l--;)c[a?l:++o]=n,n+=s;return c}return _N=t,_N}var SN,J6;function EK(){if(J6)return SN;J6=1;var r=s9(),e=1/0,t=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=r(i),i===e||i===-e){var s=i<0?-1:1;return s*t}return i===i?i:0}return SN=n,SN}var AN,Q6;function x1e(){if(Q6)return AN;Q6=1;var r=w1e(),e=YA(),t=EK();function n(i){return function(s,a,o){return o&&typeof o!="number"&&e(s,a,o)&&(a=o=void 0),s=t(s),a===void 0?(a=s,s=0):a=t(a),o=o===void 0?s<a?1:-1:t(o),r(s,a,o,i)}}return AN=n,AN}var EN,Z6;function _1e(){if(Z6)return EN;Z6=1;var r=x1e(),e=r();return EN=e,EN}var S1e=_1e();const DS=$t(S1e);function _0(r){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(r)}function e8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function t8(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?e8(Object(t),!0).forEach(function(n){kK(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):e8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function kK(r,e,t){return e=A1e(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function A1e(r){var e=E1e(r,"string");return _0(e)=="symbol"?e:e+""}function E1e(r,e){if(_0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(_0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var k1e=["Webkit","Moz","O","ms"],C1e=function(e,t){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=k1e.reduce(function(s,a){return t8(t8({},s),{},kK({},a+n,t))},{});return i[e]=t,i};function yg(r){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(r)}function LS(){return LS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},LS.apply(this,arguments)}function r8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function kN(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r8(Object(t),!0).forEach(function(n){Ui(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):r8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function T1e(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function n8(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,TK(n.key),n)}}function P1e(r,e,t){return e&&n8(r.prototype,e),t&&n8(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function O1e(r,e,t){return e=$S(e),N1e(r,CK()?Reflect.construct(e,t||[],$S(r).constructor):e.apply(r,t))}function N1e(r,e){if(e&&(yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R1e(r)}function R1e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function CK(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CK=function(){return!!r})()}function $S(r){return $S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$S(r)}function j1e(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Gj(r,e)}function Gj(r,e){return Gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gj(r,e)}function Ui(r,e,t){return e=TK(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function TK(r){var e=I1e(r,"string");return yg(e)=="symbol"?e:e+""}function I1e(r,e){if(yg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var M1e=function(e){var t=e.data,n=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var l=t.length,c=ky().domain(DS(0,l)).range([s,s+a-o]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:d}},i8=function(e){return e.changedTouches&&!!e.changedTouches.length},bg=(function(r){function e(t){var n;return T1e(this,e),n=O1e(this,e,[t]),Ui(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ui(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ui(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),n.detachDragEndListener()}),Ui(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ui(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ui(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ui(n,"handleSlideDragStart",function(i){var s=i8(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return j1e(e,r),P1e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,f=Math.min(i,s),m=Math.max(i,s),g=e.getIndexInRange(a,f),x=e.getIndexInRange(a,m);return{startIndex:g-g%l,endIndex:x===d?d:x-x%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=To(s[n],o,n);return st(a)?a(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,m=l.startIndex,g=l.endIndex,x=l.onChange,y=n.pageX-s;y>0?y=Math.min(y,c+d-f-o,c+d-f-a):y<0&&(y=Math.max(y,c-a,c-o));var b=this.getIndex({startX:a+y,endX:o+y});(b.startIndex!==m||b.endIndex!==g)&&x&&x(b),this.setState({startX:a+y,endX:o+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=i8(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],d=this.props,f=d.x,m=d.width,g=d.travellerWidth,x=d.onChange,y=d.gap,b=d.data,_={startX:this.state.startX,endX:this.state.endX},E=n.pageX-s;E>0?E=Math.min(E,f+m-g-c):E<0&&(E=Math.max(E,f-c)),_[a]=c+E;var A=this.getIndex(_),C=A.startIndex,k=A.endIndex,P=function(){var M=b.length-1;return a==="startX"&&(o>l?C%y===0:k%y===0)||o<l&&k===M||a==="endX"&&(o>l?k%y===0:C%y===0)||o>l&&k===M};this.setState(Ui(Ui({},a,c+E),"brushMoveStartX",n.pageX),function(){x&&P()&&x(A)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=o.length)){var g=o[m];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(Ui({},i,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.fill,c=n.stroke;return W.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.data,c=n.children,d=n.padding,f=R.Children.only(c);return f?W.cloneElement(f,{x:i,y:s,width:a,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,a,o=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,m=l.traveller,g=l.ariaLabel,x=l.data,y=l.startIndex,b=l.endIndex,_=Math.max(n,this.props.x),E=kN(kN({},bt(this.props,!1)),{},{x:_,y:c,width:d,height:f}),A=g||"Min value: ".concat((s=x[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=x[b])===null||a===void 0?void 0:a.name);return W.createElement(mn,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),o.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,E))}},{key:"renderSlide",value:function(n,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,d=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,a=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,m=d.endX,g=5,x={pointerEvents:"none",fill:c};return W.createElement(mn,{className:"recharts-brush-texts"},W.createElement(hS,LS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-g,y:a+o/2},x),this.getTextOfTick(i)),W.createElement(hS,LS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+l+g,y:a+o/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,a=n.children,o=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,m=this.state,g=m.startX,x=m.endX,y=m.isTextActive,b=m.isSlideMoving,_=m.isTravellerMoving,E=m.isTravellerFocused;if(!i||!i.length||!xe(o)||!xe(l)||!xe(c)||!xe(d)||c<=0||d<=0)return null;var A=pt("recharts-brush",s),C=W.Children.count(a)===1,k=C1e("userSelect","none");return W.createElement(mn,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(y||b||_||E||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,a=n.width,o=n.height,l=n.stroke,c=Math.floor(s+o/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),W.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):st(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,a=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return kN({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?M1e({data:s,width:a,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);n[l]>i?o=l:a=l}return i>=n[o]?o:a}}])})(R.PureComponent);Ui(bg,"displayName","Brush");Ui(bg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var CN,s8;function D1e(){if(s8)return CN;s8=1;var r=xM();function e(t,n){var i;return r(t,function(s,a,o){return i=n(s,a,o),!i}),!!i}return CN=e,CN}var TN,a8;function L1e(){if(a8)return TN;a8=1;var r=D7(),e=Hu(),t=D1e(),n=Ni(),i=YA();function s(a,o,l){var c=n(a)?r:t;return l&&i(a,o,l)&&(o=void 0),c(a,e(o,3))}return TN=s,TN}var $1e=L1e();const F1e=$t($1e);var Ao=function(e,t){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===t},PN,o8;function B1e(){if(o8)return PN;o8=1;var r=e9();function e(t,n,i){n=="__proto__"&&r?r(t,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[n]=i}return PN=e,PN}var ON,l8;function U1e(){if(l8)return ON;l8=1;var r=B1e(),e=Q7(),t=Hu();function n(i,s){var a={};return s=t(s,3),e(i,function(o,l,c){r(a,l,s(o,l,c))}),a}return ON=n,ON}var z1e=U1e();const q1e=$t(z1e);var NN,c8;function H1e(){if(c8)return NN;c8=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}return NN=r,NN}var RN,u8;function W1e(){if(u8)return RN;u8=1;var r=xM();function e(t,n){var i=!0;return r(t,function(s,a,o){return i=!!n(s,a,o),i}),i}return RN=e,RN}var jN,d8;function V1e(){if(d8)return jN;d8=1;var r=H1e(),e=W1e(),t=Hu(),n=Ni(),i=YA();function s(a,o,l){var c=n(a)?r:e;return l&&i(a,o,l)&&(o=void 0),c(a,t(o,3))}return jN=s,jN}var G1e=V1e();const PK=$t(G1e);var K1e=["x","y"];function S0(r){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(r)}function Kj(){return Kj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Kj.apply(this,arguments)}function h8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Gv(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(t),!0).forEach(function(n){Y1e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):h8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Y1e(r,e,t){return e=X1e(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function X1e(r){var e=J1e(r,"string");return S0(e)=="symbol"?e:e+""}function J1e(r,e){if(S0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(S0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Q1e(r,e){if(r==null)return{};var t=Z1e(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Z1e(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function eSe(r,e){var t=r.x,n=r.y,i=Q1e(r,K1e),s="".concat(t),a=parseInt(s,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),m=parseInt(f,10);return Gv(Gv(Gv(Gv(Gv({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:m,name:e.name,radius:e.radius})}function f8(r){return W.createElement(h1e,Kj({shapeType:"rectangle",propTransformer:eSe,activeClassName:"recharts-active-bar"},r))}var tSe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=typeof n=="number";return s?e(n,i):(s||cf(),t)}},rSe=["value","background"],OK;function wg(r){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(r)}function nSe(r,e){if(r==null)return{};var t=iSe(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function iSe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function FS(){return FS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},FS.apply(this,arguments)}function p8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Lr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(t),!0).forEach(function(n){Cu(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):p8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function sSe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function m8(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,RK(n.key),n)}}function aSe(r,e,t){return e&&m8(r.prototype,e),t&&m8(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function oSe(r,e,t){return e=BS(e),lSe(r,NK()?Reflect.construct(e,t||[],BS(r).constructor):e.apply(r,t))}function lSe(r,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cSe(r)}function cSe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function NK(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NK=function(){return!!r})()}function BS(r){return BS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},BS(r)}function uSe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Yj(r,e)}function Yj(r,e){return Yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yj(r,e)}function Cu(r,e,t){return e=RK(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function RK(r){var e=dSe(r,"string");return wg(e)=="symbol"?e:e+""}function dSe(r,e){if(wg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var $u=(function(r){function e(){var t;sSe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=oSe(this,e,[].concat(i)),Cu(t,"state",{isAnimationFinished:!1}),Cu(t,"id",zA("recharts-bar-")),Cu(t,"handleAnimationEnd",function(){var a=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),a&&a()}),Cu(t,"handleAnimationStart",function(){var a=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),a&&a()}),t}return uSe(e,r),aSe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,d=bt(this.props,!1);return n&&n.map(function(f,m){var g=m===l,x=g?c:a,y=Lr(Lr(Lr({},d),f),{},{isActive:g,option:x,index:m,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return W.createElement(mn,FS({className:"recharts-bar-rectangle"},tS(i.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),W.createElement(f8,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevData;return W.createElement(Lu,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,y=s.map(function(b,_){var E=m&&m[_];if(E){var A=ep(E.x,b.x),C=ep(E.y,b.y),k=ep(E.width,b.width),P=ep(E.height,b.height);return Lr(Lr({},b),{},{x:A(x),y:C(x),width:k(x),height:P(x)})}if(a==="horizontal"){var j=ep(0,b.height),M=j(x);return Lr(Lr({},b),{},{y:b.y+b.height-M,height:M})}var $=ep(0,b.width),U=$(x);return Lr(Lr({},b),{},{width:U})});return W.createElement(mn,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!VM(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=bt(this.props.background,!1);return s.map(function(c,d){c.value;var f=c.background,m=nSe(c,rSe);if(!f)return null;var g=Lr(Lr(Lr(Lr(Lr({},m),{},{fill:"#eee"},f),l),tS(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return W.createElement(f8,FS({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},g))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,f=Na(d,aE);if(!f)return null;var m=c==="vertical"?a[0].height/2:a[0].width/2,g=function(b,_){var E=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:E,errorVal:To(b,_)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return W.createElement(mn,x,f.map(function(y){return W.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,a=n.className,o=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,m=n.height,g=n.isAnimationActive,x=n.background,y=n.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,_=pt("recharts-bar",a),E=o&&o.allowDataOverflow,A=l&&l.allowDataOverflow,C=E||A,k=Et(y)?this.id:y;return W.createElement(mn,{className:_},E||A?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(k)},W.createElement("rect",{x:E?c:c-f/2,y:A?d:d-m/2,width:E?f:f*2,height:A?m:m*2}))):null,W.createElement(mn,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(k,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,k),(!g||b)&&Qh.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(R.PureComponent);OK=$u;Cu($u,"displayName","Bar");Cu($u,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!$w.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Cu($u,"getComposedData",function(r){var e=r.props,t=r.item,n=r.barPosition,i=r.bandSize,s=r.xAxis,a=r.yAxis,o=r.xAxisTicks,l=r.yAxisTicks,c=r.stackedData,d=r.dataStartIndex,f=r.displayedData,m=r.offset,g=kbe(n,t);if(!g)return null;var x=e.layout,y=t.type.defaultProps,b=y!==void 0?Lr(Lr({},y),t.props):t.props,_=b.dataKey,E=b.children,A=b.minPointSize,C=x==="horizontal"?a:s,k=c?C.scale.domain():null,P=Ibe({numericAxis:C}),j=Na(E,o9),M=f.map(function($,U){var F,z,V,X,J,H;c?F=Cbe(c[d+U],k):(F=To($,_),Array.isArray(F)||(F=[P,F]));var G=tSe(A,OK.defaultProps.minPointSize)(F[1],U);if(x==="horizontal"){var B,ee=[a.scale(F[0]),a.scale(F[1])],ne=ee[0],q=ee[1];z=e6({axis:s,ticks:o,bandSize:i,offset:g.offset,entry:$,index:U}),V=(B=q??ne)!==null&&B!==void 0?B:void 0,X=g.size;var Y=ne-q;if(J=Number.isNaN(Y)?0:Y,H={x:z,y:a.y,width:X,height:a.height},Math.abs(G)>0&&Math.abs(J)<Math.abs(G)){var re=Pa(J||G)*(Math.abs(G)-Math.abs(J));V-=re,J+=re}}else{var ue=[s.scale(F[0]),s.scale(F[1])],me=ue[0],ge=ue[1];if(z=me,V=e6({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:$,index:U}),X=ge-me,J=g.size,H={x:s.x,y:V,width:s.width,height:J},Math.abs(G)>0&&Math.abs(X)<Math.abs(G)){var oe=Pa(X||G)*(Math.abs(G)-Math.abs(X));X+=oe}}return Lr(Lr(Lr({},$),{},{x:z,y:V,width:X,height:J,value:c?F:F[1],payload:$,background:H},j&&j[U]&&j[U].props),{},{tooltipPayload:[fK(t,$)],tooltipPosition:{x:z+X/2,y:V+J/2}})});return Lr({data:M,layout:x},m)});function A0(r){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A0(r)}function hSe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function g8(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,jK(n.key),n)}}function fSe(r,e,t){return e&&g8(r.prototype,e),t&&g8(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function v8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ca(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(t),!0).forEach(function(n){cE(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):v8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function cE(r,e,t){return e=jK(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function jK(r){var e=pSe(r,"string");return A0(e)=="symbol"?e:e+""}function pSe(r,e){if(A0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(A0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var mSe=function(e,t,n,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(t),f={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},m=!!ls(c,$u);return d.reduce(function(g,x){var y=t[x],b=y.orientation,_=y.domain,E=y.padding,A=E===void 0?{}:E,C=y.mirror,k=y.reversed,P="".concat(b).concat(C?"Mirror":""),j,M,$,U,F;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var z=_[1]-_[0],V=1/0,X=y.categoricalDomain.sort();if(X.forEach(function(ue,me){me>0&&(V=Math.min((ue||0)-(X[me-1]||0),V))}),Number.isFinite(V)){var J=V/z,H=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(j=J*H/2),y.padding==="no-gap"){var G=of(e.barCategoryGap,J*H),B=J*H/2;j=B-G-(B-G)/H*G}}}i==="xAxis"?M=[n.left+(A.left||0)+(j||0),n.left+n.width-(A.right||0)-(j||0)]:i==="yAxis"?M=l==="horizontal"?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(j||0),n.top+n.height-(A.bottom||0)-(j||0)]:M=y.range,k&&(M=[M[1],M[0]]);var ee=Abe(y,s,m),ne=ee.scale,q=ee.realScaleType;ne.domain(_).range(M),Ebe(ne);var Y=jbe(ne,Ca(Ca({},y),{},{realScaleType:q}));i==="xAxis"?(F=b==="top"&&!C||b==="bottom"&&C,$=n.left,U=f[P]-F*y.height):i==="yAxis"&&(F=b==="left"&&!C||b==="right"&&C,$=f[P]-F*y.width,U=n.top);var re=Ca(Ca(Ca({},y),Y),{},{realScaleType:q,x:$,y:U,scale:ne,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return re.bandSize=kS(re,Y),!y.hide&&i==="xAxis"?f[P]+=(F?-1:1)*re.height:y.hide||(f[P]+=(F?-1:1)*re.width),Ca(Ca({},g),{},cE({},x,re))},{})},IK=function(e,t){var n=e.x,i=e.y,s=t.x,a=t.y;return{x:Math.min(n,s),y:Math.min(i,a),width:Math.abs(s-n),height:Math.abs(a-i)}},gSe=function(e){var t=e.x1,n=e.y1,i=e.x2,s=e.y2;return IK({x:t,y:n},{x:i,y:s})},MK=(function(){function r(e){hSe(this,r),this.scale=e}return fSe(r,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(t!==void 0){if(s)switch(s){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}},{key:"isInRange",value:function(t){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?t>=i&&t<=s:t>=s&&t<=i}}],[{key:"create",value:function(t){return new r(t)}}])})();cE(MK,"EPS",1e-4);var JM=function(e){var t=Object.keys(e).reduce(function(n,i){return Ca(Ca({},n),{},cE({},i,MK.create(e[i])))},{});return Ca(Ca({},t),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return q1e(i,function(l,c){return t[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return PK(i,function(s,a){return t[a].isInRange(s)})}})};function vSe(r){return(r%180+180)%180}var ySe=function(e){var t=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=vSe(i),a=s*Math.PI/180,o=Math.atan(n/t),l=a>o&&a<Math.PI-o?n/Math.sin(a):t/Math.cos(a);return Math.abs(l)},IN,y8;function bSe(){if(y8)return IN;y8=1;var r=Hu(),e=Lw(),t=GA();function n(i){return function(s,a,o){var l=Object(s);if(!e(s)){var c=r(a,3);s=t(s),a=function(f){return c(l[f],f,l)}}var d=i(s,a,o);return d>-1?l[c?s[d]:d]:void 0}}return IN=n,IN}var MN,b8;function wSe(){if(b8)return MN;b8=1;var r=EK();function e(t){var n=r(t),i=n%1;return n===n?i?n-i:n:0}return MN=e,MN}var DN,w8;function xSe(){if(w8)return DN;w8=1;var r=G7(),e=Hu(),t=wSe(),n=Math.max;function i(s,a,o){var l=s==null?0:s.length;if(!l)return-1;var c=o==null?0:t(o);return c<0&&(c=n(l+c,0)),r(s,e(a,3),c)}return DN=i,DN}var LN,x8;function _Se(){if(x8)return LN;x8=1;var r=bSe(),e=xSe(),t=r(e);return LN=t,LN}var SSe=_Se();const ASe=$t(SSe);var ESe=c7();const kSe=$t(ESe);var CSe=kSe(function(r){return{x:r.left,y:r.top,width:r.width,height:r.height}},function(r){return["l",r.left,"t",r.top,"w",r.width,"h",r.height].join("")}),QM=R.createContext(void 0),ZM=R.createContext(void 0),DK=R.createContext(void 0),LK=R.createContext({}),$K=R.createContext(void 0),FK=R.createContext(0),BK=R.createContext(0),_8=function(e){var t=e.state,n=t.xAxisMap,i=t.yAxisMap,s=t.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,d=CSe(s);return W.createElement(QM.Provider,{value:n},W.createElement(ZM.Provider,{value:i},W.createElement(LK.Provider,{value:s},W.createElement(DK.Provider,{value:d},W.createElement($K.Provider,{value:a},W.createElement(FK.Provider,{value:c},W.createElement(BK.Provider,{value:l},o)))))))},TSe=function(){return R.useContext($K)},UK=function(e){var t=R.useContext(QM);t==null&&cf();var n=t[e];return n==null&&cf(),n},PSe=function(){var e=R.useContext(QM);return Dc(e)},OSe=function(){var e=R.useContext(ZM),t=ASe(e,function(n){return PK(n.domain,Number.isFinite)});return t||Dc(e)},zK=function(e){var t=R.useContext(ZM);t==null&&cf();var n=t[e];return n==null&&cf(),n},NSe=function(){var e=R.useContext(DK);return e},RSe=function(){return R.useContext(LK)},eD=function(){return R.useContext(BK)},tD=function(){return R.useContext(FK)};function xg(r){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(r)}function jSe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ISe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,HK(n.key),n)}}function MSe(r,e,t){return e&&ISe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function DSe(r,e,t){return e=US(e),LSe(r,qK()?Reflect.construct(e,t||[],US(r).constructor):e.apply(r,t))}function LSe(r,e){if(e&&(xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Se(r)}function $Se(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function qK(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qK=function(){return!!r})()}function US(r){return US=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},US(r)}function FSe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Xj(r,e)}function Xj(r,e){return Xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xj(r,e)}function S8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function A8(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(t),!0).forEach(function(n){rD(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):S8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function rD(r,e,t){return e=HK(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function HK(r){var e=BSe(r,"string");return xg(e)=="symbol"?e:e+""}function BSe(r,e){if(xg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function USe(r,e){return WSe(r)||HSe(r,e)||qSe(r,e)||zSe()}function zSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qSe(r,e){if(r){if(typeof r=="string")return E8(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E8(r,e)}}function E8(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function HSe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function WSe(r){if(Array.isArray(r))return r}function Jj(){return Jj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Jj.apply(this,arguments)}var VSe=function(e,t){var n;return W.isValidElement(e)?n=W.cloneElement(e,t):st(e)?n=e(t):n=W.createElement("line",Jj({},t,{className:"recharts-reference-line-line"})),n},GSe=function(e,t,n,i,s,a,o,l,c){var d=s.x,f=s.y,m=s.width,g=s.height;if(n){var x=c.y,y=e.y.apply(x,{position:a});if(Ao(c,"discard")&&!e.y.isInRange(y))return null;var b=[{x:d+m,y},{x:d,y}];return l==="left"?b.reverse():b}if(t){var _=c.x,E=e.x.apply(_,{position:a});if(Ao(c,"discard")&&!e.x.isInRange(E))return null;var A=[{x:E,y:f+g},{x:E,y:f}];return o==="top"?A.reverse():A}if(i){var C=c.segment,k=C.map(function(P){return e.apply(P,{position:a})});return Ao(c,"discard")&&F1e(k,function(P){return!e.isInRange(P)})?null:k}return null};function KSe(r){var e=r.x,t=r.y,n=r.segment,i=r.xAxisId,s=r.yAxisId,a=r.shape,o=r.className,l=r.alwaysShow,c=TSe(),d=UK(i),f=zK(s),m=NSe();if(!c||!m)return null;Bl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=JM({x:d.scale,y:f.scale}),x=Qr(e),y=Qr(t),b=n&&n.length===2,_=GSe(g,x,y,b,m,r.position,d.orientation,f.orientation,r);if(!_)return null;var E=USe(_,2),A=E[0],C=A.x,k=A.y,P=E[1],j=P.x,M=P.y,$=Ao(r,"hidden")?"url(#".concat(c,")"):void 0,U=A8(A8({clipPath:$},bt(r,!0)),{},{x1:C,y1:k,x2:j,y2:M});return W.createElement(mn,{className:pt("recharts-reference-line",o)},VSe(a,U),Xn.renderCallByParent(r,gSe({x1:C,y1:k,x2:j,y2:M})))}var nD=(function(r){function e(){return jSe(this,e),DSe(this,e,arguments)}return FSe(e,r),MSe(e,[{key:"render",value:function(){return W.createElement(KSe,this.props)}}])})(W.Component);rD(nD,"displayName","ReferenceLine");rD(nD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Qj(){return Qj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Qj.apply(this,arguments)}function _g(r){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(r)}function k8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function C8(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(t),!0).forEach(function(n){uE(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):k8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function YSe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function XSe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,VK(n.key),n)}}function JSe(r,e,t){return e&&XSe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function QSe(r,e,t){return e=zS(e),ZSe(r,WK()?Reflect.construct(e,t||[],zS(r).constructor):e.apply(r,t))}function ZSe(r,e){if(e&&(_g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eAe(r)}function eAe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function WK(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WK=function(){return!!r})()}function zS(r){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zS(r)}function tAe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Zj(r,e)}function Zj(r,e){return Zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zj(r,e)}function uE(r,e,t){return e=VK(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function VK(r){var e=rAe(r,"string");return _g(e)=="symbol"?e:e+""}function rAe(r,e){if(_g(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(_g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var nAe=function(e){var t=e.x,n=e.y,i=e.xAxis,s=e.yAxis,a=JM({x:i.scale,y:s.scale}),o=a.apply({x:t,y:n},{bandAware:!0});return Ao(e,"discard")&&!a.isInRange(o)?null:o},dE=(function(r){function e(){return YSe(this,e),QSe(this,e,arguments)}return tAe(e,r),JSe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,a=n.r,o=n.alwaysShow,l=n.clipPathId,c=Qr(i),d=Qr(s);if(Bl(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=nAe(this.props);if(!f)return null;var m=f.x,g=f.y,x=this.props,y=x.shape,b=x.className,_=Ao(this.props,"hidden")?"url(#".concat(l,")"):void 0,E=C8(C8({clipPath:_},bt(this.props,!0)),{},{cx:m,cy:g});return W.createElement(mn,{className:pt("recharts-reference-dot",b)},e.renderDot(y,E),Xn.renderCallByParent(this.props,{x:m-a,y:g-a,width:2*a,height:2*a}))}}])})(W.Component);uE(dE,"displayName","ReferenceDot");uE(dE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});uE(dE,"renderDot",function(r,e){var t;return W.isValidElement(r)?t=W.cloneElement(r,e):st(r)?t=r(e):t=W.createElement(AK,Qj({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),t});function eI(){return eI=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},eI.apply(this,arguments)}function Sg(r){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(r)}function T8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function P8(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(t),!0).forEach(function(n){hE(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):T8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function iAe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function sAe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,KK(n.key),n)}}function aAe(r,e,t){return e&&sAe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function oAe(r,e,t){return e=qS(e),lAe(r,GK()?Reflect.construct(e,t||[],qS(r).constructor):e.apply(r,t))}function lAe(r,e){if(e&&(Sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cAe(r)}function cAe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function GK(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GK=function(){return!!r})()}function qS(r){return qS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qS(r)}function uAe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&tI(r,e)}function tI(r,e){return tI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tI(r,e)}function hE(r,e,t){return e=KK(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function KK(r){var e=dAe(r,"string");return Sg(e)=="symbol"?e:e+""}function dAe(r,e){if(Sg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var hAe=function(e,t,n,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=JM({x:d.scale,y:f.scale}),g={x:e?m.x.apply(a,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(l,{position:"start"}):m.y.rangeMin},x={x:t?m.x.apply(o,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(c,{position:"end"}):m.y.rangeMax};return Ao(s,"discard")&&(!m.isInRange(g)||!m.isInRange(x))?null:IK(g,x)},fE=(function(r){function e(){return iAe(this,e),oAe(this,e,arguments)}return uAe(e,r),aAe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,a=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;Bl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Qr(i),m=Qr(s),g=Qr(a),x=Qr(o),y=this.props.shape;if(!f&&!m&&!g&&!x&&!y)return null;var b=hAe(f,m,g,x,this.props);if(!b&&!y)return null;var _=Ao(this.props,"hidden")?"url(#".concat(d,")"):void 0;return W.createElement(mn,{className:pt("recharts-reference-area",l)},e.renderRect(y,P8(P8({clipPath:_},bt(this.props,!0)),b)),Xn.renderCallByParent(this.props,b))}}])})(W.Component);hE(fE,"displayName","ReferenceArea");hE(fE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hE(fE,"renderRect",function(r,e){var t;return W.isValidElement(r)?t=W.cloneElement(r,e):st(r)?t=r(e):t=W.createElement(XM,eI({},e,{className:"recharts-reference-area-rect"})),t});function YK(r,e,t){if(e<1)return[];if(e===1&&t===void 0)return r;for(var n=[],i=0;i<r.length;i+=e)n.push(r[i]);return n}function fAe(r,e,t){var n={width:r.width+e.width,height:r.height+e.height};return ySe(n,t)}function pAe(r,e,t){var n=t==="width",i=r.x,s=r.y,a=r.width,o=r.height;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function HS(r,e,t,n,i){if(r*e<r*n||r*e>r*i)return!1;var s=t();return r*(e-r*s/2-n)>=0&&r*(e+r*s/2-i)<=0}function mAe(r,e){return YK(r,e+1)}function gAe(r,e,t,n,i){for(var s=(n||[]).slice(),a=e.start,o=e.end,l=0,c=1,d=a,f=function(){var x=n==null?void 0:n[l];if(x===void 0)return{v:YK(n,c)};var y=l,b,_=function(){return b===void 0&&(b=t(x,y)),b},E=x.coordinate,A=l===0||HS(r,E,_,d,o);A||(l=0,d=a,c+=1),A&&(d=E+r*(_()/2+i),l+=c)},m;c<=s.length;)if(m=f(),m)return m.v;return[]}function E0(r){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(r)}function O8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Kn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(t),!0).forEach(function(n){vAe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):O8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function vAe(r,e,t){return e=yAe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function yAe(r){var e=bAe(r,"string");return E0(e)=="symbol"?e:e+""}function bAe(r,e){if(E0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(E0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function wAe(r,e,t,n,i){for(var s=(n||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(m){var g=s[m],x,y=function(){return x===void 0&&(x=t(g,m)),x};if(m===a-1){var b=r*(g.coordinate+r*y()/2-l);s[m]=g=Kn(Kn({},g),{},{tickCoord:b>0?g.coordinate-b*r:g.coordinate})}else s[m]=g=Kn(Kn({},g),{},{tickCoord:g.coordinate});var _=HS(r,g.tickCoord,y,o,l);_&&(l=g.tickCoord-r*(y()/2+i),s[m]=Kn(Kn({},g),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return s}function xAe(r,e,t,n,i,s){var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var d=n[o-1],f=t(d,o-1),m=r*(d.coordinate+r*f/2-c);a[o-1]=d=Kn(Kn({},d),{},{tickCoord:m>0?d.coordinate-m*r:d.coordinate});var g=HS(r,d.tickCoord,function(){return f},l,c);g&&(c=d.tickCoord-r*(f/2+i),a[o-1]=Kn(Kn({},d),{},{isShow:!0}))}for(var x=s?o-1:o,y=function(E){var A=a[E],C,k=function(){return C===void 0&&(C=t(A,E)),C};if(E===0){var P=r*(A.coordinate-r*k()/2-l);a[E]=A=Kn(Kn({},A),{},{tickCoord:P<0?A.coordinate-P*r:A.coordinate})}else a[E]=A=Kn(Kn({},A),{},{tickCoord:A.coordinate});var j=HS(r,A.tickCoord,k,l,c);j&&(l=A.tickCoord+r*(k()/2+i),a[E]=Kn(Kn({},A),{},{isShow:!0}))},b=0;b<x;b++)y(b);return a}function iD(r,e,t){var n=r.tick,i=r.ticks,s=r.viewBox,a=r.minTickGap,o=r.orientation,l=r.interval,c=r.tickFormatter,d=r.unit,f=r.angle;if(!i||!i.length||!n)return[];if(xe(l)||$w.isSsr)return mAe(i,typeof l=="number"&&xe(l)?l:0);var m=[],g=o==="top"||o==="bottom"?"width":"height",x=d&&g==="width"?Ey(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},y=function(A,C){var k=st(c)?c(A.value,C):A.value;return g==="width"?fAe(Ey(k,{fontSize:e,letterSpacing:t}),x,f):Ey(k,{fontSize:e,letterSpacing:t})[g]},b=i.length>=2?Pa(i[1].coordinate-i[0].coordinate):1,_=pAe(s,b,g);return l==="equidistantPreserveStart"?gAe(b,_,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?m=xAe(b,_,y,i,a,l==="preserveStartEnd"):m=wAe(b,_,y,i,a),m.filter(function(E){return E.isShow}))}var _Ae=["viewBox"],SAe=["viewBox"],AAe=["ticks"];function Ag(r){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(r)}function bp(){return bp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},bp.apply(this,arguments)}function N8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ri(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N8(Object(t),!0).forEach(function(n){sD(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):N8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function $N(r,e){if(r==null)return{};var t=EAe(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function EAe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function kAe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function R8(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,JK(n.key),n)}}function CAe(r,e,t){return e&&R8(r.prototype,e),t&&R8(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function TAe(r,e,t){return e=WS(e),PAe(r,XK()?Reflect.construct(e,t||[],WS(r).constructor):e.apply(r,t))}function PAe(r,e){if(e&&(Ag(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OAe(r)}function OAe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function XK(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XK=function(){return!!r})()}function WS(r){return WS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},WS(r)}function NAe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&rI(r,e)}function rI(r,e){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rI(r,e)}function sD(r,e,t){return e=JK(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function JK(r){var e=RAe(r,"string");return Ag(e)=="symbol"?e:e+""}function RAe(r,e){if(Ag(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Vg=(function(r){function e(t){var n;return kAe(this,e),n=TAe(this,e,[t]),n.state={fontSize:"",letterSpacing:""},n}return NAe(e,r),CAe(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,a=$N(n,_Ae),o=this.props,l=o.viewBox,c=$N(o,SAe);return!Pp(s,l)||!Pp(a,c)||!Pp(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,m=i.tickMargin,g,x,y,b,_,E,A=f?-1:1,C=n.tickSize||d,k=xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":g=x=n.coordinate,b=a+ +!f*l,y=b-A*C,E=y-A*m,_=k;break;case"left":y=b=n.coordinate,x=s+ +!f*o,g=x-A*C,_=g-A*m,E=k;break;case"right":y=b=n.coordinate,x=s+ +f*o,g=x+A*C,_=g+A*m,E=k;break;default:g=x=n.coordinate,b=a+ +f*l,y=b+A*C,E=y+A*m,_=k;break}return{line:{x1:g,y1:y,x2:x,y2:b},tick:{x:_,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=ri(ri(ri({},bt(this.props,!1)),bt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);f=ri(ri({},f),{},{x1:i,y1:s+m*o,x2:i+a,y2:s+m*o})}else{var g=+(l==="left"&&!c||l==="right"&&c);f=ri(ri({},f),{},{x1:i+g*a,y1:s,x2:i+g*a,y2:s+o})}return W.createElement("line",bp({},f,{className:pt("recharts-cartesian-axis-line",Ks(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,f=o.tickFormatter,m=o.unit,g=iD(ri(ri({},this.props),{},{ticks:n}),i,s),x=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=bt(this.props,!1),_=bt(d,!1),E=ri(ri({},b),{},{fill:"none"},bt(l,!1)),A=g.map(function(C,k){var P=a.getTickLineCoord(C),j=P.line,M=P.tick,$=ri(ri(ri(ri({textAnchor:x,verticalAnchor:y},b),{},{stroke:"none",fill:c},_),M),{},{index:k,payload:C,visibleTicksCount:g.length,tickFormatter:f});return W.createElement(mn,bp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},tS(a.props,C,k)),l&&W.createElement("line",bp({},E,j,{className:pt("recharts-cartesian-axis-tick-line",Ks(l,"className"))})),d&&e.renderTickItem(d,$,"".concat(st(f)?f(C.value,k):C.value).concat(m||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,m=f.ticks,g=$N(f,AAe),x=m;return st(l)&&(x=m&&m.length>0?l(this.props):l(g)),a<=0||o<=0||!x||!x.length?null:W.createElement(mn,{className:pt("recharts-cartesian-axis",c),ref:function(b){n.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Xn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var a;return W.isValidElement(n)?a=W.cloneElement(n,i):st(n)?a=n(i):a=W.createElement(hS,bp({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])})(R.Component);sD(Vg,"displayName","CartesianAxis");sD(Vg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jAe=["x1","y1","x2","y2","key"],IAe=["offset"];function uf(r){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(r)}function j8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Jn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?j8(Object(t),!0).forEach(function(n){MAe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):j8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function MAe(r,e,t){return e=DAe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function DAe(r){var e=LAe(r,"string");return uf(e)=="symbol"?e:e+""}function LAe(r,e){if(uf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Id(){return Id=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Id.apply(this,arguments)}function I8(r,e){if(r==null)return{};var t=$Ae(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function $Ae(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var FAe=function(e){var t=e.fill;if(!t||t==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return W.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function QK(r,e){var t;if(W.isValidElement(r))t=W.cloneElement(r,e);else if(st(r))t=r(e);else{var n=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=I8(e,jAe),c=bt(l,!1);c.offset;var d=I8(c,IAe);t=W.createElement("line",Id({},d,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return t}function BAe(r){var e=r.x,t=r.width,n=r.horizontal,i=n===void 0?!0:n,s=r.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Jn(Jn({},r),{},{x1:e,y1:o,x2:e+t,y2:o,key:"line-".concat(l),index:l});return QK(i,c)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function UAe(r){var e=r.y,t=r.height,n=r.vertical,i=n===void 0?!0:n,s=r.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Jn(Jn({},r),{},{x1:o,y1:e,x2:o,y2:e+t,key:"line-".concat(l),index:l});return QK(i,c)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function zAe(r){var e=r.horizontalFill,t=r.fillOpacity,n=r.x,i=r.y,s=r.width,a=r.height,o=r.horizontalPoints,l=r.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=o.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],y=x?i+a-m:d[g+1]-m;if(y<=0)return null;var b=g%e.length;return W.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:y,width:s,stroke:"none",fill:e[b],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function qAe(r){var e=r.vertical,t=e===void 0?!0:e,n=r.verticalFill,i=r.fillOpacity,s=r.x,a=r.y,o=r.width,l=r.height,c=r.verticalPoints;if(!t||!n||!n.length)return null;var d=c.map(function(m){return Math.round(m+s-s)}).sort(function(m,g){return m-g});s!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var x=!d[g+1],y=x?s+o-m:d[g+1]-m;if(y<=0)return null;var b=g%n.length;return W.createElement("rect",{key:"react-".concat(g),x:m,y:a,width:y,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var HAe=function(e,t){var n=e.xAxis,i=e.width,s=e.height,a=e.offset;return dK(iD(Jn(Jn(Jn({},Vg.defaultProps),n),{},{ticks:Ll(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,t)},WAe=function(e,t){var n=e.yAxis,i=e.width,s=e.height,a=e.offset;return dK(iD(Jn(Jn(Jn({},Vg.defaultProps),n),{},{ticks:Ll(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,t)},np={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ZK(r){var e,t,n,i,s,a,o=eD(),l=tD(),c=RSe(),d=Jn(Jn({},r),{},{stroke:(e=r.stroke)!==null&&e!==void 0?e:np.stroke,fill:(t=r.fill)!==null&&t!==void 0?t:np.fill,horizontal:(n=r.horizontal)!==null&&n!==void 0?n:np.horizontal,horizontalFill:(i=r.horizontalFill)!==null&&i!==void 0?i:np.horizontalFill,vertical:(s=r.vertical)!==null&&s!==void 0?s:np.vertical,verticalFill:(a=r.verticalFill)!==null&&a!==void 0?a:np.verticalFill,x:xe(r.x)?r.x:c.left,y:xe(r.y)?r.y:c.top,width:xe(r.width)?r.width:c.width,height:xe(r.height)?r.height:c.height}),f=d.x,m=d.y,g=d.width,x=d.height,y=d.syncWithTicks,b=d.horizontalValues,_=d.verticalValues,E=PSe(),A=OSe();if(!xe(g)||g<=0||!xe(x)||x<=0||!xe(f)||f!==+f||!xe(m)||m!==+m)return null;var C=d.verticalCoordinatesGenerator||HAe,k=d.horizontalCoordinatesGenerator||WAe,P=d.horizontalPoints,j=d.verticalPoints;if((!P||!P.length)&&st(k)){var M=b&&b.length,$=k({yAxis:A?Jn(Jn({},A),{},{ticks:M?b:A.ticks}):void 0,width:o,height:l,offset:c},M?!0:y);Bl(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(uf($),"]")),Array.isArray($)&&(P=$)}if((!j||!j.length)&&st(C)){var U=_&&_.length,F=C({xAxis:E?Jn(Jn({},E),{},{ticks:U?_:E.ticks}):void 0,width:o,height:l,offset:c},U?!0:y);Bl(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(uf(F),"]")),Array.isArray(F)&&(j=F)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(FAe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),W.createElement(BAe,Id({},d,{offset:c,horizontalPoints:P,xAxis:E,yAxis:A})),W.createElement(UAe,Id({},d,{offset:c,verticalPoints:j,xAxis:E,yAxis:A})),W.createElement(zAe,Id({},d,{horizontalPoints:P})),W.createElement(qAe,Id({},d,{verticalPoints:j})))}ZK.displayName="CartesianGrid";function Eg(r){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(r)}function VAe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function GAe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,rY(n.key),n)}}function KAe(r,e,t){return e&&GAe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function YAe(r,e,t){return e=VS(e),XAe(r,eY()?Reflect.construct(e,t||[],VS(r).constructor):e.apply(r,t))}function XAe(r,e){if(e&&(Eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JAe(r)}function JAe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function eY(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eY=function(){return!!r})()}function VS(r){return VS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},VS(r)}function QAe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&nI(r,e)}function nI(r,e){return nI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nI(r,e)}function tY(r,e,t){return e=rY(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rY(r){var e=ZAe(r,"string");return Eg(e)=="symbol"?e:e+""}function ZAe(r,e){if(Eg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function iI(){return iI=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},iI.apply(this,arguments)}function eEe(r){var e=r.xAxisId,t=eD(),n=tD(),i=UK(e);return i==null?null:W.createElement(Vg,iI({},i,{className:pt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:t,height:n},ticksGenerator:function(a){return Ll(a,!0)}}))}var pE=(function(r){function e(){return VAe(this,e),YAe(this,e,arguments)}return QAe(e,r),KAe(e,[{key:"render",value:function(){return W.createElement(eEe,this.props)}}])})(W.Component);tY(pE,"displayName","XAxis");tY(pE,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kg(r){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(r)}function tEe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function rEe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,sY(n.key),n)}}function nEe(r,e,t){return e&&rEe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function iEe(r,e,t){return e=GS(e),sEe(r,nY()?Reflect.construct(e,t||[],GS(r).constructor):e.apply(r,t))}function sEe(r,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aEe(r)}function aEe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function nY(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nY=function(){return!!r})()}function GS(r){return GS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},GS(r)}function oEe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&sI(r,e)}function sI(r,e){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sI(r,e)}function iY(r,e,t){return e=sY(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function sY(r){var e=lEe(r,"string");return kg(e)=="symbol"?e:e+""}function lEe(r,e){if(kg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function aI(){return aI=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},aI.apply(this,arguments)}var cEe=function(e){var t=e.yAxisId,n=eD(),i=tD(),s=zK(t);return s==null?null:W.createElement(Vg,aI({},s,{className:pt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Ll(o,!0)}}))},mE=(function(r){function e(){return tEe(this,e),iEe(this,e,arguments)}return oEe(e,r),nEe(e,[{key:"render",value:function(){return W.createElement(cEe,this.props)}}])})(W.Component);iY(mE,"displayName","YAxis");iY(mE,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function M8(r){return fEe(r)||hEe(r)||dEe(r)||uEe()}function uEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dEe(r,e){if(r){if(typeof r=="string")return oI(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oI(r,e)}}function hEe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function fEe(r){if(Array.isArray(r))return oI(r)}function oI(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var lI=function(e,t,n,i,s){var a=Na(e,nD),o=Na(e,dE),l=[].concat(M8(a),M8(o)),c=Na(e,fE),d="".concat(i,"Id"),f=i[0],m=t;if(l.length&&(m=l.reduce(function(y,b){if(b.props[d]===n&&Ao(b.props,"extendDomain")&&xe(b.props[f])){var _=b.props[f];return[Math.min(y[0],_),Math.max(y[1],_)]}return y},m)),c.length){var g="".concat(f,"1"),x="".concat(f,"2");m=c.reduce(function(y,b){if(b.props[d]===n&&Ao(b.props,"extendDomain")&&xe(b.props[g])&&xe(b.props[x])){var _=b.props[g],E=b.props[x];return[Math.min(y[0],_,E),Math.max(y[1],_,E)]}return y},m)}return s&&s.length&&(m=s.reduce(function(y,b){return xe(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},m)),m},FN={exports:{}},D8;function pEe(){return D8||(D8=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,m),x=t?t+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],g]:l._events[x].push(g):(l._events[x]=g,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=t?t+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,x=new Array(g);m<g;m++)x[m]=f[m].fn;return x},o.prototype.listenerCount=function(c){var d=t?t+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,m,g,x){var y=t?t+c:c;if(!this._events[y])return!1;var b=this._events[y],_=arguments.length,E,A;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,m),!0;case 5:return b.fn.call(b.context,d,f,m,g),!0;case 6:return b.fn.call(b.context,d,f,m,g,x),!0}for(A=1,E=new Array(_-1);A<_;A++)E[A-1]=arguments[A];b.fn.apply(b.context,E)}else{var C=b.length,k;for(A=0;A<C;A++)switch(b[A].once&&this.removeListener(c,b[A].fn,void 0,!0),_){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,d);break;case 3:b[A].fn.call(b[A].context,d,f);break;case 4:b[A].fn.call(b[A].context,d,f,m);break;default:if(!E)for(k=1,E=new Array(_-1);k<_;k++)E[k-1]=arguments[k];b[A].fn.apply(b[A].context,E)}}return!0},o.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,m){var g=t?t+c:c;if(!this._events[g])return this;if(!d)return a(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!m||x.once)&&(!f||x.context===f)&&a(this,g);else{for(var y=0,b=[],_=x.length;y<_;y++)(x[y].fn!==d||m&&!x[y].once||f&&x[y].context!==f)&&b.push(x[y]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=t?t+c:c,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,r.exports=o})(FN)),FN.exports}var mEe=pEe();const gEe=$t(mEe);var BN=new gEe,UN="recharts.syncMouseEvents";function k0(r){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(r)}function vEe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function yEe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,aY(n.key),n)}}function bEe(r,e,t){return e&&yEe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function zN(r,e,t){return e=aY(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function aY(r){var e=wEe(r,"string");return k0(e)=="symbol"?e:e+""}function wEe(r,e){if(k0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(k0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var xEe=(function(){function r(){vEe(this,r),zN(this,"activeIndex",0),zN(this,"coordinateList",[]),zN(this,"layout","horizontal")}return bEe(r,[{key:"setDetails",value:function(t){var n,i=t.coordinateList,s=i===void 0?null:i,a=t.container,o=a===void 0?null:a,l=t.layout,c=l===void 0?null:l,d=t.offset,f=d===void 0?null:d,m=t.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((t=window)===null||t===void 0?void 0:t.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+l+c,m=a+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])})();function _Ee(r,e,t){if(t==="number"&&e===!0&&Array.isArray(r)){var n=r==null?void 0:r[0],i=r==null?void 0:r[1];if(n&&i&&xe(n)&&xe(i))return!0}return!1}function SEe(r,e,t,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-i:t.left+.5,y:r==="horizontal"?t.top+.5:e.y-i,width:r==="horizontal"?n:t.width-1,height:r==="horizontal"?t.height-1:n}}function oY(r){var e=r.cx,t=r.cy,n=r.radius,i=r.startAngle,s=r.endAngle,a=jn(e,t,n,i),o=jn(e,t,n,s);return{points:[a,o],cx:e,cy:t,radius:n,startAngle:i,endAngle:s}}function AEe(r,e,t){var n,i,s,a;if(r==="horizontal")n=e.x,s=n,i=t.top,a=t.top+t.height;else if(r==="vertical")i=e.y,a=i,n=t.left,s=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,m=jn(o,l,c,f),g=jn(o,l,d,f);n=m.x,i=m.y,s=g.x,a=g.y}else return oY(e);return[{x:n,y:i},{x:s,y:a}]}function C0(r){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(r)}function L8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function j_(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(t),!0).forEach(function(n){EEe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):L8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function EEe(r,e,t){return e=kEe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function kEe(r){var e=CEe(r,"string");return C0(e)=="symbol"?e:e+""}function CEe(r,e){if(C0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(C0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function TEe(r){var e,t,n=r.element,i=r.tooltipEventType,s=r.isActive,a=r.activeCoordinate,o=r.activePayload,l=r.offset,c=r.activeTooltipIndex,d=r.tooltipAxisBandSize,f=r.layout,m=r.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(t=n.type.defaultProps)===null||t===void 0?void 0:t.cursor;if(!n||!g||!s||!a||m!=="ScatterChart"&&i!=="axis")return null;var x,y=v6;if(m==="ScatterChart")x=a,y=F_e;else if(m==="BarChart")x=SEe(f,a,l,d),y=XM;else if(f==="radial"){var b=oY(a),_=b.cx,E=b.cy,A=b.radius,C=b.startAngle,k=b.endAngle;x={cx:_,cy:E,startAngle:C,endAngle:k,innerRadius:A,outerRadius:A},y=gK}else x={points:AEe(f,a,l)},y=v6;var P=j_(j_(j_(j_({stroke:"#ccc",pointerEvents:"none"},l),x),bt(g,!1)),{},{payload:o,payloadIndex:c,className:pt("recharts-tooltip-cursor",g.className)});return R.isValidElement(g)?R.cloneElement(g,P):R.createElement(y,P)}var PEe=["item"],OEe=["children","className","width","height","style","compact","title","desc"];function Cg(r){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(r)}function wp(){return wp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},wp.apply(this,arguments)}function $8(r,e){return jEe(r)||REe(r,e)||cY(r,e)||NEe()}function NEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function REe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function jEe(r){if(Array.isArray(r))return r}function F8(r,e){if(r==null)return{};var t=IEe(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function IEe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function MEe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function DEe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,uY(n.key),n)}}function LEe(r,e,t){return e&&DEe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function $Ee(r,e,t){return e=KS(e),FEe(r,lY()?Reflect.construct(e,t||[],KS(r).constructor):e.apply(r,t))}function FEe(r,e){if(e&&(Cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BEe(r)}function BEe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lY(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lY=function(){return!!r})()}function KS(r){return KS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},KS(r)}function UEe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&cI(r,e)}function cI(r,e){return cI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cI(r,e)}function Tg(r){return HEe(r)||qEe(r)||cY(r)||zEe()}function zEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cY(r,e){if(r){if(typeof r=="string")return uI(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return uI(r,e)}}function qEe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function HEe(r){if(Array.isArray(r))return uI(r)}function uI(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function B8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ce(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):B8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Be(r,e,t){return e=uY(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function uY(r){var e=WEe(r,"string");return Cg(e)=="symbol"?e:e+""}function WEe(r,e){if(Cg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var VEe={xAxis:["bottom","top"],yAxis:["left","right"]},GEe={width:"100%",height:"100%"},dY={x:0,y:0};function I_(r){return r}var KEe=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},YEe=function(e,t,n,i){var s=t.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return ce(ce(ce({},i),jn(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return ce(ce(ce({},i),jn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return dY},gE=function(e,t){var n=t.graphicalItems,i=t.dataStartIndex,s=t.dataEndIndex,a=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Tg(o),Tg(c)):o},[]);return a.length>0?a:e&&e.length&&xe(i)&&xe(s)?e.slice(i,s+1):[]};function hY(r){return r==="number"?[0,"auto"]:void 0}var dI=function(e,t,n,i){var s=e.graphicalItems,a=e.tooltipAxis,o=gE(t,e);return n<0||!s||!s.length||n>=o.length?null:s.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:t;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(a.dataKey&&!a.allowDuplicatedCategory){var g=f===void 0?o:f;m=J2(g,a.dataKey,i)}else m=f&&f[n]||o[n];return m?[].concat(Tg(l),[fK(c,m)]):l},[])},U8=function(e,t,n,i){var s=i||{x:e.chartX,y:e.chartY},a=KEe(s,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=ybe(a,o,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,m=dI(e,t,d,f),g=YEe(n,o,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:g}}return null},XEe=function(e,t){var n=t.axes,i=t.graphicalItems,s=t.axisType,a=t.axisIdKey,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,g=uK(d,s);return n.reduce(function(x,y){var b,_=y.type.defaultProps!==void 0?ce(ce({},y.type.defaultProps),y.props):y.props,E=_.type,A=_.dataKey,C=_.allowDataOverflow,k=_.allowDuplicatedCategory,P=_.scale,j=_.ticks,M=_.includeHidden,$=_[a];if(x[$])return x;var U=gE(e.data,{graphicalItems:i.filter(function(Y){var re,ue=a in Y.props?Y.props[a]:(re=Y.type.defaultProps)===null||re===void 0?void 0:re[a];return ue===$}),dataStartIndex:l,dataEndIndex:c}),F=U.length,z,V,X;_Ee(_.domain,C,E)&&(z=Nj(_.domain,null,C),g&&(E==="number"||P!=="auto")&&(X=Cy(U,A,"category")));var J=hY(E);if(!z||z.length===0){var H,G=(H=_.domain)!==null&&H!==void 0?H:J;if(A){if(z=Cy(U,A,E),E==="category"&&g){var B=uhe(z);k&&B?(V=z,z=DS(0,F)):k||(z=n6(G,z,y).reduce(function(Y,re){return Y.indexOf(re)>=0?Y:[].concat(Tg(Y),[re])},[]))}else if(E==="category")k?z=z.filter(function(Y){return Y!==""&&!Et(Y)}):z=n6(G,z,y).reduce(function(Y,re){return Y.indexOf(re)>=0||re===""||Et(re)?Y:[].concat(Tg(Y),[re])},[]);else if(E==="number"){var ee=Sbe(U,i.filter(function(Y){var re,ue,me=a in Y.props?Y.props[a]:(re=Y.type.defaultProps)===null||re===void 0?void 0:re[a],ge="hide"in Y.props?Y.props.hide:(ue=Y.type.defaultProps)===null||ue===void 0?void 0:ue.hide;return me===$&&(M||!ge)}),A,s,d);ee&&(z=ee)}g&&(E==="number"||P!=="auto")&&(X=Cy(U,A,"category"))}else g?z=DS(0,F):o&&o[$]&&o[$].hasStack&&E==="number"?z=m==="expand"?[0,1]:hK(o[$].stackGroups,l,c):z=cK(U,i.filter(function(Y){var re=a in Y.props?Y.props[a]:Y.type.defaultProps[a],ue="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return re===$&&(M||!ue)}),E,d,!0);if(E==="number")z=lI(f,z,$,s,j),G&&(z=Nj(G,z,C));else if(E==="category"&&G){var ne=G,q=z.every(function(Y){return ne.indexOf(Y)>=0});q&&(z=ne)}}return ce(ce({},x),{},Be({},$,ce(ce({},_),{},{axisType:s,domain:z,categoricalDomain:X,duplicateDomain:V,originalDomain:(b=_.domain)!==null&&b!==void 0?b:J,isCategorical:g,layout:d})))},{})},JEe=function(e,t){var n=t.graphicalItems,i=t.Axis,s=t.axisType,a=t.axisIdKey,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,d=e.layout,f=e.children,m=gE(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),g=m.length,x=uK(d,s),y=-1;return n.reduce(function(b,_){var E=_.type.defaultProps!==void 0?ce(ce({},_.type.defaultProps),_.props):_.props,A=E[a],C=hY("number");if(!b[A]){y++;var k;return x?k=DS(0,g):o&&o[A]&&o[A].hasStack?(k=hK(o[A].stackGroups,l,c),k=lI(f,k,A,s)):(k=Nj(C,cK(m,n.filter(function(P){var j,M,$=a in P.props?P.props[a]:(j=P.type.defaultProps)===null||j===void 0?void 0:j[a],U="hide"in P.props?P.props.hide:(M=P.type.defaultProps)===null||M===void 0?void 0:M.hide;return $===A&&!U}),"number",d),i.defaultProps.allowDataOverflow),k=lI(f,k,A,s)),ce(ce({},b),{},Be({},A,ce(ce({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ks(VEe,"".concat(s,".").concat(y%2),null),domain:k,originalDomain:C,isCategorical:x,layout:d})))}return b},{})},QEe=function(e,t){var n=t.axisType,i=n===void 0?"xAxis":n,s=t.AxisComp,a=t.graphicalItems,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,d=e.children,f="".concat(i,"Id"),m=Na(d,s),g={};return m&&m.length?g=XEe(e,{axes:m,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(g=JEe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),g},ZEe=function(e){var t=Dc(e),n=Ll(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:_M(n,function(i){return i.coordinate}),tooltipAxis:t,tooltipAxisBandSize:kS(t,n)}},z8=function(e){var t=e.children,n=e.defaultShowTooltip,i=ls(t,bg),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},eke=function(e){return!e||!e.length?!1:e.some(function(t){var n=Fl(t&&t.type);return n&&n.indexOf("Bar")>=0})},q8=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tke=function(e,t){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,d=n.height,f=n.children,m=n.margin||{},g=ls(f,bg),x=ls(f,Op),y=Object.keys(l).reduce(function(k,P){var j=l[P],M=j.orientation;return!j.mirror&&!j.hide?ce(ce({},k),{},Be({},M,k[M]+j.width)):k},{left:m.left||0,right:m.right||0}),b=Object.keys(a).reduce(function(k,P){var j=a[P],M=j.orientation;return!j.mirror&&!j.hide?ce(ce({},k),{},Be({},M,Ks(k,"".concat(M))+j.height)):k},{top:m.top||0,bottom:m.bottom||0}),_=ce(ce({},b),y),E=_.bottom;g&&(_.bottom+=g.props.height||bg.defaultProps.height),x&&t&&(_=xbe(_,i,n,t));var A=c-_.left-_.right,C=d-_.top-_.bottom;return ce(ce({brushBottom:E},_),{},{width:Math.max(A,0),height:Math.max(C,0)})},rke=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},nke=function(e){var t=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(_,E){var A=E.graphicalItems,C=E.stackGroups,k=E.offset,P=E.updateId,j=E.dataStartIndex,M=E.dataEndIndex,$=_.barSize,U=_.layout,F=_.barGap,z=_.barCategoryGap,V=_.maxBarSize,X=q8(U),J=X.numericAxisName,H=X.cateAxisName,G=eke(A),B=[];return A.forEach(function(ee,ne){var q=gE(_.data,{graphicalItems:[ee],dataStartIndex:j,dataEndIndex:M}),Y=ee.type.defaultProps!==void 0?ce(ce({},ee.type.defaultProps),ee.props):ee.props,re=Y.dataKey,ue=Y.maxBarSize,me=Y["".concat(J,"Id")],ge=Y["".concat(H,"Id")],oe={},we=l.reduce(function(Mn,Qt){var Ri=E["".concat(Qt.axisType,"Map")],Ku=Y["".concat(Qt.axisType,"Id")];Ri&&Ri[Ku]||Qt.axisType==="zAxis"||cf();var Yu=Ri[Ku];return ce(ce({},Mn),{},Be(Be({},Qt.axisType,Yu),"".concat(Qt.axisType,"Ticks"),Ll(Yu)))},oe),le=we[H],pe=we["".concat(H,"Ticks")],be=C&&C[me]&&C[me].hasStack&&Mbe(ee,C[me].stackGroups),ae=Fl(ee.type).indexOf("Bar")>=0,We=kS(le,pe),De=[],xt=G&&bbe({barSize:$,stackGroups:C,totalSize:rke(we,H)});if(ae){var gt,_t,In=Et(ue)?V:ue,Jt=(gt=(_t=kS(le,pe,!0))!==null&&_t!==void 0?_t:In)!==null&&gt!==void 0?gt:0;De=wbe({barGap:F,barCategoryGap:z,bandSize:Jt!==We?Jt:We,sizeList:xt[ge],maxBarSize:In}),Jt!==We&&(De=De.map(function(Mn){return ce(ce({},Mn),{},{position:ce(ce({},Mn.position),{},{offset:Mn.position.offset-Jt/2})})}))}var ys=ee&&ee.type&&ee.type.getComposedData;ys&&B.push({props:ce(ce({},ys(ce(ce({},we),{},{displayedData:q,props:_,dataKey:re,item:ee,bandSize:We,barPosition:De,offset:k,stackedData:be,layout:U,dataStartIndex:j,dataEndIndex:M}))),{},Be(Be(Be({key:ee.key||"item-".concat(ne)},J,we[J]),H,we[H]),"animationId",P)),childIndex:xhe(ee,_.children),item:ee})}),B},g=function(_,E){var A=_.props,C=_.dataStartIndex,k=_.dataEndIndex,P=_.updateId;if(!y3({props:A}))return null;var j=A.children,M=A.layout,$=A.stackOffset,U=A.data,F=A.reverseStackOrder,z=q8(M),V=z.numericAxisName,X=z.cateAxisName,J=Na(j,n),H=Rbe(U,J,"".concat(V,"Id"),"".concat(X,"Id"),$,F),G=l.reduce(function(Y,re){var ue="".concat(re.axisType,"Map");return ce(ce({},Y),{},Be({},ue,QEe(A,ce(ce({},re),{},{graphicalItems:J,stackGroups:re.axisType===V&&H,dataStartIndex:C,dataEndIndex:k}))))},{}),B=tke(ce(ce({},G),{},{props:A,graphicalItems:J}),E==null?void 0:E.legendBBox);Object.keys(G).forEach(function(Y){G[Y]=d(A,G[Y],B,Y.replace("Map",""),t)});var ee=G["".concat(X,"Map")],ne=ZEe(ee),q=m(A,ce(ce({},G),{},{dataStartIndex:C,dataEndIndex:k,updateId:P,graphicalItems:J,stackGroups:H,offset:B}));return ce(ce({formattedGraphicalItems:q,graphicalItems:J,offset:B,stackGroups:H},ne),G)},x=(function(b){function _(E){var A,C,k;return MEe(this,_),k=$Ee(this,_,[E]),Be(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(k,"accessibilityManager",new xEe),Be(k,"handleLegendBBoxUpdate",function(P){if(P){var j=k.state,M=j.dataStartIndex,$=j.dataEndIndex,U=j.updateId;k.setState(ce({legendBBox:P},g({props:k.props,dataStartIndex:M,dataEndIndex:$,updateId:U},ce(ce({},k.state),{},{legendBBox:P}))))}}),Be(k,"handleReceiveSyncEvent",function(P,j,M){if(k.props.syncId===P){if(M===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(j)}}),Be(k,"handleBrushChange",function(P){var j=P.startIndex,M=P.endIndex;if(j!==k.state.dataStartIndex||M!==k.state.dataEndIndex){var $=k.state.updateId;k.setState(function(){return ce({dataStartIndex:j,dataEndIndex:M},g({props:k.props,dataStartIndex:j,dataEndIndex:M,updateId:$},k.state))}),k.triggerSyncEvent({dataStartIndex:j,dataEndIndex:M})}}),Be(k,"handleMouseEnter",function(P){var j=k.getMouseInfo(P);if(j){var M=ce(ce({},j),{},{isTooltipActive:!0});k.setState(M),k.triggerSyncEvent(M);var $=k.props.onMouseEnter;st($)&&$(M,P)}}),Be(k,"triggeredAfterMouseMove",function(P){var j=k.getMouseInfo(P),M=j?ce(ce({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(M),k.triggerSyncEvent(M);var $=k.props.onMouseMove;st($)&&$(M,P)}),Be(k,"handleItemMouseEnter",function(P){k.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Be(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),Be(k,"handleMouseMove",function(P){P.persist(),k.throttleTriggeredAfterMouseMove(P)}),Be(k,"handleMouseLeave",function(P){k.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};k.setState(j),k.triggerSyncEvent(j);var M=k.props.onMouseLeave;st(M)&&M(j,P)}),Be(k,"handleOuterEvent",function(P){var j=whe(P),M=Ks(k.props,"".concat(j));if(j&&st(M)){var $,U;/.*touch.*/i.test(j)?U=k.getMouseInfo(P.changedTouches[0]):U=k.getMouseInfo(P),M(($=U)!==null&&$!==void 0?$:{},P)}}),Be(k,"handleClick",function(P){var j=k.getMouseInfo(P);if(j){var M=ce(ce({},j),{},{isTooltipActive:!0});k.setState(M),k.triggerSyncEvent(M);var $=k.props.onClick;st($)&&$(M,P)}}),Be(k,"handleMouseDown",function(P){var j=k.props.onMouseDown;if(st(j)){var M=k.getMouseInfo(P);j(M,P)}}),Be(k,"handleMouseUp",function(P){var j=k.props.onMouseUp;if(st(j)){var M=k.getMouseInfo(P);j(M,P)}}),Be(k,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Be(k,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.handleMouseDown(P.changedTouches[0])}),Be(k,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.handleMouseUp(P.changedTouches[0])}),Be(k,"handleDoubleClick",function(P){var j=k.props.onDoubleClick;if(st(j)){var M=k.getMouseInfo(P);j(M,P)}}),Be(k,"handleContextMenu",function(P){var j=k.props.onContextMenu;if(st(j)){var M=k.getMouseInfo(P);j(M,P)}}),Be(k,"triggerSyncEvent",function(P){k.props.syncId!==void 0&&BN.emit(UN,k.props.syncId,P,k.eventEmitterSymbol)}),Be(k,"applySyncEvent",function(P){var j=k.props,M=j.layout,$=j.syncMethod,U=k.state.updateId,F=P.dataStartIndex,z=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)k.setState(ce({dataStartIndex:F,dataEndIndex:z},g({props:k.props,dataStartIndex:F,dataEndIndex:z,updateId:U},k.state)));else if(P.activeTooltipIndex!==void 0){var V=P.chartX,X=P.chartY,J=P.activeTooltipIndex,H=k.state,G=H.offset,B=H.tooltipTicks;if(!G)return;if(typeof $=="function")J=$(B,P);else if($==="value"){J=-1;for(var ee=0;ee<B.length;ee++)if(B[ee].value===P.activeLabel){J=ee;break}}var ne=ce(ce({},G),{},{x:G.left,y:G.top}),q=Math.min(V,ne.x+ne.width),Y=Math.min(X,ne.y+ne.height),re=B[J]&&B[J].value,ue=dI(k.state,k.props.data,J),me=B[J]?{x:M==="horizontal"?B[J].coordinate:q,y:M==="horizontal"?Y:B[J].coordinate}:dY;k.setState(ce(ce({},P),{},{activeLabel:re,activeCoordinate:me,activePayload:ue,activeTooltipIndex:J}))}else k.setState(P)}),Be(k,"renderCursor",function(P){var j,M=k.state,$=M.isTooltipActive,U=M.activeCoordinate,F=M.activePayload,z=M.offset,V=M.activeTooltipIndex,X=M.tooltipAxisBandSize,J=k.getTooltipEventType(),H=(j=P.props.active)!==null&&j!==void 0?j:$,G=k.props.layout,B=P.key||"_recharts-cursor";return W.createElement(TEe,{key:B,activeCoordinate:U,activePayload:F,activeTooltipIndex:V,chartName:t,element:P,isActive:H,layout:G,offset:z,tooltipAxisBandSize:X,tooltipEventType:J})}),Be(k,"renderPolarAxis",function(P,j,M){var $=Ks(P,"type.axisType"),U=Ks(k.state,"".concat($,"Map")),F=P.type.defaultProps,z=F!==void 0?ce(ce({},F),P.props):P.props,V=U&&U[z["".concat($,"Id")]];return R.cloneElement(P,ce(ce({},V),{},{className:pt($,V.className),key:P.key||"".concat(j,"-").concat(M),ticks:Ll(V,!0)}))}),Be(k,"renderPolarGrid",function(P){var j=P.props,M=j.radialLines,$=j.polarAngles,U=j.polarRadius,F=k.state,z=F.radiusAxisMap,V=F.angleAxisMap,X=Dc(z),J=Dc(V),H=J.cx,G=J.cy,B=J.innerRadius,ee=J.outerRadius;return R.cloneElement(P,{polarAngles:Array.isArray($)?$:Ll(J,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(U)?U:Ll(X,!0).map(function(ne){return ne.coordinate}),cx:H,cy:G,innerRadius:B,outerRadius:ee,key:P.key||"polar-grid",radialLines:M})}),Be(k,"renderLegend",function(){var P=k.state.formattedGraphicalItems,j=k.props,M=j.children,$=j.width,U=j.height,F=k.props.margin||{},z=$-(F.left||0)-(F.right||0),V=oK({children:M,formattedGraphicalItems:P,legendWidth:z,legendContent:c});if(!V)return null;var X=V.item,J=F8(V,PEe);return R.cloneElement(X,ce(ce({},J),{},{chartWidth:$,chartHeight:U,margin:F,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),Be(k,"renderTooltip",function(){var P,j=k.props,M=j.children,$=j.accessibilityLayer,U=ls(M,Ga);if(!U)return null;var F=k.state,z=F.isTooltipActive,V=F.activeCoordinate,X=F.activePayload,J=F.activeLabel,H=F.offset,G=(P=U.props.active)!==null&&P!==void 0?P:z;return R.cloneElement(U,{viewBox:ce(ce({},H),{},{x:H.left,y:H.top}),active:G,label:J,payload:G?X:[],coordinate:V,accessibilityLayer:$})}),Be(k,"renderBrush",function(P){var j=k.props,M=j.margin,$=j.data,U=k.state,F=U.offset,z=U.dataStartIndex,V=U.dataEndIndex,X=U.updateId;return R.cloneElement(P,{key:P.key||"_recharts-brush",onChange:P_(k.handleBrushChange,P.props.onChange),data:$,x:xe(P.props.x)?P.props.x:F.left,y:xe(P.props.y)?P.props.y:F.top+F.height+F.brushBottom-(M.bottom||0),width:xe(P.props.width)?P.props.width:F.width,startIndex:z,endIndex:V,updateId:"brush-".concat(X)})}),Be(k,"renderReferenceElement",function(P,j,M){if(!P)return null;var $=k,U=$.clipPathId,F=k.state,z=F.xAxisMap,V=F.yAxisMap,X=F.offset,J=P.type.defaultProps||{},H=P.props,G=H.xAxisId,B=G===void 0?J.xAxisId:G,ee=H.yAxisId,ne=ee===void 0?J.yAxisId:ee;return R.cloneElement(P,{key:P.key||"".concat(j,"-").concat(M),xAxis:z[B],yAxis:V[ne],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:U})}),Be(k,"renderActivePoints",function(P){var j=P.item,M=P.activePoint,$=P.basePoint,U=P.childIndex,F=P.isRange,z=[],V=j.props.key,X=j.item.type.defaultProps!==void 0?ce(ce({},j.item.type.defaultProps),j.item.props):j.item.props,J=X.activeDot,H=X.dataKey,G=ce(ce({index:U,dataKey:H,cx:M.x,cy:M.y,r:4,fill:YM(j.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},bt(J,!1)),eS(J));return z.push(_.renderActiveDot(J,G,"".concat(V,"-activePoint-").concat(U))),$?z.push(_.renderActiveDot(J,ce(ce({},G),{},{cx:$.x,cy:$.y}),"".concat(V,"-basePoint-").concat(U))):F&&z.push(null),z}),Be(k,"renderGraphicChild",function(P,j,M){var $=k.filterFormatItem(P,j,M);if(!$)return null;var U=k.getTooltipEventType(),F=k.state,z=F.isTooltipActive,V=F.tooltipAxis,X=F.activeTooltipIndex,J=F.activeLabel,H=k.props.children,G=ls(H,Ga),B=$.props,ee=B.points,ne=B.isRange,q=B.baseLine,Y=$.item.type.defaultProps!==void 0?ce(ce({},$.item.type.defaultProps),$.item.props):$.item.props,re=Y.activeDot,ue=Y.hide,me=Y.activeBar,ge=Y.activeShape,oe=!!(!ue&&z&&G&&(re||me||ge)),we={};U!=="axis"&&G&&G.props.trigger==="click"?we={onClick:P_(k.handleItemMouseEnter,P.props.onClick)}:U!=="axis"&&(we={onMouseLeave:P_(k.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:P_(k.handleItemMouseEnter,P.props.onMouseEnter)});var le=R.cloneElement(P,ce(ce({},$.props),we));function pe(Qt){return typeof V.dataKey=="function"?V.dataKey(Qt.payload):null}if(oe)if(X>=0){var be,ae;if(V.dataKey&&!V.allowDuplicatedCategory){var We=typeof V.dataKey=="function"?pe:"payload.".concat(V.dataKey.toString());be=J2(ee,We,J),ae=ne&&q&&J2(q,We,J)}else be=ee==null?void 0:ee[X],ae=ne&&q&&q[X];if(ge||me){var De=P.props.activeIndex!==void 0?P.props.activeIndex:X;return[R.cloneElement(P,ce(ce(ce({},$.props),we),{},{activeIndex:De})),null,null]}if(!Et(be))return[le].concat(Tg(k.renderActivePoints({item:$,activePoint:be,basePoint:ae,childIndex:X,isRange:ne})))}else{var xt,gt=(xt=k.getItemByXY(k.state.activeCoordinate))!==null&&xt!==void 0?xt:{graphicalItem:le},_t=gt.graphicalItem,In=_t.item,Jt=In===void 0?P:In,ys=_t.childIndex,Mn=ce(ce(ce({},$.props),we),{},{activeIndex:ys});return[R.cloneElement(Jt,Mn),null,null]}return ne?[le,null,null]:[le,null]}),Be(k,"renderCustomized",function(P,j,M){return R.cloneElement(P,ce(ce({key:"recharts-customized-".concat(M)},k.props),k.state))}),Be(k,"renderMap",{CartesianGrid:{handler:I_,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:I_},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:I_},YAxis:{handler:I_},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((A=E.id)!==null&&A!==void 0?A:zA("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=a9(k.triggeredAfterMouseMove,(C=E.throttleDelay)!==null&&C!==void 0?C:1e3/60),k.state={},k}return UEe(_,b),LEe(_,[{key:"componentDidMount",value:function(){var A,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,C=A.children,k=A.data,P=A.height,j=A.layout,M=ls(C,Ga);if(M){var $=M.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,F=dI(this.state,k,$,U),z=this.state.tooltipTicks[$].coordinate,V=(this.state.offset.top+P)/2,X=j==="horizontal",J=X?{x:z,y:V}:{y:z,x:V},H=this.state.formattedGraphicalItems.find(function(B){var ee=B.item;return ee.type.name==="Scatter"});H&&(J=ce(ce({},J),H.props.points[$].tooltipPosition),F=H.props.points[$].tooltipPayload);var G={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:U,activePayload:F,activeCoordinate:J};this.setState(G),this.renderCursor(M),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var k,P;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(A){Z2([ls(A.children,Ga)],[ls(this.props.children,Ga)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=ls(this.props.children,Ga);if(A&&typeof A.props.shared=="boolean"){var C=A.props.shared?"axis":"item";return o.indexOf(C)>=0?C:s}return s}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var C=this.container,k=C.getBoundingClientRect(),P=lge(k),j={chartX:Math.round(A.pageX-P.left),chartY:Math.round(A.pageY-P.top)},M=k.width/C.offsetWidth||1,$=this.inRange(j.chartX,j.chartY,M);if(!$)return null;var U=this.state,F=U.xAxisMap,z=U.yAxisMap,V=this.getTooltipEventType(),X=U8(this.state,this.props.data,this.props.layout,$);if(V!=="axis"&&F&&z){var J=Dc(F).scale,H=Dc(z).scale,G=J&&J.invert?J.invert(j.chartX):null,B=H&&H.invert?H.invert(j.chartY):null;return ce(ce({},j),{},{xValue:G,yValue:B},X)}return X?ce(ce({},j),X):null}},{key:"inRange",value:function(A,C){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,j=A/k,M=C/k;if(P==="horizontal"||P==="vertical"){var $=this.state.offset,U=j>=$.left&&j<=$.left+$.width&&M>=$.top&&M<=$.top+$.height;return U?{x:j,y:M}:null}var F=this.state,z=F.angleAxisMap,V=F.radiusAxisMap;if(z&&V){var X=Dc(z);return a6({x:j,y:M},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,C=this.getTooltipEventType(),k=ls(A,Ga),P={};k&&C==="axis"&&(k.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=eS(this.props,this.handleOuterEvent);return ce(ce({},j),P)}},{key:"addListener",value:function(){BN.on(UN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){BN.removeListener(UN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,C,k){for(var P=this.state.formattedGraphicalItems,j=0,M=P.length;j<M;j++){var $=P[j];if($.item===A||$.props.key===A.key||C===Fl($.item.type)&&k===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,C=this.state.offset,k=C.left,P=C.top,j=C.height,M=C.width;return W.createElement("defs",null,W.createElement("clipPath",{id:A},W.createElement("rect",{x:k,y:P,height:j,width:M})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(C,k){var P=$8(k,2),j=P[0],M=P[1];return ce(ce({},C),{},Be({},j,M.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(C,k){var P=$8(k,2),j=P[0],M=P[1];return ce(ce({},C),{},Be({},j,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[A])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(A){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[A])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(A){var C=this.state,k=C.formattedGraphicalItems,P=C.activeItem;if(k&&k.length)for(var j=0,M=k.length;j<M;j++){var $=k[j],U=$.props,F=$.item,z=F.type.defaultProps!==void 0?ce(ce({},F.type.defaultProps),F.props):F.props,V=Fl(F.type);if(V==="Bar"){var X=(U.data||[]).find(function(B){return P_e(A,B)});if(X)return{graphicalItem:$,payload:X}}else if(V==="RadialBar"){var J=(U.data||[]).find(function(B){return a6(A,B)});if(J)return{graphicalItem:$,payload:J}}else if(oE($,P)||lE($,P)||x0($,P)){var H=b1e({graphicalItem:$,activeTooltipItem:P,itemData:z.data}),G=z.activeIndex===void 0?H:z.activeIndex;return{graphicalItem:ce(ce({},$),{},{childIndex:G}),payload:x0($,P)?z.data[H]:$.props.data[H]}}}return null}},{key:"render",value:function(){var A=this;if(!y3(this))return null;var C=this.props,k=C.children,P=C.className,j=C.width,M=C.height,$=C.style,U=C.compact,F=C.title,z=C.desc,V=F8(C,OEe),X=bt(V,!1);if(U)return W.createElement(_8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(tj,wp({},X,{width:j,height:M,title:F,desc:z}),this.renderClipPath(),w3(k,this.renderMap)));if(this.props.accessibilityLayer){var J,H;X.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,X.role=(H=this.props.role)!==null&&H!==void 0?H:"application",X.onKeyDown=function(B){A.accessibilityManager.keyboardEvent(B)},X.onFocus=function(){A.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return W.createElement(_8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",wp({className:pt("recharts-wrapper",P),style:ce({position:"relative",cursor:"default",width:j,height:M},$)},G,{ref:function(ee){A.container=ee}}),W.createElement(tj,wp({},X,{width:j,height:M,title:F,desc:z,style:GEe}),this.renderClipPath(),w3(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(R.Component);Be(x,"displayName",t),Be(x,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Be(x,"getDerivedStateFromProps",function(b,_){var E=b.dataKey,A=b.data,C=b.children,k=b.width,P=b.height,j=b.layout,M=b.stackOffset,$=b.margin,U=_.dataStartIndex,F=_.dataEndIndex;if(_.updateId===void 0){var z=z8(b);return ce(ce(ce({},z),{},{updateId:0},g(ce(ce({props:b},z),{},{updateId:0}),_)),{},{prevDataKey:E,prevData:A,prevWidth:k,prevHeight:P,prevLayout:j,prevStackOffset:M,prevMargin:$,prevChildren:C})}if(E!==_.prevDataKey||A!==_.prevData||k!==_.prevWidth||P!==_.prevHeight||j!==_.prevLayout||M!==_.prevStackOffset||!Pp($,_.prevMargin)){var V=z8(b),X={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},J=ce(ce({},U8(_,A,j)),{},{updateId:_.updateId+1}),H=ce(ce(ce({},V),X),J);return ce(ce(ce({},H),g(ce({props:b},H),_)),{},{prevDataKey:E,prevData:A,prevWidth:k,prevHeight:P,prevLayout:j,prevStackOffset:M,prevMargin:$,prevChildren:C})}if(!Z2(C,_.prevChildren)){var G,B,ee,ne,q=ls(C,bg),Y=q&&(G=(B=q.props)===null||B===void 0?void 0:B.startIndex)!==null&&G!==void 0?G:U,re=q&&(ee=(ne=q.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&ee!==void 0?ee:F,ue=Y!==U||re!==F,me=!Et(A),ge=me&&!ue?_.updateId:_.updateId+1;return ce(ce({updateId:ge},g(ce(ce({props:b},_),{},{updateId:ge,dataStartIndex:Y,dataEndIndex:re}),_)),{},{prevChildren:C,dataStartIndex:Y,dataEndIndex:re})}return null}),Be(x,"renderActiveDot",function(b,_,E){var A;return R.isValidElement(b)?A=R.cloneElement(b,_):st(b)?A=b(_):A=W.createElement(AK,_),W.createElement(mn,{className:"recharts-active-dot",key:E},A)});var y=R.forwardRef(function(_,E){return W.createElement(x,wp({},_,{ref:E}))});return y.displayName=x.displayName,y},ike=nke({chartName:"BarChart",GraphicalChild:$u,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:pE},{axisType:"yAxis",AxisComp:mE}],formatAxisMap:mSe});function ske({user:r,token:e,onLogout:t}){const n=No(),[i,s]=R.useState(!0),[a,o]=R.useState([]);R.useEffect(()=>{l()},[]);const l=async()=>{try{const{progress:A}=await gr.getProgress(e);o(A||[])}catch(A){console.error("Load error:",A)}finally{s(!1)}},c=A=>{switch(A){case"mastered":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400";case"improving":return"bg-violet-100 text-violet-700 dark:bg-violet-900/30 dark:text-violet-400";case"learning":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";default:return"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400"}},d=A=>{switch(A){case"mastered":return"Mastered";case"improving":return"Improving";case"learning":return"Learning";default:return"New"}};if(i)return w.jsxs("div",{className:"min-h-screen bg-transparent flex flex-col justify-center items-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-500"}),w.jsx("p",{className:"mt-4 text-slate-500",children:"Loading your progress..."})]});const f=a.filter(A=>A.mastery_level==="mastered").length,m=a.filter(A=>A.mastery_level==="learning").length,g=a.filter(A=>A.mastery_level==="improving").length,x=a.length,y=a.length>0?Math.round(a.reduce((A,C)=>A+(C.day1_score||0),0)/a.length):0,b=a.filter(A=>A.day1_score||A.day7_score).map(A=>({name:A.topic.substring(0,8)+(A.topic.length>8?"...":""),fullTopic:A.topic,day1:A.day1_score||0,day7:A.day7_score||A.day3_score||0}));b.some(A=>A.day7>A.day1);const _=b.length>0?Math.round(b.reduce((A,C)=>A+(C.day7-C.day1),0)/b.length):0,E=()=>x===0?"Upload notes to activate the analysis engine.":f>x/2?"You're doing excellently. More than half your topics are mastered.":y>=70?"Strong recall scores. You're retaining most of what you study.":_>0?"Your scores are improving over time. Keep revising.":"Keep practicing. Every revision makes you stronger.";return w.jsxs("div",{className:"min-h-screen bg-transparent font-sans",children:[w.jsx(Du,{user:r,onLogout:t}),w.jsxs("main",{className:"max-w-4xl mx-auto p-6 md:p-12 relative z-10",children:[w.jsxs("div",{className:"mb-8 text-center animate-fade-in-up",children:[w.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-violet-100 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400 text-sm font-semibold mb-6",children:[w.jsx(Tu,{className:"w-4 h-4"}),"Your Progress"]}),w.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white mb-3",children:"Your Progress"}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg max-w-xl mx-auto",children:"Here's a simple overview of your learning journey so far."})]}),w.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8 animate-fade-in-up stagger-1",children:[{label:"Topics Studied",value:x,icon:CA,color:"violet"},{label:"Mastered",value:f,icon:Yne,color:"emerald"},{label:"In Progress",value:m+g,icon:ju,color:"amber"},{label:"Avg. Score",value:`${y}%`,icon:xy,color:"indigo"}].map((A,C)=>w.jsx(nr,{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm border border-slate-200/60 dark:border-slate-700/60 shadow-lg rounded-2xl overflow-hidden",children:w.jsxs(mr,{className:"p-5",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[w.jsx("div",{className:`p-2 rounded-lg bg-${A.color}-100 dark:bg-${A.color}-900/30`,children:w.jsx(A.icon,{className:`w-5 h-5 text-${A.color}-600 dark:text-${A.color}-400`})}),w.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:A.label})]}),w.jsx("h3",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:A.value})]})},C))}),w.jsx(nr,{className:"bg-gradient-to-r from-violet-50 to-indigo-50 dark:from-violet-900/20 dark:to-indigo-900/20 border border-violet-200 dark:border-violet-800 rounded-2xl mb-8 animate-fade-in-up stagger-2",children:w.jsx(mr,{className:"p-6",children:w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-violet-500 rounded-xl flex items-center justify-center shrink-0",children:w.jsx(R1,{className:"w-6 h-6 text-white"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-violet-800 dark:text-violet-200 mb-1",children:"What this means for you"}),w.jsx("p",{className:"text-violet-600 dark:text-violet-400 leading-relaxed",children:E()})]})]})})}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[w.jsxs(nr,{className:"lg:col-span-3 bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm border border-slate-200/60 dark:border-slate-700/60 shadow-xl rounded-2xl overflow-hidden animate-fade-in-up stagger-3",children:[w.jsxs(Td,{className:"p-6 pb-2",children:[w.jsx(Pd,{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:" Your Memory Over Time"}),w.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Compare your first try vs. later revisions"})]}),w.jsx(mr,{className:"p-6 pt-2",children:w.jsx("div",{className:"h-[280px] w-full",children:b.length>0?w.jsxs(w.Fragment,{children:[w.jsx(tge,{width:"100%",height:"100%",children:w.jsxs(ike,{data:b,margin:{top:20,right:10,left:0,bottom:0},children:[w.jsx(ZK,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(148, 163, 184, 0.2)"}),w.jsx(pE,{dataKey:"name",stroke:"#94a3b8",fontSize:11,tickLine:!1,axisLine:!1}),w.jsx(mE,{stroke:"#94a3b8",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:A=>`${A}%`}),w.jsx(Ga,{cursor:{fill:"rgba(139, 92, 246, 0.1)"},contentStyle:{backgroundColor:"white",borderRadius:"12px",border:"1px solid #e2e8f0",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"12px"},formatter:(A,C)=>[`${A}%`,C==="day1"?"First Try":"After Practice"]}),w.jsx($u,{dataKey:"day1",name:"First Try",fill:"#c4b5fd",radius:[6,6,0,0],barSize:20}),w.jsx($u,{dataKey:"day7",name:"After Practice",fill:"#8b5cf6",radius:[6,6,0,0],barSize:20})]})}),w.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-xl",children:w.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[w.jsx("span",{className:"font-semibold text-slate-800 dark:text-white",children:"Reading this chart:"})," The ",w.jsx("span",{className:"text-violet-400 font-medium",children:"light purple"})," bars show your first attempt. The ",w.jsx("span",{className:"text-violet-600 font-medium",children:"dark purple"})," bars show how much you remember after practicing.",_>0&&w.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:[" You're improving by about ",_,"% on average."]})]})})]}):w.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center gap-4",children:[w.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-400 to-indigo-500 rounded-2xl flex items-center justify-center shadow-lg",children:w.jsx(xy,{className:"w-8 h-8 text-white"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1",children:"Awaiting diagnostic input"}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm max-w-xs",children:"Complete revisions to generate retention curves."})]}),w.jsxs(yt,{onClick:()=>n("/upload"),className:"mt-2 bg-violet-600 hover:bg-violet-700 text-white rounded-xl",children:[w.jsx(og,{className:"w-4 h-4 mr-2"}),"Upload Notes"]})]})})})]}),w.jsxs(nr,{className:"lg:col-span-2 bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm border border-slate-200/60 dark:border-slate-700/60 shadow-xl rounded-2xl overflow-hidden animate-fade-in-up stagger-4",children:[w.jsxs(Td,{className:"p-6 pb-2",children:[w.jsx(Pd,{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:"Your Topics"}),w.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"How you're doing in each area"})]}),w.jsx(mr,{className:"p-4 max-h-[380px] overflow-y-auto",children:a.length>0?w.jsx("div",{className:"space-y-3",children:a.map((A,C)=>w.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[w.jsxs("div",{className:"flex-1 min-w-0 pr-3",children:[w.jsx("p",{className:"font-semibold text-sm text-slate-800 dark:text-white truncate",children:A.topic}),w.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:A.subject})]}),w.jsx(_de,{className:`shrink-0 text-xs font-medium px-2.5 py-1 rounded-lg ${c(A.mastery_level)}`,children:d(A.mastery_level)})]},C))}):w.jsxs("div",{className:"text-center py-12",children:[w.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-xl flex items-center justify-center mx-auto mb-4",children:w.jsx(sW,{className:"w-7 h-7 text-white"})}),w.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-1",children:"Ready to analyze"}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-4",children:"Topics will populate after initial upload"}),w.jsx(yt,{onClick:()=>n("/upload"),size:"sm",className:"bg-violet-600 hover:bg-violet-700 text-white rounded-xl",children:"Upload Notes"})]})})]})]}),a.length>0&&w.jsx(nr,{className:"mt-8 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-2xl animate-fade-in-up stagger-5",children:w.jsxs(mr,{className:"p-6",children:[w.jsxs("h3",{className:"font-bold text-emerald-800 dark:text-emerald-200 mb-3 flex items-center gap-2",children:[w.jsx(Gne,{className:"w-5 h-5"}),"Tips to improve faster"]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-emerald-700 dark:text-emerald-300",children:[w.jsxs("div",{className:"flex items-start gap-2",children:[w.jsx(xy,{className:"w-5 h-5 text-emerald-600 shrink-0 mt-0.5"}),w.jsxs("p",{children:[w.jsx("strong",{children:"Revise daily"}),"  Short, frequent sessions beat long cramming"]})]}),w.jsxs("div",{className:"flex items-start gap-2",children:[w.jsx(ju,{className:"w-5 h-5 text-emerald-600 shrink-0 mt-0.5"}),w.jsxs("p",{children:[w.jsx("strong",{children:'Focus on "Learning"'}),"  Topics still in progress need more attention"]})]}),w.jsxs("div",{className:"flex items-start gap-2",children:[w.jsx(R1,{className:"w-5 h-5 text-emerald-600 shrink-0 mt-0.5"}),w.jsxs("p",{children:[w.jsx("strong",{children:"Be honest"}),"  Rate yourself accurately to get better recommendations"]})]})]})]})})]}),w.jsxs("div",{className:"fixed inset-0 -z-10 pointer-events-none overflow-hidden",children:[w.jsx("div",{className:"absolute top-[10%] left-[-5%] w-[40%] h-[40%] rounded-full bg-violet-200/30 blur-[140px]"}),w.jsx("div",{className:"absolute top-[40%] right-[-10%] w-[35%] h-[35%] rounded-full bg-indigo-200/30 blur-[120px]"})]})]})}var aD="Switch",[ake]=Bu(aD),[oke,lke]=ake(aD),fY=R.forwardRef((r,e)=>{const{__scopeSwitch:t,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:d,...f}=r,[m,g]=R.useState(null),x=wt(e,A=>g(A)),y=R.useRef(!1),b=m?d||!!m.closest("form"):!0,[_=!1,E]=sg({prop:i,defaultProp:s,onChange:c});return w.jsxs(oke,{scope:t,checked:_,disabled:o,children:[w.jsx(at.button,{type:"button",role:"switch","aria-checked":_,"aria-required":a,"data-state":gY(_),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:x,onClick:Je(r.onClick,A=>{E(C=>!C),b&&(y.current=A.isPropagationStopped(),y.current||A.stopPropagation())})}),b&&w.jsx(cke,{control:m,bubbles:!y.current,name:n,value:l,checked:_,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});fY.displayName=aD;var pY="SwitchThumb",mY=R.forwardRef((r,e)=>{const{__scopeSwitch:t,...n}=r,i=lke(pY,t);return w.jsx(at.span,{"data-state":gY(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});mY.displayName=pY;var cke=r=>{const{control:e,checked:t,bubbles:n=!0,...i}=r,s=R.useRef(null),a=II(t),o=NI(e);return R.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(a!==t&&f){const m=new Event("click",{bubbles:n});f.call(l,t),l.dispatchEvent(m)}},[a,t,n]),w.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:s,style:{...r.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function gY(r){return r?"checked":"unchecked"}var uke=fY,dke=mY;function H8({className:r,...e}){return w.jsx(uke,{"data-slot":"switch",className:Xt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:w.jsx(dke,{"data-slot":"switch-thumb",className:Xt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function hke({user:r,token:e,onLogout:t,onUserUpdate:n}){const i=No(),[s,a]=R.useState(!1),[o,l]=R.useState(document.documentElement.classList.contains("dark")),[c,d]=R.useState(!0),[f,m]=R.useState((r==null?void 0:r.name)||""),[g,x]=R.useState((r==null?void 0:r.class)||""),[y,b]=R.useState((r==null?void 0:r.exam_type)||"None"),_=C=>{l(C),C?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")),tt.success(C?"Dark mode enabled":"Light mode enabled")},E=async()=>{a(!0);try{const{error:C}=await gr.updateProfile(e,{name:f,class:g,exam_type:y});C?tt.error(C):(tt.success("Profile updated successfully"),n&&n({...r,name:f,class:g,exam_type:y}))}catch{tt.error("Failed to update profile")}finally{a(!1)}},A=async()=>{if(confirm("Are you sure you want to delete your account? This action cannot be undone.")){a(!0);try{tt.success("Account deletion requested. You will receive a confirmation email.")}catch{tt.error("Failed to delete account")}finally{a(!1)}}};return w.jsxs("div",{className:"min-h-screen bg-transparent font-sans",children:[w.jsx(Du,{user:r,onLogout:t}),w.jsxs("main",{className:"max-w-3xl mx-auto p-6 md:p-12 relative z-10",children:[w.jsxs("div",{className:"mb-8 animate-fade-in-up",children:[w.jsxs(yt,{variant:"ghost",onClick:()=>i("/dashboard"),className:"mb-4 text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:[w.jsx(Hne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-violet-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg shadow-violet-500/25",children:w.jsx(oW,{className:"w-7 h-7 text-white"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:"Settings"}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage your account and preferences"})]})]})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs(nr,{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm border border-slate-200/60 dark:border-slate-700/60 shadow-xl rounded-2xl overflow-hidden animate-fade-in-up",children:[w.jsx(Td,{className:"p-6 pb-4 border-b border-slate-100 dark:border-slate-700",children:w.jsxs(Pd,{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[w.jsx("div",{className:"p-2 rounded-xl bg-violet-100 dark:bg-violet-900/30",children:w.jsx($I,{className:"w-5 h-5 text-violet-600 dark:text-violet-400"})}),"Profile"]})}),w.jsxs(mr,{className:"p-6 space-y-5",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(Yn,{htmlFor:"name",className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Display Name"}),w.jsx(Zo,{id:"name",value:f,onChange:C=>m(C.target.value),placeholder:"Enter your name",className:"h-12 rounded-xl border-slate-200 dark:border-slate-700"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(Yn,{htmlFor:"class",className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Class"}),w.jsxs(j1,{value:g,onValueChange:x,children:[w.jsx(M1,{className:"h-12 rounded-xl border-slate-200 dark:border-slate-700",children:w.jsx(I1,{placeholder:"Select class"})}),w.jsx(D1,{children:["9","10","11","12","Undergraduate","Postgraduate"].map(C=>w.jsx(L1,{value:C,children:C},C))})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Yn,{htmlFor:"exam",className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Exam Preparation"}),w.jsxs(j1,{value:y,onValueChange:b,children:[w.jsx(M1,{className:"h-12 rounded-xl border-slate-200 dark:border-slate-700",children:w.jsx(I1,{placeholder:"Select exam"})}),w.jsx(D1,{children:["None","JEE","NEET","UPSC","CAT","GATE","GRE","Other"].map(C=>w.jsx(L1,{value:C,children:C},C))})]})]})]}),w.jsx(yt,{onClick:E,disabled:s,className:"w-full h-12 rounded-xl bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 text-white font-semibold shadow-lg",children:s?w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx(Fie,{className:"w-4 h-4"}),"Save Changes"]})})]})]}),w.jsxs(nr,{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm border border-slate-200/60 dark:border-slate-700/60 shadow-xl rounded-2xl overflow-hidden animate-fade-in-up stagger-1",children:[w.jsx(Td,{className:"p-6 pb-4 border-b border-slate-100 dark:border-slate-700",children:w.jsxs(Pd,{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[w.jsx("div",{className:"p-2 rounded-xl bg-amber-100 dark:bg-amber-900/30",children:o?w.jsx(Iie,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}):w.jsx(Kie,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),"Appearance"]})}),w.jsx(mr,{className:"p-6",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold text-slate-800 dark:text-white",children:"Dark Mode"}),w.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Reduce eye strain in low-light environments"})]}),w.jsx(H8,{checked:o,onCheckedChange:_})]})})]}),w.jsxs(nr,{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm border border-slate-200/60 dark:border-slate-700/60 shadow-xl rounded-2xl overflow-hidden animate-fade-in-up stagger-2",children:[w.jsx(Td,{className:"p-6 pb-4 border-b border-slate-100 dark:border-slate-700",children:w.jsxs(Pd,{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[w.jsx("div",{className:"p-2 rounded-xl bg-emerald-100 dark:bg-emerald-900/30",children:w.jsx(Jne,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"Notifications"]})}),w.jsx(mr,{className:"p-6 space-y-4",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold text-slate-800 dark:text-white",children:"Revision Reminders"}),w.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Get notified when topics are due for review"})]}),w.jsx(H8,{checked:c,onCheckedChange:d})]})})]}),w.jsxs(nr,{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm border border-slate-200/60 dark:border-slate-700/60 shadow-xl rounded-2xl overflow-hidden animate-fade-in-up stagger-3",children:[w.jsx(Td,{className:"p-6 pb-4 border-b border-slate-100 dark:border-slate-700",children:w.jsxs(Pd,{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[w.jsx("div",{className:"p-2 rounded-xl bg-rose-100 dark:bg-rose-900/30",children:w.jsx(lW,{className:"w-5 h-5 text-rose-600 dark:text-rose-400"})}),"Account"]})}),w.jsxs(mr,{className:"p-6 space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold text-slate-800 dark:text-white",children:"Email"}),w.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:(r==null?void 0:r.email)||"Not set"})]}),w.jsx(Ws,{className:"w-5 h-5 text-emerald-500"})]}),w.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700",children:[w.jsxs(yt,{variant:"outline",onClick:A,className:"w-full h-12 rounded-xl border-rose-200 text-rose-600 hover:bg-rose-50 dark:border-rose-800 dark:hover:bg-rose-900/20",children:[w.jsx(Jie,{className:"w-4 h-4 mr-2"}),"Delete Account"]}),w.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 text-center mt-3",children:"This will permanently delete your account and all associated data."})]})]})]})]})]}),w.jsxs("div",{className:"fixed inset-0 -z-10 pointer-events-none overflow-hidden",children:[w.jsx("div",{className:"absolute top-[10%] left-[-5%] w-[40%] h-[40%] rounded-full bg-violet-200/30 blur-[140px]"}),w.jsx("div",{className:"absolute top-[40%] right-[-10%] w-[35%] h-[35%] rounded-full bg-indigo-200/30 blur-[120px]"})]})]})}var fke=(r,e,t,n,i,s,a,o)=>{let l=document.documentElement,c=["light","dark"];function d(g){(Array.isArray(r)?r:[r]).forEach(x=>{let y=x==="class",b=y&&s?i.map(_=>s[_]||_):i;y?(l.classList.remove(...b),l.classList.add(s&&s[g]?s[g]:g)):l.setAttribute(x,g)}),f(g)}function f(g){o&&c.includes(g)&&(l.style.colorScheme=g)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)d(n);else try{let g=localStorage.getItem(e)||t,x=a&&g==="system"?m():g;d(x)}catch{}},pke=R.createContext(void 0),mke={setTheme:r=>{},themes:[]},gke=()=>{var r;return(r=R.useContext(pke))!=null?r:mke};R.memo(({forcedTheme:r,storageKey:e,attribute:t,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:l,scriptProps:c})=>{let d=JSON.stringify([t,e,s,r,o,a,n,i]).slice(1,-1);return R.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${fke.toString()})(${d})`}})});const vke=({...r})=>{const{theme:e="system"}=gke();return w.jsx(Nse,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r})};function yke(r,e){return R.useReducer((t,n)=>e[t][n]??t,r)}var oD="ScrollArea",[vY]=Bu(oD),[bke,Zs]=vY(oD),yY=R.forwardRef((r,e)=>{const{__scopeScrollArea:t,type:n="hover",dir:i,scrollHideDelay:s=600,...a}=r,[o,l]=R.useState(null),[c,d]=R.useState(null),[f,m]=R.useState(null),[g,x]=R.useState(null),[y,b]=R.useState(null),[_,E]=R.useState(0),[A,C]=R.useState(0),[k,P]=R.useState(!1),[j,M]=R.useState(!1),$=wt(e,F=>l(F)),U=_w(i);return w.jsx(bke,{scope:t,type:n,dir:U,scrollHideDelay:s,scrollArea:o,viewport:c,onViewportChange:d,content:f,onContentChange:m,scrollbarX:g,onScrollbarXChange:x,scrollbarXEnabled:k,onScrollbarXEnabledChange:P,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:j,onScrollbarYEnabledChange:M,onCornerWidthChange:E,onCornerHeightChange:C,children:w.jsx(at.div,{dir:U,...a,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":A+"px",...r.style}})})});yY.displayName=oD;var bY="ScrollAreaViewport",wY=R.forwardRef((r,e)=>{const{__scopeScrollArea:t,children:n,nonce:i,...s}=r,a=Zs(bY,t),o=R.useRef(null),l=wt(e,o,a.onViewportChange);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),w.jsx(at.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...r.style},children:w.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});wY.displayName=bY;var Io="ScrollAreaScrollbar",xY=R.forwardRef((r,e)=>{const{forceMount:t,...n}=r,i=Zs(Io,r.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=r.orientation==="horizontal";return R.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?w.jsx(wke,{...n,ref:e,forceMount:t}):i.type==="scroll"?w.jsx(xke,{...n,ref:e,forceMount:t}):i.type==="auto"?w.jsx(_Y,{...n,ref:e,forceMount:t}):i.type==="always"?w.jsx(lD,{...n,ref:e}):null});xY.displayName=Io;var wke=R.forwardRef((r,e)=>{const{forceMount:t,...n}=r,i=Zs(Io,r.__scopeScrollArea),[s,a]=R.useState(!1);return R.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),a(!0)},d=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),w.jsx(Ig,{present:t||s,children:w.jsx(_Y,{"data-state":s?"visible":"hidden",...n,ref:e})})}),xke=R.forwardRef((r,e)=>{const{forceMount:t,...n}=r,i=Zs(Io,r.__scopeScrollArea),s=r.orientation==="horizontal",a=yE(()=>l("SCROLL_END"),100),[o,l]=yke("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return R.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),R.useEffect(()=>{const c=i.viewport,d=s?"scrollLeft":"scrollTop";if(c){let f=c[d];const m=()=>{const g=c[d];f!==g&&(l("SCROLL"),a()),f=g};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[i.viewport,s,l,a]),w.jsx(Ig,{present:t||o!=="hidden",children:w.jsx(lD,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Je(r.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Je(r.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),_Y=R.forwardRef((r,e)=>{const t=Zs(Io,r.__scopeScrollArea),{forceMount:n,...i}=r,[s,a]=R.useState(!1),o=r.orientation==="horizontal",l=yE(()=>{if(t.viewport){const c=t.viewport.offsetWidth<t.viewport.scrollWidth,d=t.viewport.offsetHeight<t.viewport.scrollHeight;a(o?c:d)}},10);return Pg(t.viewport,l),Pg(t.content,l),w.jsx(Ig,{present:n||s,children:w.jsx(lD,{"data-state":s?"visible":"hidden",...i,ref:e})})}),lD=R.forwardRef((r,e)=>{const{orientation:t="vertical",...n}=r,i=Zs(Io,r.__scopeScrollArea),s=R.useRef(null),a=R.useRef(0),[o,l]=R.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=CY(o.viewport,o.content),d={...n,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function f(m,g){return Cke(m,a.current,o,g)}return t==="horizontal"?w.jsx(_ke,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollLeft,g=W8(m,o,i.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=f(m,i.dir))}}):t==="vertical"?w.jsx(Ske,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollTop,g=W8(m,o);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=f(m))}}):null}),_ke=R.forwardRef((r,e)=>{const{sizes:t,onSizesChange:n,...i}=r,s=Zs(Io,r.__scopeScrollArea),[a,o]=R.useState(),l=R.useRef(null),c=wt(e,l,s.onScrollbarXChange);return R.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),w.jsx(AY,{"data-orientation":"horizontal",...i,ref:c,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vE(t)+"px",...r.style},onThumbPointerDown:d=>r.onThumbPointerDown(d.x),onDragScroll:d=>r.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const m=s.viewport.scrollLeft+d.deltaX;r.onWheelScroll(m),PY(m,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:XS(a.paddingLeft),paddingEnd:XS(a.paddingRight)}})}})}),Ske=R.forwardRef((r,e)=>{const{sizes:t,onSizesChange:n,...i}=r,s=Zs(Io,r.__scopeScrollArea),[a,o]=R.useState(),l=R.useRef(null),c=wt(e,l,s.onScrollbarYChange);return R.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),w.jsx(AY,{"data-orientation":"vertical",...i,ref:c,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vE(t)+"px",...r.style},onThumbPointerDown:d=>r.onThumbPointerDown(d.y),onDragScroll:d=>r.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const m=s.viewport.scrollTop+d.deltaY;r.onWheelScroll(m),PY(m,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:XS(a.paddingTop),paddingEnd:XS(a.paddingBottom)}})}})}),[Ake,SY]=vY(Io),AY=R.forwardRef((r,e)=>{const{__scopeScrollArea:t,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...m}=r,g=Zs(Io,t),[x,y]=R.useState(null),b=wt(e,$=>y($)),_=R.useRef(null),E=R.useRef(""),A=g.viewport,C=n.content-n.viewport,k=Nn(d),P=Nn(l),j=yE(f,10);function M($){if(_.current){const U=$.clientX-_.current.left,F=$.clientY-_.current.top;c({x:U,y:F})}}return R.useEffect(()=>{const $=U=>{const F=U.target;(x==null?void 0:x.contains(F))&&k(U,C)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[A,x,C,k]),R.useEffect(P,[n,P]),Pg(x,j),Pg(g.content,j),w.jsx(Ake,{scope:t,scrollbar:x,hasThumb:i,onThumbChange:Nn(s),onThumbPointerUp:Nn(a),onThumbPositionChange:P,onThumbPointerDown:Nn(o),children:w.jsx(at.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:Je(r.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),_.current=x.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),M($))}),onPointerMove:Je(r.onPointerMove,M),onPointerUp:Je(r.onPointerUp,$=>{const U=$.target;U.hasPointerCapture($.pointerId)&&U.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=E.current,g.viewport&&(g.viewport.style.scrollBehavior=""),_.current=null})})})}),YS="ScrollAreaThumb",EY=R.forwardRef((r,e)=>{const{forceMount:t,...n}=r,i=SY(YS,r.__scopeScrollArea);return w.jsx(Ig,{present:t||i.hasThumb,children:w.jsx(Eke,{ref:e,...n})})}),Eke=R.forwardRef((r,e)=>{const{__scopeScrollArea:t,style:n,...i}=r,s=Zs(YS,t),a=SY(YS,t),{onThumbPositionChange:o}=a,l=wt(e,f=>a.onThumbChange(f)),c=R.useRef(void 0),d=yE(()=>{c.current&&(c.current(),c.current=void 0)},100);return R.useEffect(()=>{const f=s.viewport;if(f){const m=()=>{if(d(),!c.current){const g=Tke(f,o);c.current=g,o()}};return o(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[s.viewport,d,o]),w.jsx(at.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Je(r.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),x=f.clientX-g.left,y=f.clientY-g.top;a.onThumbPointerDown({x,y})}),onPointerUp:Je(r.onPointerUp,a.onThumbPointerUp)})});EY.displayName=YS;var cD="ScrollAreaCorner",kY=R.forwardRef((r,e)=>{const t=Zs(cD,r.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?w.jsx(kke,{...r,ref:e}):null});kY.displayName=cD;var kke=R.forwardRef((r,e)=>{const{__scopeScrollArea:t,...n}=r,i=Zs(cD,t),[s,a]=R.useState(0),[o,l]=R.useState(0),c=!!(s&&o);return Pg(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),Pg(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),a(d)}),c?w.jsx(at.div,{...n,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function XS(r){return r?parseInt(r,10):0}function CY(r,e){const t=r/e;return isNaN(t)?0:t}function vE(r){const e=CY(r.viewport,r.content),t=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,n=(r.scrollbar.size-t)*e;return Math.max(n,18)}function Cke(r,e,t,n="ltr"){const i=vE(t),s=i/2,a=e||s,o=i-a,l=t.scrollbar.paddingStart+a,c=t.scrollbar.size-t.scrollbar.paddingEnd-o,d=t.content-t.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return TY([l,c],f)(r)}function W8(r,e,t="ltr"){const n=vE(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-n,l=t==="ltr"?[0,a]:[a*-1,0],c=Oy(r,l);return TY([0,a],[0,o])(c)}function TY(r,e){return t=>{if(r[0]===r[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(r[1]-r[0]);return e[0]+n*(t-r[0])}}function PY(r,e){return r>0&&r<e}var Tke=(r,e=()=>{})=>{let t={left:r.scrollLeft,top:r.scrollTop},n=0;return(function i(){const s={left:r.scrollLeft,top:r.scrollTop},a=t.left!==s.left,o=t.top!==s.top;(a||o)&&e(),t=s,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function yE(r,e){const t=Nn(r),n=R.useRef(0);return R.useEffect(()=>()=>window.clearTimeout(n.current),[]),R.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,e)},[t,e])}function Pg(r,e){const t=Nn(e);Zn(()=>{let n=0;if(r){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return i.observe(r),()=>{window.cancelAnimationFrame(n),i.unobserve(r)}}},[r,t])}var Pke=yY,Oke=wY,Nke=kY;function Rke({className:r,children:e,...t}){return w.jsxs(Pke,{"data-slot":"scroll-area",className:Xt("relative",r),...t,children:[w.jsx(Oke,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),w.jsx(jke,{}),w.jsx(Nke,{})]})}function jke({className:r,orientation:e="vertical",...t}){return w.jsx(xY,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Xt("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",r),...t,children:w.jsx(EY,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function Ike(){const[r,e]=R.useState(!1),[t,n]=R.useState([{id:"welcome",role:"assistant",content:"Hi! I'm your AI Subject Helper. Stuck on a concept? Ask me anything!",timestamp:new Date}]),[i,s]=R.useState(""),[a,o]=R.useState(!1),l=R.useRef(null);R.useEffect(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[t,r]);const c=async()=>{if(!i.trim())return;const f={id:Date.now().toString(),role:"user",content:i,timestamp:new Date};n(m=>[...m,f]),s(""),o(!0);try{const m=localStorage.getItem("access_token")||"",{response:g,error:x}=await gr.chat(m,f.content);if(x){tt.error("AI is having trouble connecting.");return}const y={id:(Date.now()+1).toString(),role:"assistant",content:g||"I'm not sure about that yet.",timestamp:new Date};n(b=>[...b,y])}catch(m){console.error("Chat error",m),tt.error("Failed to send message")}finally{o(!1)}},d=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),c())};return w.jsxs(w.Fragment,{children:[w.jsx(yt,{onClick:()=>e(!r),className:`fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-xl transition-all duration-300 z-50 ${r?"rotate-90 opacity-0 scale-75 pointer-events-none":"opacity-100 scale-100"} bg-gradient-to-tr from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white`,children:w.jsx(Tu,{className:"h-6 w-6"})}),w.jsx("div",{className:`fixed bottom-6 right-6 z-50 transition-all duration-300 origin-bottom-right ${r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-10 pointer-events-none"}`,children:w.jsxs(nr,{className:"w-[350px] sm:w-[380px] h-[500px] shadow-2xl border-indigo-100 dark:border-indigo-900 flex flex-col overflow-hidden",children:[w.jsxs(Td,{className:"p-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white shrink-0 flex flex-row items-center justify-between space-y-0",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"p-1.5 bg-white/20 rounded-lg backdrop-blur-sm",children:w.jsx(eie,{className:"h-5 w-5"})}),w.jsxs("div",{children:[w.jsx(Pd,{className:"text-base font-bold",children:"ConceptPulse AI"}),w.jsx("p",{className:"text-xs text-indigo-100 font-medium opacity-90",children:"Subject Expert"})]})]}),w.jsx(yt,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 h-8 w-8 rounded-full",onClick:()=>e(!1),children:w.jsx(FI,{className:"h-5 w-5"})})]}),w.jsx(mr,{className:"p-0 flex-1 overflow-hidden relative bg-slate-50 dark:bg-slate-950/50",children:w.jsx(Rke,{className:"h-full p-4",ref:l,children:w.jsxs("div",{className:"flex flex-col gap-4",children:[t.map(f=>w.jsxs("div",{className:`flex items-start gap-2.5 max-w-[85%] ${f.role==="user"?"ml-auto flex-row-reverse":""}`,children:[w.jsx("div",{className:`h-8 w-8 shrink-0 rounded-full flex items-center justify-center border ${f.role==="user"?"bg-indigo-100 border-indigo-200 text-indigo-700 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-emerald-100 border-emerald-200 text-emerald-700 dark:bg-emerald-900/30 dark:border-emerald-800 dark:text-emerald-400"}`,children:f.role==="user"?w.jsx($I,{className:"h-4 w-4"}):w.jsx(Tu,{className:"h-4 w-4"})}),w.jsxs("div",{className:`p-3 rounded-2xl text-sm leading-relaxed shadow-sm ${f.role==="user"?"bg-indigo-600 text-white rounded-tr-none":"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-tl-none"}`,children:[f.content,w.jsx("p",{className:`text-[10px] mt-1.5 opacity-70 ${f.role==="user"?"text-indigo-200":"text-slate-400"}`,children:f.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},f.id)),a&&w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"h-8 w-8 rounded-full bg-emerald-100 border-emerald-200 flex items-center justify-center",children:w.jsx(Tu,{className:"h-4 w-4 text-emerald-600"})}),w.jsx("div",{className:"bg-white border rounded-2xl rounded-tl-none px-4 py-3 shadow-sm",children:w.jsxs("div",{className:"flex gap-1",children:[w.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),w.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),w.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"})]})})]})]})})}),w.jsx(iee,{className:"p-3 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 shrink-0",children:w.jsxs("form",{onSubmit:f=>{f.preventDefault(),c()},className:"flex w-full items-center gap-2",children:[w.jsx(Zo,{value:i,onChange:f=>s(f.target.value),onKeyDown:d,placeholder:"Ask about Physics, Math...",className:"flex-1 bg-slate-50 dark:bg-slate-950 border-slate-200 dark:border-slate-800 focus-visible:ring-indigo-500",disabled:a}),w.jsx(yt,{type:"submit",size:"icon",disabled:a||!i.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white shrink-0",children:w.jsx(Uie,{className:"h-4 w-4"})})]})})]})})]})}function Mke(){const[r,e]=R.useState(null),[t,n]=R.useState(!0),[i,s]=R.useState(null);R.useEffect(()=>{const d=localStorage.getItem("access_token");d?(s(d),a(d)):n(!1)},[]);const a=async d=>{try{const{session:f,user:m}=await gr.getSession(d);f&&m?(e(m),s(d)):(localStorage.removeItem("access_token"),s(null))}catch(f){console.error("Session load error:",f),localStorage.removeItem("access_token"),s(null)}finally{n(!1)}},o=(d,f)=>{localStorage.setItem("access_token",d),s(d),e(f)},l=()=>{localStorage.removeItem("access_token"),s(null),e(null)},c=d=>{e(d)};return t?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):w.jsx(iZ,{children:w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsxs(jQ,{children:[w.jsx(la,{path:"/auth",element:r?r.class?w.jsx($i,{to:"/dashboard",replace:!0}):w.jsx($i,{to:"/onboarding",replace:!0}):w.jsx(Vue,{onAuth:o})}),w.jsx(la,{path:"/onboarding",element:r&&!r.class?w.jsx(Gue,{user:r,token:i,onComplete:c}):r?w.jsx($i,{to:"/dashboard",replace:!0}):w.jsx($i,{to:"/auth",replace:!0})}),w.jsx(la,{path:"/dashboard",element:r&&r.class?w.jsx(Yue,{user:r,token:i,onLogout:l}):r?w.jsx($i,{to:"/onboarding",replace:!0}):w.jsx($i,{to:"/auth",replace:!0})}),w.jsx(la,{path:"/upload",element:r&&r.class?w.jsx(Jue,{user:r,token:i,onLogout:l}):w.jsx($i,{to:"/auth",replace:!0})}),w.jsx(la,{path:"/diagnosis/:topic",element:r&&r.class?w.jsx(Que,{user:r,token:i,onLogout:l}):w.jsx($i,{to:"/auth",replace:!0})}),w.jsx(la,{path:"/correction/:topic",element:r&&r.class?w.jsx(Zue,{user:r,token:i,onLogout:l}):w.jsx($i,{to:"/auth",replace:!0})}),w.jsx(la,{path:"/revision",element:r&&r.class?w.jsx(wde,{user:r,token:i,onLogout:l}):w.jsx($i,{to:"/auth",replace:!0})}),w.jsx(la,{path:"/progress",element:r&&r.class?w.jsx(ske,{user:r,token:i,onLogout:l}):w.jsx($i,{to:"/auth",replace:!0})}),w.jsx(la,{path:"/settings",element:r&&r.class?w.jsx(hke,{user:r,token:i,onLogout:l,onUserUpdate:c}):w.jsx($i,{to:"/auth",replace:!0})}),w.jsx(la,{path:"*",element:w.jsx($i,{to:r?"/dashboard":"/auth",replace:!0})})]}),w.jsx(vke,{}),r&&r.class&&w.jsx(Ike,{})]})})}const V8={BASE_URL:"/MY-APP/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_AI_API_KEY:"your_ai_api_key_here",VITE_AI_SERVICE_URL:"https://api.openai.com/v1",VITE_API_BASE_URL:"https://onswemqebfrvtoqozuae.supabase.co/functions/v1/make-server-812a95c3",VITE_APP_ENV:"development",VITE_JWT_SECRET:"your_jwt_secret_here",VITE_LOG_LEVEL:"info",VITE_STORAGE_BUCKET:"make-812a95c3-notes",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9uc3dlbXFlYmZydnRvcW96dWFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwMDQ3NDIsImV4cCI6MjA4MjU4MDc0Mn0.uJydGy5rVgAZL5fStSVWcYA6Gb9cmbvgeC11AU1RgNc",VITE_SUPABASE_URL:"https://onswemqebfrvtoqozuae.supabase.co"},Dke=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","VITE_APP_ENV"],Lke=["VITE_AI_API_KEY","VITE_AI_SERVICE_URL","VITE_STORAGE_BUCKET","VITE_JWT_SECRET","VITE_LOG_LEVEL"];function OY(){const r=[],e=[],t={};console.log(" Validating environment configuration...");for(const i of Dke){const s=V8[i];!s||s.trim()===""?r.push(`Missing required environment variable: ${i}`):(t[i]=s,console.log(` ${i}: ${s.substring(0,20)}...`))}t.VITE_API_BASE_URL="https://onswemqebfrvtoqozuae.supabase.co/functions/v1/make-server-812a95c3",console.log(" Mock mode enabled - using simulated API");for(const i of Lke){const s=V8[i];!s||s.trim()===""?e.push(`Optional environment variable not set: ${i}`):(t[i]=s,console.log(` ${i}: ${s.substring(0,20)}...`))}t.VITE_SUPABASE_URL&&!G8(t.VITE_SUPABASE_URL)&&r.push("VITE_SUPABASE_URL must be a valid URL"),t.VITE_API_BASE_URL&&!G8(t.VITE_API_BASE_URL)&&r.push("VITE_API_BASE_URL must be a valid URL"),t.VITE_APP_ENV&&!["development","staging","production"].includes(t.VITE_APP_ENV)&&r.push("VITE_APP_ENV must be one of: development, staging, production");const n=r.length===0;return n?console.log(" Environment validation passed"):(console.error(" Environment validation failed:"),r.forEach(i=>console.error(`  - ${i}`))),e.length>0&&(console.warn(" Environment warnings:"),e.forEach(i=>console.warn(`  - ${i}`))),{isValid:n,errors:r,warnings:e,config:t}}function G8(r){try{return new URL(r),!0}catch{return!1}}function K8(){const r=OY();if(!r.isValid)throw new Error(`Environment validation failed:
${r.errors.join(`
`)}`);return r.config}function $ke(){var r;if(console.log(" Checking runtime environment..."),typeof process<"u"&&((r=process.versions)!=null&&r.node)){const e=process.versions.node;if(parseInt(e.split(".")[0])<18)throw new Error(`Node.js version ${e} is not supported. Please use Node.js 18 or higher.`);console.log(` Node.js version: ${e}`)}if(typeof window<"u"){console.log(" Running in browser environment");const t=["fetch","localStorage","sessionStorage","URL"].filter(n=>!(n in window));if(t.length>0)throw new Error(`Missing required browser APIs: ${t.join(", ")}`)}console.log(" Runtime environment check passed")}class Fke{constructor(){he(this,"startTime",Date.now())}async checkHealth(){console.log(" Starting comprehensive health check...");const e=new Date().toISOString(),t=Date.now()-this.startTime;return console.log(" Health check completed (mock mode)"),{status:"healthy",timestamp:e,services:{database:{status:"ok",responseTime:0,message:"Mock mode - database simulation active",lastChecked:e},api:{status:"ok",responseTime:0,message:"Mock mode - API simulation active",lastChecked:e},storage:{status:"ok",responseTime:0,message:"Mock mode - storage simulation active",lastChecked:e},ai:{status:"ok",responseTime:0,message:"Mock mode - AI simulation active",lastChecked:e}},version:"1.0.0",uptime:t}}async checkDatabase(){const e=Date.now();try{console.log(" Checking database connection...");const{data:t,error:n}=await zC.auth.getSession();if(n&&n.message!=="Auth session missing!")throw n;return{status:"ok",responseTime:Date.now()-e,message:"Database connection successful",lastChecked:new Date().toISOString(),details:{provider:"Supabase",connectionPool:"active"}}}catch(t){return{status:"error",responseTime:Date.now()-e,message:`Database connection failed: ${t instanceof Error?t.message:"Unknown error"}`,lastChecked:new Date().toISOString(),details:{error:t instanceof Error?t.message:"Unknown error"}}}}async checkAPI(){const e=Date.now();try{console.log(" Checking Supabase API...");const{error:t}=await zC.auth.getSession(),n=Date.now()-e;return t&&t.message!=="Auth session missing!"?{status:"degraded",responseTime:n,message:`Supabase API warning: ${t.message}`,lastChecked:new Date().toISOString(),details:{error:t.message}}:{status:"ok",responseTime:n,message:"Supabase API accessible",lastChecked:new Date().toISOString(),details:{provider:"Supabase",authEnabled:!0}}}catch(t){const n=Date.now()-e,i=t instanceof Error?t.message:"Unknown error";return{status:"degraded",responseTime:n,message:`API check: ${i}`,lastChecked:new Date().toISOString(),details:{error:i}}}}async checkStorage(){const e=Date.now();try{console.log(" Checking storage service...");const{data:t,error:n}=await zC.storage.listBuckets();if(n)throw n;const s=K8().VITE_STORAGE_BUCKET||"make-812a95c3-notes",a=t==null?void 0:t.some(l=>l.name===s),o=Date.now()-e;return{status:a?"ok":"degraded",responseTime:o,message:a?"Storage bucket accessible":"Storage bucket not found but service is reachable",lastChecked:new Date().toISOString(),details:{bucketName:s,bucketExists:a,availableBuckets:(t==null?void 0:t.length)||0}}}catch(t){return{status:"error",responseTime:Date.now()-e,message:`Storage check failed: ${t instanceof Error?t.message:"Unknown error"}`,lastChecked:new Date().toISOString(),details:{error:t instanceof Error?t.message:"Unknown error"}}}}async checkAI(){const e=Date.now();try{console.log(" Checking AI service...");const t=K8();return!t.VITE_AI_API_KEY||t.VITE_AI_API_KEY==="sk-test-key-placeholder"?{status:"degraded",responseTime:0,message:"AI service not configured (using fallback)",lastChecked:new Date().toISOString(),details:{configured:!1,fallbackMode:!0}}:{status:"ok",responseTime:Date.now()-e,message:"AI service configured and accessible",lastChecked:new Date().toISOString(),details:{configured:!0,provider:"OpenAI"}}}catch(t){return{status:"error",responseTime:Date.now()-e,message:`AI service check failed: ${t instanceof Error?t.message:"Unknown error"}`,lastChecked:new Date().toISOString(),details:{error:t instanceof Error?t.message:"Unknown error"}}}}getServiceResult(e){return e.status==="fulfilled"?e.value:{status:"error",responseTime:0,message:`Service check failed: ${e.reason}`,lastChecked:new Date().toISOString(),details:{error:e.reason}}}calculateOverallStatus(e){const t=Object.values(e).map(n=>n.status);return t.every(n=>n==="ok")?"healthy":t.some(n=>n==="error")?"unhealthy":"degraded"}logHealthStatus(e){console.log(`${{healthy:"",degraded:"",unhealthy:""}[e.status]} Overall system status: ${e.status.toUpperCase()}`),console.log(` System uptime: ${Math.round(e.uptime/1e3)}s`),Object.entries(e.services).forEach(([n,i])=>{const s=i.status==="ok"?"":i.status==="degraded"?"":"";console.log(`${s} ${n}: ${i.message} (${i.responseTime}ms)`)})}}const Bke=new Fke;async function Uke(){return Bke.checkHealth()}class zke{constructor(){he(this,"baseUrl");this.baseUrl="https://onswemqebfrvtoqozuae.supabase.co/functions/v1/make-server-812a95c3"}async validateAllEndpoints(){return console.log(" Starting comprehensive API validation..."),console.log(" API validation skipped (mock mode enabled)"),{results:[{endpoint:"/health",method:"GET",status:"pass",responseTime:0,message:"Mock mode - skipped"},{endpoint:"/session",method:"GET",status:"pass",responseTime:0,message:"Mock mode - skipped"},{endpoint:"/notes",method:"GET",status:"pass",responseTime:0,message:"Mock mode - skipped"},{endpoint:"/topics",method:"GET",status:"pass",responseTime:0,message:"Mock mode - skipped"},{endpoint:"/diagnostic/generate",method:"POST",status:"pass",responseTime:0,message:"Mock mode - skipped"},{endpoint:"/revisions",method:"GET",status:"pass",responseTime:0,message:"Mock mode - skipped"},{endpoint:"/progress",method:"GET",status:"pass",responseTime:0,message:"Mock mode - skipped"}],overallStatus:"pass",totalTests:7,passedTests:7,failedTests:0,warningTests:0}}async testHealthEndpoint(){const e=Date.now();try{const t=await gr.getSession(""),n=Date.now()-e;return"error"in t&&t.error&&t.error!=="Unauthorized"?{endpoint:"/supabase/auth",method:"GET",status:"warning",responseTime:n,message:`Supabase auth returned: ${t.error}`}:{endpoint:"/supabase/auth",method:"GET",status:"pass",responseTime:n,message:"Supabase services working correctly"}}catch(t){return{endpoint:"/supabase/auth",method:"GET",status:"warning",responseTime:Date.now()-e,message:`Supabase check: ${t instanceof Error?t.message:"Unknown error"}`}}}async testAuthEndpoints(){const e=[],t=Date.now();try{const n=await gr.getSession("invalid-token"),i=Date.now()-t;n.session===null&&n.user===null?e.push({endpoint:"/session",method:"GET",status:"pass",responseTime:i,message:"Session endpoint handles invalid tokens correctly"}):e.push({endpoint:"/session",method:"GET",status:"warning",responseTime:i,message:"Session endpoint behavior unexpected for invalid token",details:n})}catch(n){e.push({endpoint:"/session",method:"GET",status:"fail",responseTime:Date.now()-t,message:`Session endpoint failed: ${n instanceof Error?n.message:"Unknown error"}`})}return e}async testNotesEndpoints(){const e=[],t=Date.now();try{const n=await gr.getNotes("invalid-token"),i=Date.now()-t;n.error==="Unauthorized"?e.push({endpoint:"/notes",method:"GET",status:"pass",responseTime:i,message:"Notes endpoint properly requires authentication"}):e.push({endpoint:"/notes",method:"GET",status:"warning",responseTime:i,message:"Notes endpoint should require authentication",details:n})}catch(n){e.push({endpoint:"/notes",method:"GET",status:"fail",responseTime:Date.now()-t,message:`Notes endpoint failed: ${n instanceof Error?n.message:"Unknown error"}`})}return e}async testTopicsEndpoints(){const e=[],t=Date.now();try{const n=await gr.getTopics("invalid-token"),i=Date.now()-t;n.error==="Unauthorized"?e.push({endpoint:"/topics",method:"GET",status:"pass",responseTime:i,message:"Topics endpoint properly requires authentication"}):e.push({endpoint:"/topics",method:"GET",status:"warning",responseTime:i,message:"Topics endpoint should require authentication",details:n})}catch(n){e.push({endpoint:"/topics",method:"GET",status:"fail",responseTime:Date.now()-t,message:`Topics endpoint failed: ${n instanceof Error?n.message:"Unknown error"}`})}return e}async testDiagnosticEndpoints(){const e=[],t=Date.now();try{const n=await gr.generateDiagnostic("invalid-token","test-topic","test-subject"),i=Date.now()-t;"error"in n&&n.error&&n.error==="Unauthorized"?e.push({endpoint:"/diagnostic/generate",method:"POST",status:"pass",responseTime:i,message:"Diagnostic generation endpoint properly requires authentication"}):e.push({endpoint:"/diagnostic/generate",method:"POST",status:"warning",responseTime:i,message:"Diagnostic generation endpoint should require authentication",details:n})}catch(n){e.push({endpoint:"/diagnostic/generate",method:"POST",status:"fail",responseTime:Date.now()-t,message:`Diagnostic generation endpoint failed: ${n instanceof Error?n.message:"Unknown error"}`})}return e}async testRevisionEndpoints(){const e=[],t=Date.now();try{const n=await gr.getRevisions("invalid-token"),i=Date.now()-t;n.error==="Unauthorized"?e.push({endpoint:"/revisions",method:"GET",status:"pass",responseTime:i,message:"Revisions endpoint properly requires authentication"}):e.push({endpoint:"/revisions",method:"GET",status:"warning",responseTime:i,message:"Revisions endpoint should require authentication",details:n})}catch(n){e.push({endpoint:"/revisions",method:"GET",status:"fail",responseTime:Date.now()-t,message:`Revisions endpoint failed: ${n instanceof Error?n.message:"Unknown error"}`})}return e}async testProgressEndpoints(){const e=[],t=Date.now();try{const n=await gr.getProgress("invalid-token"),i=Date.now()-t;n.error==="Unauthorized"?e.push({endpoint:"/progress",method:"GET",status:"pass",responseTime:i,message:"Progress endpoint properly requires authentication"}):e.push({endpoint:"/progress",method:"GET",status:"warning",responseTime:i,message:"Progress endpoint should require authentication",details:n})}catch(n){e.push({endpoint:"/progress",method:"GET",status:"fail",responseTime:Date.now()-t,message:`Progress endpoint failed: ${n instanceof Error?n.message:"Unknown error"}`})}return e}logValidationResults(e){const t={pass:"",fail:"",warning:""};console.log(`${t[e.overallStatus]} API Validation Results:`),console.log(`Total: ${e.totalTests}, Passed: ${e.passedTests}, Failed: ${e.failedTests}, Warnings: ${e.warningTests}`),e.results.forEach(n=>{const i=t[n.status];console.log(`${i} ${n.method} ${n.endpoint}: ${n.message} (${n.responseTime}ms)`)})}}const qke=new zke;async function Hke(){return qke.validateAllEndpoints()}const Cd=class Cd{constructor(){he(this,"isValidated",!1);he(this,"validationResult",null)}static getInstance(){return Cd.instance||(Cd.instance=new Cd),Cd.instance}async validateStartup(){if(this.isValidated&&this.validationResult)return this.validationResult;console.log(" Starting ConceptPulse application validation..."),console.log("=====================================");const e=[],t=[],n=new Date().toISOString();try{console.log(" Step 1: Runtime Environment Validation"),$ke(),console.log(" Step 2: Environment Variables Validation");const i=OY();i.isValid||e.push(...i.errors),t.push(...i.warnings),console.log(" Step 3: Critical Services Health Check");const s=await Uke();if(s.status==="unhealthy"){const l=Object.entries(s.services).filter(([c,d])=>d.status==="error").map(([c,d])=>`${c}: ${d.message}`);t.push(...l.map(c=>`Service degraded: ${c}`))}else if(s.status==="degraded"){const l=Object.entries(s.services).filter(([c,d])=>d.status==="degraded").map(([c,d])=>`${c}: ${d.message}`);t.push(...l)}console.log(" Step 4: API Connectivity Test"),await this.testAPIConnectivity(),console.log(" Step 5: Comprehensive API Validation");const a=await Hke();if(a.overallStatus==="fail"){const l=a.results.filter(c=>c.status==="fail").map(c=>`${c.method} ${c.endpoint}: ${c.message}`);t.push(...l.map(c=>`API endpoint issue: ${c}`))}if(a.overallStatus==="warning"){const l=a.results.filter(c=>c.status==="warning").map(c=>`${c.method} ${c.endpoint}: ${c.message}`);t.push(...l)}console.log(" Step 6: Authentication System Test"),await this.testAuthenticationSystem();const o=e.length===0;return this.validationResult={success:o,errors:e,warnings:t,healthStatus:s,timestamp:n},this.isValidated=!0,o?(console.log(" Application startup validation completed successfully!"),console.log("=====================================")):(console.error(" Application startup validation failed!"),console.error("Errors:"),e.forEach(l=>console.error(`  - ${l}`)),console.error("=====================================")),t.length>0&&(console.warn(" Startup warnings:"),t.forEach(l=>console.warn(`  - ${l}`))),this.validationResult}catch(i){const s=i instanceof Error?i.message:"Unknown startup error";return e.push(s),this.validationResult={success:!1,errors:e,warnings:t,timestamp:n},console.error(" Critical startup error:",s),console.error("====================================="),this.validationResult}}async testAPIConnectivity(){{console.log(" API connectivity test skipped (mock mode enabled)");return}}async testAuthenticationSystem(){{console.log(" Authentication system test skipped (mock mode enabled)");return}}getValidationResult(){return this.validationResult}isApplicationReady(){var e;return this.isValidated&&((e=this.validationResult)==null?void 0:e.success)===!0}reset(){this.isValidated=!1,this.validationResult=null}};he(Cd,"instance");let hI=Cd;const Wke=hI.getInstance();async function Vke(){return Wke.validateStartup()}async function Gke(){{if(localStorage.getItem("mock_active_user_profile")){console.log(" Using existing demo session (skipping re-init)");return}console.log(" Initializing demo mode...");const{initializeDemoState:e,setupLocalStorage:t}=await M_(async()=>{const{initializeDemoState:i,setupLocalStorage:s}=await import("./initialize-demo-6KSjs24F.js");return{initializeDemoState:i,setupLocalStorage:s}},[]),n=e();t(n),console.log(" Demo mode initialized")}}async function Kke(){try{console.log(" ConceptPulse - Starting application..."),PW(),await Gke();const r=await Vke();if(!r.success){aC.createRoot(document.getElementById("root")).render(w.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[w.jsxs("div",{className:"text-center mb-4",children:[w.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),w.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Application Startup Failed"}),w.jsx("p",{className:"text-gray-600 mb-4",children:"ConceptPulse could not start due to configuration issues."})]}),w.jsxs("div",{className:"space-y-2 mb-4",children:[w.jsx("h3",{className:"font-semibold text-gray-900",children:"Errors:"}),w.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:r.errors.map((n,i)=>w.jsxs("li",{className:"flex items-start",children:[w.jsx("span",{className:"mr-2",children:""}),w.jsx("span",{children:n})]},i))})]}),r.warnings.length>0&&w.jsxs("div",{className:"space-y-2 mb-4",children:[w.jsx("h3",{className:"font-semibold text-gray-900",children:"Warnings:"}),w.jsx("ul",{className:"text-sm text-yellow-600 space-y-1",children:r.warnings.map((n,i)=>w.jsxs("li",{className:"flex items-start",children:[w.jsx("span",{className:"mr-2",children:""}),w.jsx("span",{children:n})]},i))})]}),w.jsx("div",{className:"text-center",children:w.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Retry"})})]})}));return}console.log(" Application validation passed - rendering app"),aC.createRoot(document.getElementById("root")).render(w.jsx(Mke,{}))}catch(r){console.error(" Critical application error:",r),aC.createRoot(document.getElementById("root")).render(w.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[w.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),w.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Critical Error"}),w.jsx("p",{className:"text-gray-600 mb-4",children:"A critical error occurred during application startup."}),w.jsx("p",{className:"text-sm text-red-600 mb-4 font-mono bg-red-50 p-2 rounded",children:r instanceof Error?r.message:"Unknown error"}),w.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Reload Application"})]})}))}}Kke();export{dle as D,Xke as a,Jke as g};
